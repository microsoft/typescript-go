--- old.jsdocTemplateTagNameResolution.js
+++ new.jsdocTemplateTagNameResolution.js
@@= skipped -12, +12 lines =@@
 const y = "a";

 //// [file.js]
+"use strict";
 /**
  * @template T
  * @template {keyof T} K
  * @typedef {T[K]} Foo
  */
+Object.defineProperty(exports, "__esModule", { value: true });
 const x = { a: 1 };
 /** @type {Foo<typeof x, "a">} */
 const y = "a";


 //// [file.d.ts]
-declare namespace x {
-    let a: number;
-}
-/** @type {Foo<typeof x, "a">} */
-declare const y: Foo<typeof x, "a">;
-type Foo<T, K extends keyof T> = T[K];
+/**
+ * @template T
+ * @template {keyof T} K
+ * @typedef {T[K]} Foo
+ */
+export type Foo<T, K extends keyof T> = T[K];