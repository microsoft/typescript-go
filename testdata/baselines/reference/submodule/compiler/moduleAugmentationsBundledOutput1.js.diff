--- old.moduleAugmentationsBundledOutput1.js
+++ new.moduleAugmentationsBundledOutput1.js
@@= skipped -53, +53 lines =@@
 c.baz2().x.toLowerCase();
 
 
-//// [out.js]
-define("m1", ["require", "exports"], function (require, exports) {
-    "use strict";
-    Object.defineProperty(exports, "__esModule", { value: true });
-    exports.Cls = void 0;
-    var Cls = /** @class */ (function () {
-        function Cls() {
-        }
-        return Cls;
-    }());
-    exports.Cls = Cls;
-});
-define("m2", ["require", "exports", "m1"], function (require, exports, m1_1) {
-    "use strict";
-    Object.defineProperty(exports, "__esModule", { value: true });
-    m1_1.Cls.prototype.foo = function () { return 1; };
-    m1_1.Cls.prototype.bar = function () { return "1"; };
-});
-define("m3", ["require", "exports"], function (require, exports) {
-    "use strict";
-    Object.defineProperty(exports, "__esModule", { value: true });
-    exports.C2 = exports.C1 = void 0;
-    var C1 = /** @class */ (function () {
-        function C1() {
-        }
-        return C1;
-    }());
-    exports.C1 = C1;
-    var C2 = /** @class */ (function () {
-        function C2() {
-        }
-        return C2;
-    }());
-    exports.C2 = C2;
-});
-define("m4", ["require", "exports", "m1"], function (require, exports, m1_2) {
-    "use strict";
-    Object.defineProperty(exports, "__esModule", { value: true });
-    m1_2.Cls.prototype.baz1 = function () { return undefined; };
-    m1_2.Cls.prototype.baz2 = function () { return undefined; };
-});
-define("test", ["require", "exports", "m2", "m4"], function (require, exports) {
-    "use strict";
-    Object.defineProperty(exports, "__esModule", { value: true });
-    var c;
-    c.foo().toExponential();
-    c.bar().toLowerCase();
-    c.baz1().x.toExponential();
-    c.baz2().x.toLowerCase();
-});
-
-
-//// [out.d.ts]
-declare module "m1" {
-    export class Cls {
-    }
+//// [m1.js]
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.Cls = void 0;
+class Cls {
 }
-declare module "m2" {
-    module "m1" {
-        interface Cls {
-            foo(): number;
-        }
-    }
-    module "m1" {
-        interface Cls {
-            bar(): string;
-        }
-    }
+exports.Cls = Cls;
+//// [m2.js]
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const m1_1 = require("./m1");
+m1_1.Cls.prototype.foo = function () { return 1; };
+m1_1.Cls.prototype.bar = function () { return "1"; };
+//// [m3.js]
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.C2 = exports.C1 = void 0;
+class C1 {
+    x;
 }
-declare module "m3" {
-    export class C1 {
-        x: number;
-    }
-    export class C2 {
-        x: string;
-    }
+exports.C1 = C1;
+class C2 {
+    x;
 }
-declare module "m4" {
-    import { C1, C2 } from "m3";
-    module "m1" {
-        interface Cls {
-            baz1(): C1;
-        }
-    }
-    module "m1" {
-        interface Cls {
-            baz2(): C2;
-        }
-    }
-}
-declare module "test" {
-    import "m2";
-    import "m4";
-}
+exports.C2 = C2;
+//// [m4.js]
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const m1_1 = require("./m1");
+m1_1.Cls.prototype.baz1 = function () { return undefined; };
+m1_1.Cls.prototype.baz2 = function () { return undefined; };
+//// [test.js]
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+require("m2");
+require("m4");
+let c;
+c.foo().toExponential();
+c.bar().toLowerCase();
+c.baz1().x.toExponential();
+c.baz2().x.toLowerCase();
