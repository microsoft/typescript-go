--- old.useBeforeDeclaration.js
+++ new.useBeforeDeclaration.js
@@= skipped -19, +19 lines =@@
 
 
 
-//// [test.js]
+//// [B.js]
 var ts;
 (function (ts) {
+    ts.sys = { version: "2.0.5" };
+})(ts || (ts = {}));
+//// [A.js]
+var ts;
+(function (ts) {
     function printVersion() {
-        log("Version: " + ts.sys.version); // the call of sys.version is deferred, should not report an error.
+        log("Version: " + sys.version);
     }
     ts.printVersion = printVersion;
     function log(info) {
     }
     ts.log = log;
 })(ts || (ts = {}));
-var ts;
-(function (ts) {
-    ts.sys = { version: "2.0.5" };
-})(ts || (ts = {}));
