--- old.declFileWithErrorsInInputDeclarationFileWithOut.js
+++ new.declFileWithErrorsInInputDeclarationFileWithOut.js
@@= skipped -14, +14 lines =@@
 var x = new M.C(); // Declaration file wont get emitted because there are errors in declaration file
 
 
-//// [out.js]
-///<reference path="declFile.d.ts" preserve="true"/>
-var x = new M.C(); // Declaration file wont get emitted because there are errors in declaration file
-
-
-//// [out.d.ts]
-/// <reference path="declFile.d.ts" preserve="true" />
-declare var x: M.C;
+//// [client.js]
+var x = new M.C();
