--- old.recursiveExportAssignmentAndFindAliasedType2.errors.txt
+++ new.recursiveExportAssignmentAndFindAliasedType2.errors.txt
@@= skipped -0, +0 lines =@@
 recursiveExportAssignmentAndFindAliasedType2_moduleDef.d.ts(2,5): error TS2303: Circular definition of import alias 'self'.
+recursiveExportAssignmentAndFindAliasedType2_moduleDef.d.ts(3,5): error TS2303: Circular definition of import alias 'self'.
+recursiveExportAssignmentAndFindAliasedType2_moduleDef.d.ts(6,5): error TS2303: Circular definition of import alias 'self'.
+recursiveExportAssignmentAndFindAliasedType2_moduleDef.d.ts(7,5): error TS2303: Circular definition of import alias 'self'.


 ==== recursiveExportAssignmentAndFindAliasedType2_moduleA.ts (0 errors) ====
@@= skipped -5, +8 lines =@@
     import moduleC = require("moduleC");
     import ClassB = require("./recursiveExportAssignmentAndFindAliasedType2_moduleB");
     export var b: ClassB; // This should result in type ClassB
-==== recursiveExportAssignmentAndFindAliasedType2_moduleDef.d.ts (1 errors) ====
+==== recursiveExportAssignmentAndFindAliasedType2_moduleDef.d.ts (4 errors) ====
     declare module "moduleC" {
         import self = require("moduleD");
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 !!! error TS2303: Circular definition of import alias 'self'.
         export = self;
+        ~~~~~~~~~~~~~~
+!!! error TS2303: Circular definition of import alias 'self'.
     }
     declare module "moduleD" {
         import self = require("moduleC");
+        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+!!! error TS2303: Circular definition of import alias 'self'.
         export = self;
+        ~~~~~~~~~~~~~~
+!!! error TS2303: Circular definition of import alias 'self'.
     }
     
 ==== recursiveExportAssignmentAndFindAliasedType2_moduleB.ts (0 errors) ====