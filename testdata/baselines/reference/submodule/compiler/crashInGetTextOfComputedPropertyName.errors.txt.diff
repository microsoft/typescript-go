--- old.crashInGetTextOfComputedPropertyName.errors.txt
+++ new.crashInGetTextOfComputedPropertyName.errors.txt
@@= skipped -0, +0 lines =@@
-<no content>
+crashInGetTextOfComputedPropertyName.ts(9,7): error TS2322: Type '{}' is not assignable to type '{ [id: string]: AB; }'.
+  Index signature for type 'string' is missing in type '{}'.
+crashInGetTextOfComputedPropertyName.ts(17,38): error TS2322: Type '{}' is not assignable to type '{ [s: string]: AB; }'.
+  Index signature for type 'string' is missing in type '{}'.
+crashInGetTextOfComputedPropertyName.ts(23,15): error TS2339: Property 'some-id' does not exist on type '{ [s: string]: AB; } | {}'.
+
+
+==== crashInGetTextOfComputedPropertyName.ts (3 errors) ====
+    // https://github.com/Microsoft/TypeScript/issues/29006
+    export interface A { type: 'a' }
+    export interface B { type: 'b' }
+    export type AB = A | B
+    
+    const itemId = 'some-id'
+    
+    // --- test on first level ---
+    const items: { [id: string]: AB } = {}
+          ~~~~~
+!!! error TS2322: Type '{}' is not assignable to type '{ [id: string]: AB; }'.
+!!! error TS2322:   Index signature for type 'string' is missing in type '{}'.
+    const { [itemId]: itemOk1 } = items
+    typeof itemOk1 // pass
+    
+    // --- test on second level ---
+    interface ObjWithItems {
+        items: {[s: string]: AB}
+    }
+    const objWithItems: ObjWithItems = { items: {}}
+                                         ~~~~~
+!!! error TS2322: Type '{}' is not assignable to type '{ [s: string]: AB; }'.
+!!! error TS2322:   Index signature for type 'string' is missing in type '{}'.
+!!! related TS6500 crashInGetTextOfComputedPropertyName.ts:15:5: The expected type comes from property 'items' which is declared here on type 'ObjWithItems'
+    
+    const itemOk2 = objWithItems.items[itemId]
+    typeof itemOk2 // pass
+    
+    const {
+        items: { [itemId]: itemWithTSError } = {} /*happens when default value is provided*/
+                  ~~~~~~
+!!! error TS2339: Property 'some-id' does not exist on type '{ [s: string]: AB; } | {}'.
+    } = objWithItems
+    
+    // in order to re-produce the error, uncomment next line:
+    typeof itemWithTSError // :(
+    
+    // will result in:
+    // Error from compilation: TypeError: Cannot read property 'charCodeAt' of undefined  TypeError: Cannot read property 'charCodeAt' of undefined