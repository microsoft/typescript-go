--- old.deepKeysIndexing.types
+++ new.deepKeysIndexing.types
@@= skipped -111, +111 lines =@@

 bar.workaround("a", "1", true); // ok - true is not allowed
 >bar.workaround("a", "1", true) : void
->bar.workaround : <K1 extends keyof Foo, K2 extends Extract<Foo[K1] extends object ? keyof Foo[K1] : never, string>, V extends Foo[K1][K2]>(k1: K1, k2: K2, value: V) => void
+>bar.workaround : <K1 extends keyof Foo, K2 extends keys2workaround<Foo, K1>, V extends Foo[K1][K2]>(k1: K1, k2: K2, value: V) => void
 >bar : Bar<Foo>
->workaround : <K1 extends keyof Foo, K2 extends Extract<Foo[K1] extends object ? keyof Foo[K1] : never, string>, V extends Foo[K1][K2]>(k1: K1, k2: K2, value: V) => void
+>workaround : <K1 extends keyof Foo, K2 extends keys2workaround<Foo, K1>, V extends Foo[K1][K2]>(k1: K1, k2: K2, value: V) => void
 >"a" : "a"
 >"1" : "1"
 >true : true