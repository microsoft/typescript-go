--- old.externalModuleResolution.js
+++ new.externalModuleResolution.js
@@= skipped -15, +15 lines =@@
 import x = require('./foo');
 x.Y // .ts should be picked
 
+//// [consumer.js]
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const x = require("./foo");
+x.Y;
 //// [foo.js]
 "use strict";
 var M2;
@@= skipped -7, +12 lines =@@
     M2.Y = 1;
 })(M2 || (M2 = {}));
 module.exports = M2;
-//// [consumer.js]
-"use strict";
-Object.defineProperty(exports, "__esModule", { value: true });
-var x = require("./foo");
-x.Y; // .ts should be picked
