SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Block'
        ImportSpecifier
          Identifier: ' Tokens'
        ImportSpecifier
          Identifier: ' Spec'
        ImportSpecifier
          Identifier: ' Line'
    StringLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' isSpace'
    Parameter
      Identifier: 'source'
      StringKeyword
    BooleanKeyword
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            RegularExpressionLiteral
            Identifier: 'test'
          Identifier: 'source'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' hasCR'
    Parameter
      Identifier: 'source'
      StringKeyword
    BooleanKeyword
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            RegularExpressionLiteral
            Identifier: 'test'
          Identifier: 'source'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' splitCR'
    Parameter
      Identifier: 'source'
      StringKeyword
    TupleType
      StringKeyword
      StringKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' matches'
            CallExpression
              PropertyAccessExpression
                Identifier: ' source'
                Identifier: 'match'
              RegularExpressionLiteral
      ReturnStatement
        ConditionalExpression
          BinaryExpression
            Identifier: ' matches'
            EqualsEqualsToken
            NullKeyword
          QuestionToken
          ArrayLiteralExpression
            StringLiteral
            Identifier: ' source'
          ColonToken
          ArrayLiteralExpression
            CallExpression
              PropertyAccessExpression
                Identifier: 'source'
                Identifier: 'slice'
              PrefixUnaryExpression
                PropertyAccessExpression
                  ElementAccessExpression
                    Identifier: 'matches'
                    NumericLiteral
                  Identifier: 'length'
            CallExpression
              PropertyAccessExpression
                Identifier: ' source'
                Identifier: 'slice'
              NumericLiteral
              PrefixUnaryExpression
                PropertyAccessExpression
                  ElementAccessExpression
                    Identifier: 'matches'
                    NumericLiteral
                  Identifier: 'length'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' splitSpace'
    Parameter
      Identifier: 'source'
      StringKeyword
    TupleType
      StringKeyword
      StringKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' matches'
            CallExpression
              PropertyAccessExpression
                Identifier: ' source'
                Identifier: 'match'
              RegularExpressionLiteral
      ReturnStatement
        ConditionalExpression
          BinaryExpression
            Identifier: ' matches'
            EqualsEqualsToken
            NullKeyword
          QuestionToken
          ArrayLiteralExpression
            StringLiteral
            Identifier: ' source'
          ColonToken
          ArrayLiteralExpression
            CallExpression
              PropertyAccessExpression
                Identifier: 'source'
                Identifier: 'slice'
              NumericLiteral
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: ' matches'
                  NumericLiteral
                Identifier: 'length'
            CallExpression
              PropertyAccessExpression
                Identifier: ' source'
                Identifier: 'slice'
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: 'matches'
                  NumericLiteral
                Identifier: 'length'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' splitLines'
    Parameter
      Identifier: 'source'
      StringKeyword
    ArrayType
      StringKeyword
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            Identifier: ' source'
            Identifier: 'split'
          RegularExpressionLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' seedBlock'
    Parameter
      Identifier: 'block'
      TypeReference
        Identifier: ' Partial'
        TypeReference
          Identifier: 'Block'
      ObjectLiteralExpression
    TypeReference
      Identifier: ' Block'
    Block
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    description'
            StringLiteral
          PropertyAssignment
            Identifier: '
    tags'
            ArrayLiteralExpression
          PropertyAssignment
            Identifier: '
    source'
            ArrayLiteralExpression
          PropertyAssignment
            Identifier: '
    problems'
            ArrayLiteralExpression
          SpreadAssignment
            Identifier: 'block'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' seedSpec'
    Parameter
      Identifier: 'spec'
      TypeReference
        Identifier: ' Partial'
        TypeReference
          Identifier: 'Spec'
      ObjectLiteralExpression
    TypeReference
      Identifier: ' Spec'
    Block
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    tag'
            StringLiteral
          PropertyAssignment
            Identifier: '
    name'
            StringLiteral
          PropertyAssignment
            Identifier: '
    type'
            StringLiteral
          PropertyAssignment
            Identifier: '
    optional'
            FalseKeyword
          PropertyAssignment
            Identifier: '
    description'
            StringLiteral
          PropertyAssignment
            Identifier: '
    problems'
            ArrayLiteralExpression
          PropertyAssignment
            Identifier: '
    source'
            ArrayLiteralExpression
          SpreadAssignment
            Identifier: 'spec'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' seedTokens'
    Parameter
      Identifier: 'tokens'
      TypeReference
        Identifier: ' Partial'
        TypeReference
          Identifier: 'Tokens'
      ObjectLiteralExpression
    TypeReference
      Identifier: ' Tokens'
    Block
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    start'
            StringLiteral
          PropertyAssignment
            Identifier: '
    delimiter'
            StringLiteral
          PropertyAssignment
            Identifier: '
    postDelimiter'
            StringLiteral
          PropertyAssignment
            Identifier: '
    tag'
            StringLiteral
          PropertyAssignment
            Identifier: '
    postTag'
            StringLiteral
          PropertyAssignment
            Identifier: '
    name'
            StringLiteral
          PropertyAssignment
            Identifier: '
    postName'
            StringLiteral
          PropertyAssignment
            Identifier: '
    type'
            StringLiteral
          PropertyAssignment
            Identifier: '
    postType'
            StringLiteral
          PropertyAssignment
            Identifier: '
    description'
            StringLiteral
          PropertyAssignment
            Identifier: '
    end'
            StringLiteral
          PropertyAssignment
            Identifier: '
    lineEnd'
            StringLiteral
          SpreadAssignment
            Identifier: 'tokens'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' rewireSource'
    Parameter
      Identifier: 'block'
      TypeReference
        Identifier: ' Block'
    TypeReference
      Identifier: ' Block'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' source'
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' block'
                  Identifier: 'source'
                Identifier: 'reduce'
              ArrowFunction
                Parameter
                  Identifier: 'acc'
                Parameter
                  Identifier: ' line'
                EqualsGreaterThanToken
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' acc'
                    Identifier: 'set'
                  PropertyAccessExpression
                    Identifier: 'line'
                    Identifier: 'number'
                  Identifier: ' line'
              NewExpression
                Identifier: ' Map'
                NumberKeyword
                TypeReference
                  Identifier: ' Line'
      ForOfStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' spec'
        PropertyAccessExpression
          Identifier: ' block'
          Identifier: 'tags'
        Block
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
    spec'
                Identifier: 'source'
              EqualsToken
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' spec'
                    Identifier: 'source'
                  Identifier: 'map'
                ArrowFunction
                  Parameter
                    Identifier: 'line'
                  EqualsGreaterThanToken
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' source'
                      Identifier: 'get'
                    PropertyAccessExpression
                      Identifier: 'line'
                      Identifier: 'number'
      ReturnStatement
        Identifier: ' block'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' rewireSpecs'
    Parameter
      Identifier: 'block'
      TypeReference
        Identifier: ' Block'
    TypeReference
      Identifier: ' Block'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' source'
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' block'
                  Identifier: 'tags'
                Identifier: 'reduce'
              ArrowFunction
                Parameter
                  Identifier: 'acc'
                Parameter
                  Identifier: ' spec'
                EqualsGreaterThanToken
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: '
      spec'
                      Identifier: 'source'
                    Identifier: 'reduce'
                  ArrowFunction
                    Parameter
                      Identifier: 'acc'
                    Parameter
                      Identifier: ' line'
                    EqualsGreaterThanToken
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' acc'
                        Identifier: 'set'
                      PropertyAccessExpression
                        Identifier: 'line'
                        Identifier: 'number'
                      Identifier: ' line'
                  Identifier: ' acc'
              NewExpression
                Identifier: ' Map'
                NumberKeyword
                TypeReference
                  Identifier: ' Line'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
  block'
            Identifier: 'source'
          EqualsToken
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: ' block'
                Identifier: 'source'
              Identifier: 'map'
            ArrowFunction
              Parameter
                Identifier: 'line'
              EqualsGreaterThanToken
              BinaryExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' source'
                    Identifier: 'get'
                  PropertyAccessExpression
                    Identifier: 'line'
                    Identifier: 'number'
                BarBarToken
                Identifier: ' line'
      ReturnStatement
        Identifier: ' block'
