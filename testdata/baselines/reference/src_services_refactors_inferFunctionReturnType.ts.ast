SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    ApplicableRefactorInfo'
        ImportSpecifier
          Identifier: '
    ArrowFunction'
        ImportSpecifier
          Identifier: '
    Diagnostics'
        ImportSpecifier
          Identifier: '
    emptyArray'
        ImportSpecifier
          Identifier: '
    factory'
        ImportSpecifier
          Identifier: '
    findAncestor'
        ImportSpecifier
          Identifier: '
    findChildOfKind'
        ImportSpecifier
          Identifier: '
    first'
        ImportSpecifier
          Identifier: '
    FunctionDeclaration'
        ImportSpecifier
          Identifier: '
    FunctionExpression'
        ImportSpecifier
          Identifier: '
    getLocaleSpecificMessage'
        ImportSpecifier
          Identifier: '
    getTouchingPropertyName'
        ImportSpecifier
          Identifier: '
    InternalNodeBuilderFlags'
        ImportSpecifier
          Identifier: '
    isArrowFunction'
        ImportSpecifier
          Identifier: '
    isBlock'
        ImportSpecifier
          Identifier: '
    isInJSFile'
        ImportSpecifier
          Identifier: '
    mapDefined'
        ImportSpecifier
          Identifier: '
    MethodDeclaration'
        ImportSpecifier
          Identifier: '
    Node'
        ImportSpecifier
          Identifier: '
    NodeBuilderFlags'
        ImportSpecifier
          Identifier: '
    RefactorContext'
        ImportSpecifier
          Identifier: '
    RefactorEditInfo'
        ImportSpecifier
          Identifier: '
    SourceFile'
        ImportSpecifier
          Identifier: '
    SyntaxKind'
        ImportSpecifier
          Identifier: '
    textChanges'
        ImportSpecifier
          Identifier: '
    Type'
        ImportSpecifier
          Identifier: '
    TypeNode'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    isRefactorErrorInfo'
        ImportSpecifier
          Identifier: '
    RefactorErrorInfo'
        ImportSpecifier
          Identifier: '
    refactorKindBeginsWith'
        ImportSpecifier
          Identifier: '
    registerRefactor'
    StringLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' refactorName'
        StringLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' refactorDescription'
        CallExpression
          Identifier: ' getLocaleSpecificMessage'
          PropertyAccessExpression
            Identifier: 'Diagnostics'
            Identifier: 'Infer_function_return_type'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' inferReturnTypeAction'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    name'
            Identifier: ' refactorName'
          PropertyAssignment
            Identifier: '
    description'
            Identifier: ' refactorDescription'
          PropertyAssignment
            Identifier: '
    kind'
            StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '
registerRefactor'
      Identifier: 'refactorName'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    kinds'
          ArrayLiteralExpression
            PropertyAccessExpression
              Identifier: 'inferReturnTypeAction'
              Identifier: 'kind'
        PropertyAssignment
          Identifier: '
    getEditsForAction'
          Identifier: ' getRefactorEditsToInferReturnType'
        PropertyAssignment
          Identifier: '
    getAvailableActions'
          Identifier: ' getRefactorActionsToInferReturnType'
  FunctionDeclaration
    Identifier: ' getRefactorEditsToInferReturnType'
    Parameter
      Identifier: 'context'
      TypeReference
        Identifier: ' RefactorContext'
    UnionType
      TypeReference
        Identifier: ' RefactorEditInfo'
      UndefinedKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' info'
            CallExpression
              Identifier: ' getInfo'
              Identifier: 'context'
      IfStatement
        BinaryExpression
          Identifier: 'info'
          AmpersandAmpersandToken
          PrefixUnaryExpression
            CallExpression
              Identifier: 'isRefactorErrorInfo'
              Identifier: 'info'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' edits'
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' textChanges'
                      Identifier: 'ChangeTracker'
                    Identifier: 'with'
                  Identifier: 'context'
                  ArrowFunction
                    Parameter
                      Identifier: ' t'
                    EqualsGreaterThanToken
                    CallExpression
                      Identifier: ' doChange'
                      PropertyAccessExpression
                        Identifier: 'context'
                        Identifier: 'file'
                      Identifier: ' t'
                      PropertyAccessExpression
                        Identifier: ' info'
                        Identifier: 'declaration'
                      PropertyAccessExpression
                        Identifier: ' info'
                        Identifier: 'returnTypeNode'
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' renameFilename'
                Identifier: ' undefined'
              PropertyAssignment
                Identifier: ' renameLocation'
                Identifier: ' undefined'
              ShorthandPropertyAssignment
                Identifier: ' edits'
      ReturnStatement
        Identifier: ' undefined'
  FunctionDeclaration
    Identifier: ' getRefactorActionsToInferReturnType'
    Parameter
      Identifier: 'context'
      TypeReference
        Identifier: ' RefactorContext'
    TypeOperator
      ArrayType
        TypeReference
          Identifier: ' ApplicableRefactorInfo'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' info'
            CallExpression
              Identifier: ' getInfo'
              Identifier: 'context'
      IfStatement
        PrefixUnaryExpression
          Identifier: 'info'
        ReturnStatement
          Identifier: ' emptyArray'
      IfStatement
        PrefixUnaryExpression
          CallExpression
            Identifier: 'isRefactorErrorInfo'
            Identifier: 'info'
        Block
          ReturnStatement
            ArrayLiteralExpression
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            name'
                  Identifier: ' refactorName'
                PropertyAssignment
                  Identifier: '
            description'
                  Identifier: ' refactorDescription'
                PropertyAssignment
                  Identifier: '
            actions'
                  ArrayLiteralExpression
                    Identifier: 'inferReturnTypeAction'
      IfStatement
        PropertyAccessExpression
          PropertyAccessExpression
            Identifier: 'context'
            Identifier: 'preferences'
          Identifier: 'provideRefactorNotApplicableReason'
        Block
          ReturnStatement
            ArrayLiteralExpression
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            name'
                  Identifier: ' refactorName'
                PropertyAssignment
                  Identifier: '
            description'
                  Identifier: ' refactorDescription'
                PropertyAssignment
                  Identifier: '
            actions'
                  ArrayLiteralExpression
                    ObjectLiteralExpression
                      SpreadAssignment
                        Identifier: 'inferReturnTypeAction'
                      PropertyAssignment
                        Identifier: ' notApplicableReason'
                        PropertyAccessExpression
                          Identifier: ' info'
                          Identifier: 'error'
      ReturnStatement
        Identifier: ' emptyArray'
  TypeAliasDeclaration
    Identifier: ' ConvertibleDeclaration'
    UnionType
      TypeReference
        Identifier: ' FunctionDeclaration'
      TypeReference
        Identifier: ' FunctionExpression'
      TypeReference
        Identifier: ' ArrowFunction'
      TypeReference
        Identifier: ' MethodDeclaration'
  InterfaceDeclaration
    Identifier: ' FunctionInfo'
    PropertySignature
      Identifier: '
    declaration'
      TypeReference
        Identifier: ' ConvertibleDeclaration'
    PropertySignature
      Identifier: '
    returnTypeNode'
      TypeReference
        Identifier: ' TypeNode'
  FunctionDeclaration
    Identifier: ' doChange'
    Parameter
      Identifier: 'sourceFile'
      TypeReference
        Identifier: ' SourceFile'
    Parameter
      Identifier: ' changes'
      TypeReference
        QualifiedName
          Identifier: ' textChanges'
          Identifier: 'ChangeTracker'
    Parameter
      Identifier: ' declaration'
      TypeReference
        Identifier: ' ConvertibleDeclaration'
    Parameter
      Identifier: ' typeNode'
      TypeReference
        Identifier: ' TypeNode'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' closeParen'
            CallExpression
              Identifier: ' findChildOfKind'
              Identifier: 'declaration'
              PropertyAccessExpression
                Identifier: ' SyntaxKind'
                Identifier: 'CloseParenToken'
              Identifier: ' sourceFile'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' needParens'
            BinaryExpression
              CallExpression
                Identifier: ' isArrowFunction'
                Identifier: 'declaration'
              AmpersandAmpersandToken
              BinaryExpression
                Identifier: ' closeParen'
                EqualsEqualsEqualsToken
                Identifier: ' undefined'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' endNode'
            ConditionalExpression
              Identifier: ' needParens'
              QuestionToken
              CallExpression
                Identifier: ' first'
                PropertyAccessExpression
                  Identifier: 'declaration'
                  Identifier: 'parameters'
              ColonToken
              Identifier: ' closeParen'
      IfStatement
        Identifier: 'endNode'
        Block
          IfStatement
            Identifier: 'needParens'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            changes'
                    Identifier: 'insertNodeBefore'
                  Identifier: 'sourceFile'
                  Identifier: ' endNode'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' factory'
                      Identifier: 'createToken'
                    PropertyAccessExpression
                      Identifier: 'SyntaxKind'
                      Identifier: 'OpenParenToken'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            changes'
                    Identifier: 'insertNodeAfter'
                  Identifier: 'sourceFile'
                  Identifier: ' endNode'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' factory'
                      Identifier: 'createToken'
                    PropertyAccessExpression
                      Identifier: 'SyntaxKind'
                      Identifier: 'CloseParenToken'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        changes'
                Identifier: 'insertNodeAt'
              Identifier: 'sourceFile'
              PropertyAccessExpression
                Identifier: ' endNode'
                Identifier: 'end'
              Identifier: ' typeNode'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: ' prefix'
                  StringLiteral
  FunctionDeclaration
    Identifier: ' getInfo'
    Parameter
      Identifier: 'context'
      TypeReference
        Identifier: ' RefactorContext'
    UnionType
      TypeReference
        Identifier: ' FunctionInfo'
      TypeReference
        Identifier: ' RefactorErrorInfo'
      UndefinedKeyword
    Block
      IfStatement
        BinaryExpression
          CallExpression
            Identifier: 'isInJSFile'
            PropertyAccessExpression
              Identifier: 'context'
              Identifier: 'file'
          BarBarToken
          PrefixUnaryExpression
            CallExpression
              Identifier: 'refactorKindBeginsWith'
              PropertyAccessExpression
                Identifier: 'inferReturnTypeAction'
                Identifier: 'kind'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'kind'
        ReturnStatement
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' token'
            CallExpression
              Identifier: ' getTouchingPropertyName'
              PropertyAccessExpression
                Identifier: 'context'
                Identifier: 'file'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'startPosition'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' declaration'
            AsExpression
              CallExpression
                Identifier: ' findAncestor'
                Identifier: 'token'
                ArrowFunction
                  Parameter
                    Identifier: ' n'
                  EqualsGreaterThanToken
                  ConditionalExpression
                    BinaryExpression
                      CallExpression
                        Identifier: '
        isBlock'
                        Identifier: 'n'
                      BarBarToken
                      BinaryExpression
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: ' n'
                            Identifier: 'parent'
                          AmpersandAmpersandToken
                          CallExpression
                            Identifier: ' isArrowFunction'
                            PropertyAccessExpression
                              Identifier: 'n'
                              Identifier: 'parent'
                        AmpersandAmpersandToken
                        ParenthesizedExpression
                          BinaryExpression
                            BinaryExpression
                              PropertyAccessExpression
                                Identifier: 'n'
                                Identifier: 'kind'
                              EqualsEqualsEqualsToken
                              PropertyAccessExpression
                                Identifier: ' SyntaxKind'
                                Identifier: 'EqualsGreaterThanToken'
                            BarBarToken
                            BinaryExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' n'
                                  Identifier: 'parent'
                                Identifier: 'body'
                              EqualsEqualsEqualsToken
                              Identifier: ' n'
                    QuestionToken
                    StringLiteral
                    ColonToken
                    CallExpression
                      Identifier: '
            isConvertibleDeclaration'
                      Identifier: 'n'
              UnionType
                TypeReference
                  Identifier: ' ConvertibleDeclaration'
                UndefinedKeyword
      IfStatement
        BinaryExpression
          BinaryExpression
            PrefixUnaryExpression
              Identifier: 'declaration'
            BarBarToken
            PrefixUnaryExpression
              PropertyAccessExpression
                Identifier: 'declaration'
                Identifier: 'body'
          BarBarToken
          PropertyAccessExpression
            Identifier: ' declaration'
            Identifier: 'type'
        Block
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' error'
                CallExpression
                  Identifier: ' getLocaleSpecificMessage'
                  PropertyAccessExpression
                    Identifier: 'Diagnostics'
                    Identifier: 'Return_type_must_be_inferred_from_a_function'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' typeChecker'
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' context'
                  Identifier: 'program'
                Identifier: 'getTypeChecker'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' returnType'
            UnionType
              TypeReference
                Identifier: ' Type'
              UndefinedKeyword
      IfStatement
        CallExpression
          PropertyAccessExpression
            Identifier: 'typeChecker'
            Identifier: 'isImplementationOfOverload'
          Identifier: 'declaration'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' signatures'
                CallExpression
                  PropertyAccessExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' typeChecker'
                        Identifier: 'getTypeAtLocation'
                      Identifier: 'declaration'
                    Identifier: 'getCallSignatures'
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'signatures'
                Identifier: 'length'
              GreaterThanToken
              NumericLiteral
            Block
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            returnType'
                  EqualsToken
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' typeChecker'
                      Identifier: 'getUnionType'
                    CallExpression
                      Identifier: 'mapDefined'
                      Identifier: 'signatures'
                      ArrowFunction
                        Parameter
                          Identifier: ' s'
                        EqualsGreaterThanToken
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' s'
                            Identifier: 'getReturnType'
      IfStatement
        PrefixUnaryExpression
          Identifier: 'returnType'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' signature'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' typeChecker'
                    Identifier: 'getSignatureFromDeclaration'
                  Identifier: 'declaration'
          IfStatement
            Identifier: 'signature'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' typePredicate'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' typeChecker'
                        Identifier: 'getTypePredicateOfSignature'
                      Identifier: 'signature'
              IfStatement
                BinaryExpression
                  Identifier: 'typePredicate'
                  AmpersandAmpersandToken
                  PropertyAccessExpression
                    Identifier: ' typePredicate'
                    Identifier: 'type'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' typePredicateTypeNode'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' typeChecker'
                            Identifier: 'typePredicateToTypePredicateNode'
                          Identifier: 'typePredicate'
                          Identifier: ' declaration'
                          PropertyAccessExpression
                            Identifier: ' NodeBuilderFlags'
                            Identifier: 'NoTruncation'
                          PropertyAccessExpression
                            Identifier: ' InternalNodeBuilderFlags'
                            Identifier: 'AllowUnresolvedNames'
                  IfStatement
                    Identifier: 'typePredicateTypeNode'
                    Block
                      ReturnStatement
                        ObjectLiteralExpression
                          ShorthandPropertyAssignment
                            Identifier: ' declaration'
                          PropertyAssignment
                            Identifier: ' returnTypeNode'
                            Identifier: ' typePredicateTypeNode'
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                returnType'
                      EqualsToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' typeChecker'
                          Identifier: 'getReturnTypeOfSignature'
                        Identifier: 'signature'
      IfStatement
        PrefixUnaryExpression
          Identifier: 'returnType'
        Block
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' error'
                CallExpression
                  Identifier: ' getLocaleSpecificMessage'
                  PropertyAccessExpression
                    Identifier: 'Diagnostics'
                    Identifier: 'Could_not_determine_function_return_type'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' returnTypeNode'
            CallExpression
              PropertyAccessExpression
                Identifier: ' typeChecker'
                Identifier: 'typeToTypeNode'
              Identifier: 'returnType'
              Identifier: ' declaration'
              PropertyAccessExpression
                Identifier: ' NodeBuilderFlags'
                Identifier: 'NoTruncation'
              PropertyAccessExpression
                Identifier: ' InternalNodeBuilderFlags'
                Identifier: 'AllowUnresolvedNames'
      IfStatement
        Identifier: 'returnTypeNode'
        Block
          ReturnStatement
            ObjectLiteralExpression
              ShorthandPropertyAssignment
                Identifier: ' declaration'
              ShorthandPropertyAssignment
                Identifier: ' returnTypeNode'
  FunctionDeclaration
    Identifier: ' isConvertibleDeclaration'
    Parameter
      Identifier: 'node'
      TypeReference
        Identifier: ' Node'
    TypePredicate
      Identifier: ' node'
      TypeReference
        Identifier: ' ConvertibleDeclaration'
    Block
      SwitchStatement
        PropertyAccessExpression
          Identifier: 'node'
          Identifier: 'kind'
        CaseBlock
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'FunctionDeclaration'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'FunctionExpression'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'ArrowFunction'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'MethodDeclaration'
            ReturnStatement
              TrueKeyword
          DefaultClause
            ReturnStatement
              FalseKeyword
