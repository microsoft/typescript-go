SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    baselineTsserverLogs'
        ImportSpecifier
          Identifier: '
    closeFilesForSession'
        ImportSpecifier
          Identifier: '
    openFilesForSession'
        ImportSpecifier
          Identifier: '
    TestSession'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' TestServerHost'
    StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '

describe'
      StringLiteral
      ArrowFunction
        EqualsGreaterThanToken
        Block
          FunctionDeclaration
            Identifier: ' verifyCanUseWatchEvents'
            Parameter
              Identifier: '
        canUseEvents'
              BooleanKeyword
            Parameter
              Identifier: '
        projectPath'
              StringKeyword
            Parameter
              Identifier: '
        directorySeparator'
              StringKeyword
            Parameter
              Identifier: '
        windowsStyleRoot'
              QuestionToken
              StringKeyword
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
        it'
                  ConditionalExpression
                    Identifier: 'canUseEvents'
                    QuestionToken
                    ConditionalExpression
                      Identifier: ' windowsStyleRoot'
                      QuestionToken
                      StringLiteral
                      ColonToken
                      StringLiteral
                    ColonToken
                    StringLiteral
                  ArrowFunction
                    EqualsGreaterThanToken
                    Block
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' host'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' TestServerHost'
                                Identifier: 'createServerHost'
                              ObjectLiteralExpression
                                PropertyAssignment
                                  ComputedPropertyName
                                    TemplateExpression
                                      TemplateHead
                                      TemplateSpan
                                        Identifier: 'projectPath'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateTail
                                  StringLiteral
                                PropertyAssignment
                                  ComputedPropertyName
                                    TemplateExpression
                                      TemplateHead
                                      TemplateSpan
                                        Identifier: 'projectPath'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateTail
                                  NoSubstitutionTemplateLiteral
                                PropertyAssignment
                                  ComputedPropertyName
                                    TemplateExpression
                                      TemplateHead
                                      TemplateSpan
                                        Identifier: 'projectPath'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateTail
                                  NoSubstitutionTemplateLiteral
                                PropertyAssignment
                                  ComputedPropertyName
                                    TemplateExpression
                                      TemplateHead
                                      TemplateSpan
                                        Identifier: 'projectPath'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateTail
                                  NoSubstitutionTemplateLiteral
                                PropertyAssignment
                                  ComputedPropertyName
                                    TemplateExpression
                                      TemplateHead
                                      TemplateSpan
                                        Identifier: 'projectPath'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateMiddle
                                      TemplateSpan
                                        Identifier: 'directorySeparator'
                                        TemplateTail
                                  NoSubstitutionTemplateLiteral
                              ObjectLiteralExpression
                                ShorthandPropertyAssignment
                                  Identifier: ' windowsStyleRoot'
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' session'
                            NewExpression
                              Identifier: ' TestSession'
                              ObjectLiteralExpression
                                ShorthandPropertyAssignment
                                  Identifier: ' host'
                                PropertyAssignment
                                  Identifier: ' canUseWatchEvents'
                                  TrueKeyword
                                ShorthandPropertyAssignment
                                  Identifier: ' canUseEvents'
                      IfStatement
                        PrefixUnaryExpression
                          Identifier: 'canUseEvents'
                        ExpressionStatement
                          BinaryExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                Identifier: ' session'
                                Identifier: 'logger'
                              Identifier: 'msg'
                            EqualsToken
                            ArrowFunction
                              Parameter
                                Identifier: 's'
                              Parameter
                                Identifier: ' type'
                              EqualsGreaterThanToken
                              CallExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' session'
                                    Identifier: 'logger'
                                  Identifier: 'info'
                                TemplateExpression
                                  TemplateHead
                                  TemplateSpan
                                    Identifier: 'type'
                                    TemplateMiddle
                                  TemplateSpan
                                    Identifier: 's'
                                    TemplateTail
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            openFilesForSession'
                          ArrayLiteralExpression
                            TemplateExpression
                              TemplateHead
                              TemplateSpan
                                Identifier: 'projectPath'
                                TemplateMiddle
                              TemplateSpan
                                Identifier: 'directorySeparator'
                                TemplateTail
                          Identifier: ' session'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '

            // Directory watcher
            host'
                            Identifier: 'writeFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'invokeWatchChanges'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '

            // File Watcher
            host'
                            Identifier: 'writeFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'invokeWatchChanges'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          Identifier: '

            // Close watcher
            openFilesForSession'
                          ArrayLiteralExpression
                            TemplateExpression
                              TemplateHead
                              TemplateSpan
                                Identifier: 'projectPath'
                                TemplateMiddle
                              TemplateSpan
                                Identifier: 'directorySeparator'
                                TemplateTail
                          Identifier: ' session'
                      ExpressionStatement
                        CallExpression
                          Identifier: '

            // Re watch
            closeFilesForSession'
                          ArrayLiteralExpression
                            TemplateExpression
                              TemplateHead
                              TemplateSpan
                                Identifier: 'projectPath'
                                TemplateMiddle
                              TemplateSpan
                                Identifier: 'directorySeparator'
                                TemplateTail
                          Identifier: ' session'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '

            // Update c.ts
            host'
                            Identifier: 'appendFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'invokeWatchChanges'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '

            // Add and change multiple files - combine and send multiple requests together
            session'
                              Identifier: 'host'
                            Identifier: 'writeFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            session'
                              Identifier: 'host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            session'
                              Identifier: 'host'
                            Identifier: 'appendFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            session'
                              Identifier: 'host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            session'
                              Identifier: 'host'
                            Identifier: 'writeFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            session'
                              Identifier: 'host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'invokeWatchChanges'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '

            // Update with npm install
            host'
                            Identifier: 'appendFile'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'projectPath'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'directorySeparator'
                              TemplateTail
                          NoSubstitutionTemplateLiteral
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'invokeWatchChanges'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            host'
                            Identifier: 'runQueuedTimeoutCallbacks'
                      ExpressionStatement
                        CallExpression
                          Identifier: '

            baselineTsserverLogs'
                          StringLiteral
                          ConditionalExpression
                            Identifier: ' canUseEvents'
                            QuestionToken
                            ConditionalExpression
                              Identifier: ' windowsStyleRoot'
                              QuestionToken
                              StringLiteral
                              ColonToken
                              StringLiteral
                            ColonToken
                            StringLiteral
                          Identifier: ' session'
          ExpressionStatement
            CallExpression
              Identifier: '

    verifyCanUseWatchEvents'
              TrueKeyword
              StringLiteral
              StringLiteral
          ExpressionStatement
            CallExpression
              Identifier: '
    verifyCanUseWatchEvents'
              FalseKeyword
              StringLiteral
              StringLiteral
          ExpressionStatement
            CallExpression
              Identifier: '
    verifyCanUseWatchEvents'
              TrueKeyword
              StringLiteral
              StringLiteral
              StringLiteral
