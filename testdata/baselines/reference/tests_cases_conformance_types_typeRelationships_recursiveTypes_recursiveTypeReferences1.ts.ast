SourceFile
  TypeAliasDeclaration
    Identifier: ' ValueOrArray'
    TypeParameter
      Identifier: 'T'
    UnionType
      TypeReference
        Identifier: ' T'
      TypeReference
        Identifier: ' Array'
        TypeReference
          Identifier: 'ValueOrArray'
          TypeReference
            Identifier: 'T'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' a0'
        TypeReference
          Identifier: ' ValueOrArray'
          NumberKeyword
        NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' a1'
        TypeReference
          Identifier: ' ValueOrArray'
          NumberKeyword
        ArrayLiteralExpression
          NumericLiteral
          ArrayLiteralExpression
            NumericLiteral
            NumericLiteral
          ArrayLiteralExpression
            NumericLiteral
            ArrayLiteralExpression
              NumericLiteral
              ArrayLiteralExpression
                NumericLiteral
                NumericLiteral
  TypeAliasDeclaration
    Identifier: ' HypertextNode'
    UnionType
      StringKeyword
      TupleType
        StringKeyword
        TypeLiteral
          IndexSignature
            Parameter
              Identifier: 'key'
              StringKeyword
            UnknownKeyword
        RestType
          ArrayType
            TypeReference
              Identifier: 'HypertextNode'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' hypertextNode'
        TypeReference
          Identifier: ' HypertextNode'
        ArrayLiteralExpression
          StringLiteral
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: ' id'
              StringLiteral
          ArrayLiteralExpression
            StringLiteral
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' id'
                StringLiteral
            StringLiteral
          ArrayLiteralExpression
            StringLiteral
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' id'
                StringLiteral
            StringLiteral
  TypeAliasDeclaration
    Identifier: ' Json'
    UnionType
      StringKeyword
      NumberKeyword
      BooleanKeyword
      LiteralType
        NullKeyword
      ArrayType
        TypeReference
          Identifier: ' Json'
      TypeLiteral
        IndexSignature
          Parameter
            Identifier: 'key'
            StringKeyword
          TypeReference
            Identifier: ' Json'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' data'
        TypeReference
          Identifier: ' Json'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    caption'
            StringLiteral
          PropertyAssignment
            Identifier: '
    location'
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' x'
                NumericLiteral
              PropertyAssignment
                Identifier: ' y'
                NumericLiteral
          PropertyAssignment
            Identifier: '
    values'
            ArrayLiteralExpression
              TrueKeyword
              ArrayLiteralExpression
                NumericLiteral
                NumericLiteral
              NullKeyword
  InterfaceDeclaration
    Identifier: ' Box'
    TypeParameter
      Identifier: 'T'
    PropertySignature
      Identifier: ' value'
      TypeReference
        Identifier: ' T'
  EmptyStatement
  TypeAliasDeclaration
    Identifier: ' T1'
    TypeReference
      Identifier: ' Box'
      TypeReference
        Identifier: 'T1'
  TypeAliasDeclaration
    Identifier: ' T2'
    TypeReference
      Identifier: ' Box'
      TypeReference
        Identifier: 'Box'
        TypeReference
          Identifier: 'T2'
  TypeAliasDeclaration
    Identifier: ' T3'
    TypeReference
      Identifier: ' Box'
      TypeReference
        Identifier: 'Box'
        TypeReference
          Identifier: 'Box'
          TypeReference
            Identifier: 'T3'
  FunctionDeclaration
    Identifier: ' f1'
    Parameter
      Identifier: 't1'
      TypeReference
        Identifier: ' T1'
    Parameter
      Identifier: ' t2'
      TypeReference
        Identifier: ' T2'
    Parameter
      Identifier: ' t3'
      TypeReference
        Identifier: ' T3'
    Block
      ExpressionStatement
        BinaryExpression
          Identifier: '
    t1'
          EqualsToken
          Identifier: ' t2'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    t1'
          EqualsToken
          Identifier: ' t3'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    t2'
          EqualsToken
          Identifier: ' t1'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    t2'
          EqualsToken
          Identifier: ' t3'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    t3'
          EqualsToken
          Identifier: ' t1'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    t3'
          EqualsToken
          Identifier: ' t2'
  TypeAliasDeclaration
    Identifier: ' Box1'
    UnionType
      TypeReference
        Identifier: ' Box'
        TypeReference
          Identifier: 'Box1'
      NumberKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b10'
        TypeReference
          Identifier: ' Box1'
        NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b11'
        TypeReference
          Identifier: ' Box1'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' value'
            NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b12'
        TypeReference
          Identifier: ' Box1'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' value'
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' value'
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: ' value'
                    NumericLiteral
  TypeAliasDeclaration
    Identifier: ' Box2'
    TypeReference
      Identifier: ' Box'
      UnionType
        TypeReference
          Identifier: 'Box2'
        NumberKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b20'
        TypeReference
          Identifier: ' Box2'
        NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b21'
        TypeReference
          Identifier: ' Box2'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' value'
            NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b22'
        TypeReference
          Identifier: ' Box2'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' value'
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: ' value'
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: ' value'
                    NumericLiteral
  TypeAliasDeclaration
    Identifier: ' RecArray'
    TypeParameter
      Identifier: 'T'
    TypeReference
      Identifier: ' Array'
      UnionType
        TypeReference
          Identifier: 'T'
        TypeReference
          Identifier: ' RecArray'
          TypeReference
            Identifier: 'T'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' flat'
    TypeParameter
      Identifier: 'T'
    Parameter
      Identifier: 'a'
      TypeReference
        Identifier: ' RecArray'
        TypeReference
          Identifier: 'T'
    TypeReference
      Identifier: ' Array'
      TypeReference
        Identifier: 'T'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' flat1'
    TypeParameter
      Identifier: 'T'
    Parameter
      Identifier: 'a'
      TypeReference
        Identifier: ' Array'
        UnionType
          TypeReference
            Identifier: 'T'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'T'
    TypeReference
      Identifier: ' Array'
      TypeReference
        Identifier: 'T'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' flat2'
    TypeParameter
      Identifier: 'T'
    Parameter
      Identifier: 'a'
      TypeReference
        Identifier: ' Array'
        UnionType
          TypeReference
            Identifier: 'T'
          TypeReference
            Identifier: ' Array'
            UnionType
              TypeReference
                Identifier: 'T'
              TypeReference
                Identifier: ' Array'
                TypeReference
                  Identifier: 'T'
    TypeReference
      Identifier: ' Array'
      TypeReference
        Identifier: 'T'
  ExpressionStatement
    CallExpression
      Identifier: '

flat'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          NumericLiteral
          ArrayLiteralExpression
            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // number[]
flat'
      ArrayLiteralExpression
        ArrayLiteralExpression
          ArrayLiteralExpression
            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // number[]
flat'
      ArrayLiteralExpression
        ArrayLiteralExpression
          ArrayLiteralExpression
            ArrayLiteralExpression
              ArrayLiteralExpression
                ArrayLiteralExpression
                  ArrayLiteralExpression
                    ArrayLiteralExpression
                      ArrayLiteralExpression
                        ArrayLiteralExpression
                          ArrayLiteralExpression
                            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // number[]
flat'
      ArrayLiteralExpression
        NumericLiteral
        StringLiteral
        ArrayLiteralExpression
          NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (string | number)[]
flat'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          NumericLiteral
          StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (string | number)[]
flat'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // Error

flat1'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          NumericLiteral
          ArrayLiteralExpression
            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (number | number[])[]
flat1'
      ArrayLiteralExpression
        ArrayLiteralExpression
          ArrayLiteralExpression
            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // number[][]
flat1'
      ArrayLiteralExpression
        NumericLiteral
        StringLiteral
        ArrayLiteralExpression
          NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (string | number)[]
flat1'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          NumericLiteral
          StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (string | number)[]
flat1'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // Error

flat2'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          NumericLiteral
          ArrayLiteralExpression
            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // number[]
flat2'
      ArrayLiteralExpression
        ArrayLiteralExpression
          ArrayLiteralExpression
            NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // number[]
flat2'
      ArrayLiteralExpression
        NumericLiteral
        StringLiteral
        ArrayLiteralExpression
          NumericLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (string | number)[]
flat2'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          NumericLiteral
          StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '  // (string | number)[]
flat2'
      ArrayLiteralExpression
        NumericLiteral
        ArrayLiteralExpression
          StringLiteral
  TypeAliasDeclaration
    Identifier: ' T10'
    ArrayType
      TypeReference
        Identifier: ' T10'
  TypeAliasDeclaration
    Identifier: ' T11'
    TypeOperator
      ArrayType
        TypeReference
          Identifier: ' T11'
  TypeAliasDeclaration
    Identifier: ' T12'
    ArrayType
      ParenthesizedType
        TypeReference
          Identifier: 'T12'
  TypeAliasDeclaration
    Identifier: ' T13'
    UnionType
      ArrayType
        TypeReference
          Identifier: ' T13'
      StringKeyword
  TypeAliasDeclaration
    Identifier: ' T14'
    IntersectionType
      ArrayType
        TypeReference
          Identifier: ' T14'
      TypeLiteral
        PropertySignature
          Identifier: ' x'
          StringKeyword
  TypeAliasDeclaration
    Identifier: ' T15'
    TypeParameter
      Identifier: 'X'
    ConditionalType
      TypeReference
        Identifier: ' X'
      StringKeyword
      ArrayType
        TypeReference
          Identifier: ' T15'
          TypeReference
            Identifier: 'X'
      NeverKeyword
  TypeAliasDeclaration
    Identifier: ' ValueOrArray1'
    TypeParameter
      Identifier: 'T'
    UnionType
      TypeReference
        Identifier: ' T'
      ArrayType
        TypeReference
          Identifier: ' ValueOrArray1'
          TypeReference
            Identifier: 'T'
  TypeAliasDeclaration
    Identifier: ' ValueOrArray2'
    TypeParameter
      Identifier: 'T'
    UnionType
      TypeReference
        Identifier: ' T'
      ArrayType
        TypeReference
          Identifier: ' ValueOrArray2'
          TypeReference
            Identifier: 'T'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' foo1'
    TypeParameter
      Identifier: 'T'
    Parameter
      Identifier: 'a'
      TypeReference
        Identifier: ' ValueOrArray1'
        TypeReference
          Identifier: 'T'
    TypeReference
      Identifier: ' T'
  VariableStatement
    DeclareKeyword
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' ra1'
        TypeReference
          Identifier: ' ValueOrArray2'
          StringKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' x1'
        CallExpression
          Identifier: ' foo1'
          Identifier: 'ra1'
  TypeAliasDeclaration
    Identifier: ' NumberOrArray1'
    TypeParameter
      Identifier: 'T'
    UnionType
      TypeReference
        Identifier: ' T'
      ArrayType
        TypeReference
          Identifier: ' ValueOrArray1'
          TypeReference
            Identifier: 'T'
  TypeAliasDeclaration
    Identifier: ' NumberOrArray2'
    TypeParameter
      Identifier: 'T'
    UnionType
      TypeReference
        Identifier: ' T'
      ArrayType
        TypeReference
          Identifier: ' ValueOrArray2'
          TypeReference
            Identifier: 'T'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' foo2'
    TypeParameter
      Identifier: 'T'
    Parameter
      Identifier: 'a'
      TypeReference
        Identifier: ' ValueOrArray1'
        TypeReference
          Identifier: 'T'
    TypeReference
      Identifier: ' T'
  VariableStatement
    DeclareKeyword
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' ra2'
        TypeReference
          Identifier: ' ValueOrArray2'
          StringKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' x2'
        CallExpression
          Identifier: ' foo2'
          Identifier: 'ra2'
  TypeAliasDeclaration
    Identifier: ' Tree'
    ArrayType
      TupleType
        TypeReference
          Identifier: 'HTMLHeadingElement'
        TypeReference
          Identifier: ' Tree'
  FunctionDeclaration
    Identifier: ' parse'
    Parameter
      Identifier: 'node'
      TypeReference
        Identifier: ' Tree'
    Parameter
      Identifier: ' index'
      ArrayType
        NumberKeyword
      ArrayLiteralExpression
    TypeReference
      Identifier: ' HTMLUListElement'
    Block
      ReturnStatement
        CallExpression
          Identifier: ' html'
          StringLiteral
          CallExpression
            PropertyAccessExpression
              Identifier: ' node'
              Identifier: 'map'
            ArrowFunction
              Parameter
                ArrayBindingPattern
                  BindingElement
                    Identifier: 'el'
                  BindingElement
                    Identifier: ' children'
              Parameter
                Identifier: ' i'
              EqualsGreaterThanToken
              Block
                VariableStatement
                  VariableDeclarationList
                    VariableDeclaration
                      Identifier: ' idx'
                      ArrayLiteralExpression
                        SpreadElement
                          Identifier: 'index'
                        BinaryExpression
                          Identifier: ' i'
                          PlusToken
                          NumericLiteral
                ReturnStatement
                  CallExpression
                    Identifier: ' html'
                    StringLiteral
                    ArrayLiteralExpression
                      CallExpression
                        Identifier: '
      html'
                        StringLiteral
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: ' href'
                            TemplateExpression
                              TemplateHead
                              TemplateSpan
                                PropertyAccessExpression
                                  Identifier: 'el'
                                  Identifier: 'id'
                                TemplateTail
                          PropertyAssignment
                            Identifier: ' rel'
                            StringLiteral
                          PropertyAssignment
                            StringLiteral
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' idx'
                                Identifier: 'join'
                              StringLiteral
                        NonNullExpression
                          PropertyAccessExpression
                            Identifier: ' el'
                            Identifier: 'textContent'
                      ConditionalExpression
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: '
      children'
                            Identifier: 'length'
                          GreaterThanToken
                          NumericLiteral
                        QuestionToken
                        CallExpression
                          Identifier: ' parse'
                          Identifier: 'children'
                          Identifier: ' idx'
                        ColonToken
                        CallExpression
                          Identifier: ' frag'
  FunctionDeclaration
    Identifier: ' cons'
    Parameter
      Identifier: 'hs'
      ArrayType
        TypeReference
          Identifier: ' HTMLHeadingElement'
    TypeReference
      Identifier: ' Tree'
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            CallExpression
              PropertyAccessExpression
                Identifier: ' hs'
                Identifier: 'reduce'
              ArrayType
                ArrayType
                  TypeReference
                    Identifier: 'HTMLHeadingElement'
              ArrowFunction
                Parameter
                  Identifier: 'hss'
                Parameter
                  Identifier: ' h'
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' hs'
                        NonNullExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' hss'
                              Identifier: 'pop'
                  ReturnStatement
                    ConditionalExpression
                      BinaryExpression
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: ' hs'
                            Identifier: 'length'
                          EqualsEqualsEqualsToken
                          NumericLiteral
                        BarBarToken
                        BinaryExpression
                          CallExpression
                            Identifier: ' level'
                            Identifier: 'h'
                          GreaterThanToken
                          CallExpression
                            Identifier: ' level'
                            ElementAccessExpression
                              Identifier: 'hs'
                              NumericLiteral
                      QuestionToken
                      CallExpression
                        Identifier: ' concat'
                        Identifier: 'hss'
                        ArrayLiteralExpression
                          CallExpression
                            Identifier: 'concat'
                            Identifier: 'hs'
                            ArrayLiteralExpression
                              Identifier: 'h'
                      ColonToken
                      CallExpression
                        Identifier: ' concat'
                        Identifier: 'hss'
                        ArrayLiteralExpression
                          Identifier: 'hs'
                          ArrayLiteralExpression
                            Identifier: 'h'
              ArrayLiteralExpression
                ArrayLiteralExpression
            Identifier: 'reduce'
          TypeReference
            Identifier: 'Tree'
          ArrowFunction
            Parameter
              Identifier: 'node'
            Parameter
              Identifier: ' hs'
            EqualsGreaterThanToken
            ConditionalExpression
              BinaryExpression
                PropertyAccessExpression
                  Identifier: '
      hs'
                  Identifier: 'length'
                EqualsEqualsEqualsToken
                NumericLiteral
              QuestionToken
              Identifier: ' node'
              ColonToken
              CallExpression
                Identifier: ' concat'
                IndexedAccessType
                  TypeReference
                    Identifier: 'Tree'
                  NumberKeyword
                Identifier: 'node'
                ArrayLiteralExpression
                  ArrayLiteralExpression
                    NonNullExpression
                      CallExpression
                        PropertyAccessExpression
                          Identifier: 'hs'
                          Identifier: 'shift'
                    CallExpression
                      Identifier: ' cons'
                      Identifier: 'hs'
          ArrayLiteralExpression
  FunctionDeclaration
    Identifier: ' level'
    Parameter
      Identifier: 'h'
      TypeReference
        Identifier: ' HTMLHeadingElement'
    NumberKeyword
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
  assert'
          CallExpression
            Identifier: 'isFinite'
            PrefixUnaryExpression
              ElementAccessExpression
                PropertyAccessExpression
                  Identifier: 'h'
                  Identifier: 'tagName'
                NumericLiteral
      ReturnStatement
        PrefixUnaryExpression
          ElementAccessExpression
            PropertyAccessExpression
              Identifier: 'h'
              Identifier: 'tagName'
            NumericLiteral
