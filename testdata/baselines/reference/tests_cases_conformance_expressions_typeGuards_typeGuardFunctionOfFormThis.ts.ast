SourceFile
  ClassDeclaration
    Identifier: ' RoyalGuard'
    MethodDeclaration
      Identifier: '
    isLeader'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' LeadGuard'
      Block
        ReturnStatement
          BinaryExpression
            ThisKeyword
            InstanceOfKeyword
            Identifier: ' LeadGuard'
    MethodDeclaration
      Identifier: '
    isFollower'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' FollowerGuard'
      Block
        ReturnStatement
          BinaryExpression
            ThisKeyword
            InstanceOfKeyword
            Identifier: ' FollowerGuard'
  ClassDeclaration
    Identifier: ' LeadGuard'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' RoyalGuard'
    MethodDeclaration
      Identifier: '
    lead'
      VoidKeyword
      Block
    SemicolonClassElement
  ClassDeclaration
    Identifier: ' FollowerGuard'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' RoyalGuard'
    MethodDeclaration
      Identifier: '
    follow'
      VoidKeyword
      Block
    SemicolonClassElement
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' a'
        TypeReference
          Identifier: ' RoyalGuard'
        NewExpression
          Identifier: ' FollowerGuard'
  IfStatement
    CallExpression
      PropertyAccessExpression
        Identifier: 'a'
        Identifier: 'isLeader'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    a'
            Identifier: 'lead'
    IfStatement
      CallExpression
        PropertyAccessExpression
          Identifier: 'a'
          Identifier: 'isFollower'
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
    a'
              Identifier: 'follow'
  InterfaceDeclaration
    Identifier: ' GuardInterface'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' RoyalGuard'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' b'
        TypeReference
          Identifier: ' GuardInterface'
  IfStatement
    CallExpression
      PropertyAccessExpression
        Identifier: 'b'
        Identifier: 'isLeader'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    b'
            Identifier: 'lead'
    IfStatement
      CallExpression
        PropertyAccessExpression
          Identifier: 'b'
          Identifier: 'isFollower'
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
    b'
              Identifier: 'follow'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' holder2'
        ObjectLiteralExpression
          ShorthandPropertyAssignment
            Identifier: 'a'
  IfStatement
    CallExpression
      PropertyAccessExpression
        PropertyAccessExpression
          Identifier: 'holder2'
          Identifier: 'a'
        Identifier: 'isLeader'
    Block
      ExpressionStatement
        PropertyAccessExpression
          Identifier: '
    holder2'
          Identifier: 'a'
    Block
      ExpressionStatement
        PropertyAccessExpression
          Identifier: '
    holder2'
          Identifier: 'a'
  ClassDeclaration
    Identifier: ' ArrowGuard'
    PropertyDeclaration
      Identifier: '
    isElite'
      ArrowFunction
        TypePredicate
          ThisType
          TypeReference
            Identifier: ' ArrowElite'
        EqualsGreaterThanToken
        Block
          ReturnStatement
            BinaryExpression
              ThisKeyword
              InstanceOfKeyword
              Identifier: ' ArrowElite'
    PropertyDeclaration
      Identifier: '
    isMedic'
      ArrowFunction
        TypePredicate
          ThisType
          TypeReference
            Identifier: ' ArrowMedic'
        EqualsGreaterThanToken
        Block
          ReturnStatement
            BinaryExpression
              ThisKeyword
              InstanceOfKeyword
              Identifier: ' ArrowMedic'
  ClassDeclaration
    Identifier: ' ArrowElite'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' ArrowGuard'
    MethodDeclaration
      Identifier: '
    defend'
      VoidKeyword
      Block
  ClassDeclaration
    Identifier: ' ArrowMedic'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' ArrowGuard'
    MethodDeclaration
      Identifier: '
    heal'
      VoidKeyword
      Block
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' guard'
        NewExpression
          Identifier: ' ArrowGuard'
  IfStatement
    CallExpression
      PropertyAccessExpression
        Identifier: 'guard'
        Identifier: 'isElite'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    guard'
            Identifier: 'defend'
    IfStatement
      CallExpression
        PropertyAccessExpression
          Identifier: 'guard'
          Identifier: 'isMedic'
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
    guard'
              Identifier: 'heal'
  InterfaceDeclaration
    Identifier: ' Supplies'
    PropertySignature
      Identifier: '
    spoiled'
      BooleanKeyword
  InterfaceDeclaration
    Identifier: ' Sundries'
    PropertySignature
      Identifier: '
    broken'
      BooleanKeyword
  InterfaceDeclaration
    Identifier: ' Crate'
    TypeParameter
      Identifier: 'T'
    PropertySignature
      Identifier: '
    contents'
      TypeReference
        Identifier: ' T'
    PropertySignature
      Identifier: '
    volume'
      NumberKeyword
    MethodSignature
      Identifier: '
    isSupplies'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' Crate'
          TypeReference
            Identifier: 'Supplies'
    MethodSignature
      Identifier: '
    isSundries'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' Crate'
          TypeReference
            Identifier: 'Sundries'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' crate'
        TypeReference
          Identifier: ' Crate'
          TypeLiteral
  IfStatement
    CallExpression
      PropertyAccessExpression
        Identifier: 'crate'
        Identifier: 'isSundries'
    Block
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: '
    crate'
              Identifier: 'contents'
            Identifier: 'broken'
          EqualsToken
          TrueKeyword
    IfStatement
      CallExpression
        PropertyAccessExpression
          Identifier: 'crate'
          Identifier: 'isSupplies'
      Block
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: '
    crate'
                Identifier: 'contents'
              Identifier: 'spoiled'
            EqualsToken
            TrueKeyword
  ExpressionStatement
    BinaryExpression
      PropertyAccessExpression
        Identifier: '

// Matching guards should be assignable

a'
        Identifier: 'isFollower'
      EqualsToken
      PropertyAccessExpression
        Identifier: ' b'
        Identifier: 'isFollower'
  ExpressionStatement
    BinaryExpression
      PropertyAccessExpression
        Identifier: '
a'
        Identifier: 'isLeader'
      EqualsToken
      PropertyAccessExpression
        Identifier: ' b'
        Identifier: 'isLeader'
  ClassDeclaration
    Identifier: ' MimicGuard'
    MethodDeclaration
      Identifier: '
    isLeader'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' MimicLeader'
      Block
        ReturnStatement
          BinaryExpression
            ThisKeyword
            InstanceOfKeyword
            Identifier: ' MimicLeader'
    SemicolonClassElement
    MethodDeclaration
      Identifier: '
    isFollower'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' MimicFollower'
      Block
        ReturnStatement
          BinaryExpression
            ThisKeyword
            InstanceOfKeyword
            Identifier: ' MimicFollower'
    SemicolonClassElement
  ClassDeclaration
    Identifier: ' MimicLeader'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' MimicGuard'
    MethodDeclaration
      Identifier: '
    lead'
      VoidKeyword
      Block
  ClassDeclaration
    Identifier: ' MimicFollower'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' MimicGuard'
    MethodDeclaration
      Identifier: '
    follow'
      VoidKeyword
      Block
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' mimic'
        NewExpression
          Identifier: ' MimicGuard'
  ExpressionStatement
    BinaryExpression
      PropertyAccessExpression
        Identifier: '

a'
        Identifier: 'isLeader'
      EqualsToken
      PropertyAccessExpression
        Identifier: ' mimic'
        Identifier: 'isLeader'
  ExpressionStatement
    BinaryExpression
      PropertyAccessExpression
        Identifier: '
a'
        Identifier: 'isFollower'
      EqualsToken
      PropertyAccessExpression
        Identifier: ' mimic'
        Identifier: 'isFollower'
  IfStatement
    CallExpression
      PropertyAccessExpression
        Identifier: 'mimic'
        Identifier: 'isFollower'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    mimic'
            Identifier: 'follow'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    mimic'
            Identifier: 'isFollower'
          EqualsToken
          PropertyAccessExpression
            Identifier: ' a'
            Identifier: 'isFollower'
  InterfaceDeclaration
    Identifier: ' MimicGuardInterface'
    MethodSignature
      Identifier: '
    isLeader'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' LeadGuard'
    MethodSignature
      Identifier: '
    isFollower'
      TypePredicate
        ThisType
        TypeReference
          Identifier: ' FollowerGuard'
