SourceFile
  FunctionDeclaration
    Identifier: ' needsToNarrowTheType'
    TypeParameter
      Identifier: 'First'
      TypeLiteral
        PropertySignature
          Identifier: ' foo'
          StringKeyword
    TypeParameter
      Identifier: ' Second'
      TypeLiteral
        PropertySignature
          Identifier: ' bar'
          StringKeyword
    TypeParameter
      Identifier: ' SubFirst'
      TypeReference
        Identifier: ' First'
    TypeParameter
      Identifier: ' SubFirstMore'
      IntersectionType
        TypeReference
          Identifier: ' First'
        TypeLiteral
          PropertySignature
            Identifier: 'other'
            StringKeyword
    Parameter
      Identifier: 'thing'
      UnionType
        TypeReference
          Identifier: ' First'
        TypeReference
          Identifier: ' SubFirst'
        TypeReference
          Identifier: ' SubFirstMore'
        TypeReference
          Identifier: ' Second'
    Block
      IfStatement
        CallExpression
          Identifier: 'hasAFoo'
          Identifier: 'thing'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        console'
                Identifier: 'log'
              PropertyAccessExpression
                Identifier: 'thing'
                Identifier: 'foo'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        // I would expect this to work because the type should be narrowed in this branch to `Second`
        console'
                Identifier: 'log'
              PropertyAccessExpression
                Identifier: 'thing'
                Identifier: 'bar'
      FunctionDeclaration
        Identifier: ' hasAFoo'
        Parameter
          Identifier: 'value'
          UnionType
            TypeReference
              Identifier: ' First'
            TypeReference
              Identifier: ' Second'
        TypePredicate
          Identifier: ' value'
          TypeReference
            Identifier: ' First'
        Block
          ReturnStatement
            BinaryExpression
              StringLiteral
              InKeyword
              Identifier: ' value'
