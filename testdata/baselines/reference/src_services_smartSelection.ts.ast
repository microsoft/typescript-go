SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    CharacterCodes'
        ImportSpecifier
          Identifier: '
    compact'
        ImportSpecifier
          Identifier: '
    contains'
        ImportSpecifier
          Identifier: '
    createTextSpanFromBounds'
        ImportSpecifier
          Identifier: '
    Debug'
        ImportSpecifier
          Identifier: '
    findIndex'
        ImportSpecifier
          Identifier: '
    first'
        ImportSpecifier
          Identifier: '
    getTokenPosOfNode'
        ImportSpecifier
          Identifier: '
    getTouchingPropertyName'
        ImportSpecifier
          Identifier: '
    getTrailingCommentRanges'
        ImportSpecifier
          Identifier: '
    hasJSDocNodes'
        ImportSpecifier
          Identifier: '
    isBindingElement'
        ImportSpecifier
          Identifier: '
    isBlock'
        ImportSpecifier
          Identifier: '
    isFunctionBody'
        ImportSpecifier
          Identifier: '
    isFunctionLikeDeclaration'
        ImportSpecifier
          Identifier: '
    isImportDeclaration'
        ImportSpecifier
          Identifier: '
    isImportEqualsDeclaration'
        ImportSpecifier
          Identifier: '
    isJSDocSignature'
        ImportSpecifier
          Identifier: '
    isJSDocTypeExpression'
        ImportSpecifier
          Identifier: '
    isJSDocTypeLiteral'
        ImportSpecifier
          Identifier: '
    isMappedTypeNode'
        ImportSpecifier
          Identifier: '
    isParameter'
        ImportSpecifier
          Identifier: '
    isPropertySignature'
        ImportSpecifier
          Identifier: '
    isSourceFile'
        ImportSpecifier
          Identifier: '
    isStringLiteral'
        ImportSpecifier
          Identifier: '
    isSyntaxList'
        ImportSpecifier
          Identifier: '
    isTemplateHead'
        ImportSpecifier
          Identifier: '
    isTemplateLiteral'
        ImportSpecifier
          Identifier: '
    isTemplateMiddleOrTemplateTail'
        ImportSpecifier
          Identifier: '
    isTemplateSpan'
        ImportSpecifier
          Identifier: '
    isTemplateTail'
        ImportSpecifier
          Identifier: '
    isVariableDeclaration'
        ImportSpecifier
          Identifier: '
    isVariableDeclarationList'
        ImportSpecifier
          Identifier: '
    isVariableStatement'
        ImportSpecifier
          Identifier: '
    last'
        ImportSpecifier
          Identifier: '
    Node'
        ImportSpecifier
          Identifier: '
    or'
        ImportSpecifier
          Identifier: '
    parseNodeFactory'
        ImportSpecifier
          Identifier: '
    positionsAreOnSameLine'
        ImportSpecifier
          Identifier: '
    SelectionRange'
        ImportSpecifier
          Identifier: '
    setTextRangePosEnd'
        ImportSpecifier
          Identifier: '
    singleOrUndefined'
        ImportSpecifier
          Identifier: '
    SourceFile'
        ImportSpecifier
          Identifier: '
    SyntaxKind'
        ImportSpecifier
          Identifier: '
    SyntaxList'
        ImportSpecifier
          Identifier: '
    textSpanIntersectsWithPosition'
        ImportSpecifier
          Identifier: '
    textSpansEqual'
    StringLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' getSmartSelectionRange'
    Parameter
      Identifier: 'pos'
      NumberKeyword
    Parameter
      Identifier: ' sourceFile'
      TypeReference
        Identifier: ' SourceFile'
    TypeReference
      Identifier: ' SelectionRange'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' selectionRange'
            TypeReference
              Identifier: ' SelectionRange'
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
        textSpan'
                CallExpression
                  Identifier: ' createTextSpanFromBounds'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'sourceFile'
                      Identifier: 'getFullStart'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' sourceFile'
                      Identifier: 'getEnd'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' parentNode'
            TypeReference
              Identifier: ' Node'
            Identifier: ' sourceFile'
      LabeledStatement
        Identifier: '
    outer'
        WhileStatement
          TrueKeyword
          Block
            VariableStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' children'
                  CallExpression
                    Identifier: ' getSelectionChildren'
                    Identifier: 'parentNode'
            IfStatement
              PrefixUnaryExpression
                PropertyAccessExpression
                  Identifier: 'children'
                  Identifier: 'length'
              BreakStatement
            ForStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' i'
                  NumericLiteral
              BinaryExpression
                Identifier: ' i'
                LessThanToken
                PropertyAccessExpression
                  Identifier: ' children'
                  Identifier: 'length'
              PostfixUnaryExpression
                Identifier: ' i'
              Block
                VariableStatement
                  VariableDeclarationList
                    VariableDeclaration
                      Identifier: ' prevNode'
                      UnionType
                        TypeReference
                          Identifier: ' Node'
                        UndefinedKeyword
                      ElementAccessExpression
                        Identifier: ' children'
                        BinaryExpression
                          Identifier: 'i'
                          MinusToken
                          NumericLiteral
                VariableStatement
                  VariableDeclarationList
                    VariableDeclaration
                      Identifier: ' node'
                      TypeReference
                        Identifier: ' Node'
                      ElementAccessExpression
                        Identifier: ' children'
                        Identifier: 'i'
                VariableStatement
                  VariableDeclarationList
                    VariableDeclaration
                      Identifier: ' nextNode'
                      UnionType
                        TypeReference
                          Identifier: ' Node'
                        UndefinedKeyword
                      ElementAccessExpression
                        Identifier: ' children'
                        BinaryExpression
                          Identifier: 'i'
                          PlusToken
                          NumericLiteral
                IfStatement
                  BinaryExpression
                    CallExpression
                      Identifier: 'getTokenPosOfNode'
                      Identifier: 'node'
                      Identifier: ' sourceFile'
                      TrueKeyword
                    GreaterThanToken
                    Identifier: ' pos'
                  Block
                    BreakStatement
                      Identifier: ' outer'
                VariableStatement
                  VariableDeclarationList
                    VariableDeclaration
                      Identifier: ' comment'
                      CallExpression
                        Identifier: ' singleOrUndefined'
                        CallExpression
                          Identifier: 'getTrailingCommentRanges'
                          PropertyAccessExpression
                            Identifier: 'sourceFile'
                            Identifier: 'text'
                          PropertyAccessExpression
                            Identifier: ' node'
                            Identifier: 'end'
                IfStatement
                  BinaryExpression
                    Identifier: 'comment'
                    AmpersandAmpersandToken
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: ' comment'
                        Identifier: 'kind'
                      EqualsEqualsEqualsToken
                      PropertyAccessExpression
                        Identifier: ' SyntaxKind'
                        Identifier: 'SingleLineCommentTrivia'
                  Block
                    ExpressionStatement
                      CallExpression
                        Identifier: '
                pushSelectionCommentRange'
                        PropertyAccessExpression
                          Identifier: 'comment'
                          Identifier: 'pos'
                        PropertyAccessExpression
                          Identifier: ' comment'
                          Identifier: 'end'
                IfStatement
                  CallExpression
                    Identifier: 'positionShouldSnapToNode'
                    Identifier: 'sourceFile'
                    Identifier: ' pos'
                    Identifier: ' node'
                  Block
                    IfStatement
                      BinaryExpression
                        BinaryExpression
                          CallExpression
                            Identifier: '
                    isFunctionBody'
                            Identifier: 'node'
                          AmpersandAmpersandToken
                          CallExpression
                            Identifier: ' isFunctionLikeDeclaration'
                            Identifier: 'parentNode'
                        AmpersandAmpersandToken
                        PrefixUnaryExpression
                          CallExpression
                            Identifier: 'positionsAreOnSameLine'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: 'node'
                                Identifier: 'getStart'
                              Identifier: 'sourceFile'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' node'
                                Identifier: 'getEnd'
                            Identifier: ' sourceFile'
                      Block
                        ExpressionStatement
                          CallExpression
                            Identifier: '
                    pushSelectionRange'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: 'node'
                                Identifier: 'getStart'
                              Identifier: 'sourceFile'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' node'
                                Identifier: 'getEnd'
                    IfStatement
                      BinaryExpression
                        BinaryExpression
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                BinaryExpression
                                  BinaryExpression
                                    BinaryExpression
                                      BinaryExpression
                                        BinaryExpression
                                          CallExpression
                                            Identifier: '
                    isBlock'
                                            Identifier: 'node'
                                          BarBarToken
                                          CallExpression
                                            Identifier: ' isTemplateSpan'
                                            Identifier: 'node'
                                        BarBarToken
                                        CallExpression
                                          Identifier: ' isTemplateHead'
                                          Identifier: 'node'
                                      BarBarToken
                                      CallExpression
                                        Identifier: ' isTemplateTail'
                                        Identifier: 'node'
                                    BarBarToken
                                    BinaryExpression
                                      Identifier: ' prevNode'
                                      AmpersandAmpersandToken
                                      CallExpression
                                        Identifier: ' isTemplateHead'
                                        Identifier: 'prevNode'
                                  BarBarToken
                                  BinaryExpression
                                    CallExpression
                                      Identifier: ' isVariableDeclarationList'
                                      Identifier: 'node'
                                    AmpersandAmpersandToken
                                    CallExpression
                                      Identifier: ' isVariableStatement'
                                      Identifier: 'parentNode'
                                BarBarToken
                                BinaryExpression
                                  CallExpression
                                    Identifier: ' isSyntaxList'
                                    Identifier: 'node'
                                  AmpersandAmpersandToken
                                  CallExpression
                                    Identifier: ' isVariableDeclarationList'
                                    Identifier: 'parentNode'
                              BarBarToken
                              BinaryExpression
                                BinaryExpression
                                  CallExpression
                                    Identifier: ' isVariableDeclaration'
                                    Identifier: 'node'
                                  AmpersandAmpersandToken
                                  CallExpression
                                    Identifier: ' isSyntaxList'
                                    Identifier: 'parentNode'
                                AmpersandAmpersandToken
                                BinaryExpression
                                  PropertyAccessExpression
                                    Identifier: ' children'
                                    Identifier: 'length'
                                  EqualsEqualsEqualsToken
                                  NumericLiteral
                            BarBarToken
                            CallExpression
                              Identifier: ' isJSDocTypeExpression'
                              Identifier: 'node'
                          BarBarToken
                          CallExpression
                            Identifier: ' isJSDocSignature'
                            Identifier: 'node'
                        BarBarToken
                        CallExpression
                          Identifier: ' isJSDocTypeLiteral'
                          Identifier: 'node'
                      Block
                        ExpressionStatement
                          BinaryExpression
                            Identifier: '
                    parentNode'
                            EqualsToken
                            Identifier: ' node'
                        BreakStatement
                    IfStatement
                      BinaryExpression
                        BinaryExpression
                          CallExpression
                            Identifier: 'isTemplateSpan'
                            Identifier: 'parentNode'
                          AmpersandAmpersandToken
                          Identifier: ' nextNode'
                        AmpersandAmpersandToken
                        CallExpression
                          Identifier: ' isTemplateMiddleOrTemplateTail'
                          Identifier: 'nextNode'
                      Block
                        VariableStatement
                          VariableDeclarationList
                            VariableDeclaration
                              Identifier: ' start'
                              BinaryExpression
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' node'
                                    Identifier: 'getFullStart'
                                MinusToken
                                PropertyAccessExpression
                                  StringLiteral
                                  Identifier: 'length'
                        VariableStatement
                          VariableDeclarationList
                            VariableDeclaration
                              Identifier: ' end'
                              BinaryExpression
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' nextNode'
                                    Identifier: 'getStart'
                                PlusToken
                                PropertyAccessExpression
                                  StringLiteral
                                  Identifier: 'length'
                        ExpressionStatement
                          CallExpression
                            Identifier: '
                    pushSelectionRange'
                            Identifier: 'start'
                            Identifier: ' end'
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' isBetweenMultiLineBookends'
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                CallExpression
                                  Identifier: ' isSyntaxList'
                                  Identifier: 'node'
                                AmpersandAmpersandToken
                                CallExpression
                                  Identifier: ' isListOpener'
                                  Identifier: 'prevNode'
                              AmpersandAmpersandToken
                              CallExpression
                                Identifier: ' isListCloser'
                                Identifier: 'nextNode'
                            AmpersandAmpersandToken
                            PrefixUnaryExpression
                              CallExpression
                                Identifier: 'positionsAreOnSameLine'
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: 'prevNode'
                                    Identifier: 'getStart'
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' nextNode'
                                    Identifier: 'getStart'
                                Identifier: ' sourceFile'
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' start'
                          ConditionalExpression
                            Identifier: ' isBetweenMultiLineBookends'
                            QuestionToken
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' prevNode'
                                Identifier: 'getEnd'
                            ColonToken
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' node'
                                Identifier: 'getStart'
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' end'
                          ConditionalExpression
                            Identifier: ' isBetweenMultiLineBookends'
                            QuestionToken
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' nextNode'
                                Identifier: 'getStart'
                            ColonToken
                            CallExpression
                              Identifier: ' getEndPos'
                              Identifier: 'sourceFile'
                              Identifier: ' node'
                    IfStatement
                      BinaryExpression
                        CallExpression
                          Identifier: 'hasJSDocNodes'
                          Identifier: 'node'
                        AmpersandAmpersandToken
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' node'
                            Identifier: 'jsDoc'
                          QuestionDotToken
                          Identifier: 'length'
                      Block
                        ExpressionStatement
                          CallExpression
                            Identifier: '
                    pushSelectionRange'
                            CallExpression
                              PropertyAccessExpression
                                CallExpression
                                  Identifier: 'first'
                                  PropertyAccessExpression
                                    Identifier: 'node'
                                    Identifier: 'jsDoc'
                                Identifier: 'getStart'
                            Identifier: ' end'
                    IfStatement
                      CallExpression
                        Identifier: 'isSyntaxList'
                        Identifier: 'node'
                      Block
                        VariableStatement
                          VariableDeclarationList
                            VariableDeclaration
                              Identifier: ' firstChild'
                              ElementAccessExpression
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' node'
                                    Identifier: 'getChildren'
                                NumericLiteral
                        IfStatement
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                Identifier: 'firstChild'
                                AmpersandAmpersandToken
                                CallExpression
                                  Identifier: ' hasJSDocNodes'
                                  Identifier: 'firstChild'
                              AmpersandAmpersandToken
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' firstChild'
                                  Identifier: 'jsDoc'
                                QuestionDotToken
                                Identifier: 'length'
                            AmpersandAmpersandToken
                            BinaryExpression
                              CallExpression
                                PropertyAccessExpression
                                  Identifier: ' firstChild'
                                  Identifier: 'getStart'
                              ExclamationEqualsEqualsToken
                              PropertyAccessExpression
                                Identifier: ' node'
                                Identifier: 'pos'
                          Block
                            ExpressionStatement
                              BinaryExpression
                                Identifier: '
                        start'
                                EqualsToken
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' Math'
                                    Identifier: 'min'
                                  Identifier: 'start'
                                  CallExpression
                                    PropertyAccessExpression
                                      CallExpression
                                        Identifier: ' first'
                                        PropertyAccessExpression
                                          Identifier: 'firstChild'
                                          Identifier: 'jsDoc'
                                      Identifier: 'getStart'
                    ExpressionStatement
                      CallExpression
                        Identifier: '
                pushSelectionRange'
                        Identifier: 'start'
                        Identifier: ' end'
                    IfStatement
                      BinaryExpression
                        CallExpression
                          Identifier: 'isStringLiteral'
                          Identifier: 'node'
                        BarBarToken
                        CallExpression
                          Identifier: ' isTemplateLiteral'
                          Identifier: 'node'
                      Block
                        ExpressionStatement
                          CallExpression
                            Identifier: '
                    pushSelectionRange'
                            BinaryExpression
                              Identifier: 'start'
                              PlusToken
                              NumericLiteral
                            BinaryExpression
                              Identifier: ' end'
                              MinusToken
                              NumericLiteral
                    ExpressionStatement
                      BinaryExpression
                        Identifier: '

                parentNode'
                        EqualsToken
                        Identifier: ' node'
                    BreakStatement
                IfStatement
                  BinaryExpression
                    Identifier: 'i'
                    EqualsEqualsEqualsToken
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: ' children'
                        Identifier: 'length'
                      MinusToken
                      NumericLiteral
                  Block
                    BreakStatement
                      Identifier: ' outer'
      ReturnStatement
        Identifier: ' selectionRange'
      FunctionDeclaration
        Identifier: ' pushSelectionRange'
        Parameter
          Identifier: 'start'
          NumberKeyword
        Parameter
          Identifier: ' end'
          NumberKeyword
        VoidKeyword
        Block
          IfStatement
            BinaryExpression
              Identifier: 'start'
              ExclamationEqualsEqualsToken
              Identifier: ' end'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' textSpan'
                    CallExpression
                      Identifier: ' createTextSpanFromBounds'
                      Identifier: 'start'
                      Identifier: ' end'
              IfStatement
                BinaryExpression
                  PrefixUnaryExpression
                    Identifier: 'selectionRange'
                  BarBarToken
                  ParenthesizedExpression
                    BinaryExpression
                      PrefixUnaryExpression
                        CallExpression
                          Identifier: 'textSpansEqual'
                          Identifier: 'textSpan'
                          PropertyAccessExpression
                            Identifier: ' selectionRange'
                            Identifier: 'textSpan'
                      AmpersandAmpersandToken
                      CallExpression
                        Identifier: '
                    // Skip ranges that don't contain the original position
                    textSpanIntersectsWithPosition'
                        Identifier: 'textSpan'
                        Identifier: ' pos'
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                selectionRange'
                      EqualsToken
                      ObjectLiteralExpression
                        ShorthandPropertyAssignment
                          Identifier: ' textSpan'
                        SpreadAssignment
                          BinaryExpression
                            Identifier: 'selectionRange'
                            AmpersandAmpersandToken
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' parent'
                                Identifier: ' selectionRange'
      FunctionDeclaration
        Identifier: ' pushSelectionCommentRange'
        Parameter
          Identifier: 'start'
          NumberKeyword
        Parameter
          Identifier: ' end'
          NumberKeyword
        VoidKeyword
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        pushSelectionRange'
              Identifier: 'start'
              Identifier: ' end'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' pos'
                Identifier: ' start'
          WhileStatement
            BinaryExpression
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: 'sourceFile'
                    Identifier: 'text'
                  Identifier: 'charCodeAt'
                Identifier: 'pos'
              EqualsEqualsEqualsToken
              PropertyAccessExpression
                Identifier: ' CharacterCodes'
                Identifier: 'slash'
            Block
              ExpressionStatement
                PostfixUnaryExpression
                  Identifier: '
            pos'
          ExpressionStatement
            CallExpression
              Identifier: '
        pushSelectionRange'
              Identifier: 'pos'
              Identifier: ' end'
  FunctionDeclaration
    Identifier: ' positionShouldSnapToNode'
    Parameter
      Identifier: 'sourceFile'
      TypeReference
        Identifier: ' SourceFile'
    Parameter
      Identifier: ' pos'
      NumberKeyword
    Parameter
      Identifier: ' node'
      TypeReference
        Identifier: ' Node'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    // Can't use 'ts.positionBelongsToNode()' here because it cleverly accounts
    // for missing nodes, which can't really be considered when deciding what
    // to select.
    Debug'
            Identifier: 'assert'
          BinaryExpression
            PropertyAccessExpression
              Identifier: 'node'
              Identifier: 'pos'
            LessThanEqualsToken
            Identifier: ' pos'
      IfStatement
        BinaryExpression
          Identifier: 'pos'
          LessThanToken
          PropertyAccessExpression
            Identifier: ' node'
            Identifier: 'end'
        Block
          ReturnStatement
            TrueKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' nodeEnd'
            CallExpression
              PropertyAccessExpression
                Identifier: ' node'
                Identifier: 'getEnd'
      IfStatement
        BinaryExpression
          Identifier: 'nodeEnd'
          EqualsEqualsEqualsToken
          Identifier: ' pos'
        Block
          ReturnStatement
            BinaryExpression
              PropertyAccessExpression
                CallExpression
                  Identifier: ' getTouchingPropertyName'
                  Identifier: 'sourceFile'
                  Identifier: ' pos'
                Identifier: 'pos'
              LessThanToken
              PropertyAccessExpression
                Identifier: ' node'
                Identifier: 'end'
      ReturnStatement
        FalseKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' isImport'
        CallExpression
          Identifier: ' or'
          Identifier: 'isImportDeclaration'
          Identifier: ' isImportEqualsDeclaration'
  FunctionDeclaration
    Identifier: ' getSelectionChildren'
    Parameter
      Identifier: 'node'
      TypeReference
        Identifier: ' Node'
    TypeOperator
      ArrayType
        TypeReference
          Identifier: ' Node'
    Block
      IfStatement
        CallExpression
          Identifier: 'isSourceFile'
          Identifier: 'node'
        Block
          ReturnStatement
            CallExpression
              Identifier: ' groupChildren'
              CallExpression
                PropertyAccessExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'node'
                      Identifier: 'getChildAt'
                    NumericLiteral
                  Identifier: 'getChildren'
              Identifier: ' isImport'
      IfStatement
        CallExpression
          Identifier: 'isMappedTypeNode'
          Identifier: 'node'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                ArrayBindingPattern
                  BindingElement
                    Identifier: 'openBraceToken'
                  BindingElement
                    DotDotDotToken
                    Identifier: 'children'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' node'
                    Identifier: 'getChildren'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' closeBraceToken'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' Debug'
                    Identifier: 'checkDefined'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'children'
                      Identifier: 'pop'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        Debug'
                Identifier: 'assertEqual'
              PropertyAccessExpression
                Identifier: 'openBraceToken'
                Identifier: 'kind'
              PropertyAccessExpression
                Identifier: ' SyntaxKind'
                Identifier: 'OpenBraceToken'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        Debug'
                Identifier: 'assertEqual'
              PropertyAccessExpression
                Identifier: 'closeBraceToken'
                Identifier: 'kind'
              PropertyAccessExpression
                Identifier: ' SyntaxKind'
                Identifier: 'CloseBraceToken'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' groupedWithPlusMinusTokens'
                CallExpression
                  Identifier: ' groupChildren'
                  Identifier: 'children'
                  ArrowFunction
                    Parameter
                      Identifier: ' child'
                    EqualsGreaterThanToken
                    BinaryExpression
                      BinaryExpression
                        BinaryExpression
                          BinaryExpression
                            Identifier: '
            child'
                            EqualsEqualsEqualsToken
                            PropertyAccessExpression
                              Identifier: ' node'
                              Identifier: 'readonlyToken'
                          BarBarToken
                          BinaryExpression
                            PropertyAccessExpression
                              Identifier: ' child'
                              Identifier: 'kind'
                            EqualsEqualsEqualsToken
                            PropertyAccessExpression
                              Identifier: ' SyntaxKind'
                              Identifier: 'ReadonlyKeyword'
                        BarBarToken
                        BinaryExpression
                          Identifier: '
            child'
                          EqualsEqualsEqualsToken
                          PropertyAccessExpression
                            Identifier: ' node'
                            Identifier: 'questionToken'
                      BarBarToken
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: ' child'
                          Identifier: 'kind'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' SyntaxKind'
                          Identifier: 'QuestionToken'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' groupedWithBrackets'
                CallExpression
                  Identifier: ' groupChildren'
                  Identifier: 'groupedWithPlusMinusTokens'
                  ArrowFunction
                    Parameter
                      ObjectBindingPattern
                        BindingElement
                          Identifier: ' kind'
                    EqualsGreaterThanToken
                    BinaryExpression
                      BinaryExpression
                        BinaryExpression
                          Identifier: '
            kind'
                          EqualsEqualsEqualsToken
                          PropertyAccessExpression
                            Identifier: ' SyntaxKind'
                            Identifier: 'OpenBracketToken'
                        BarBarToken
                        BinaryExpression
                          Identifier: '
            kind'
                          EqualsEqualsEqualsToken
                          PropertyAccessExpression
                            Identifier: ' SyntaxKind'
                            Identifier: 'TypeParameter'
                      BarBarToken
                      BinaryExpression
                        Identifier: '
            kind'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' SyntaxKind'
                          Identifier: 'CloseBracketToken'
          ReturnStatement
            ArrayLiteralExpression
              Identifier: '
            openBraceToken'
              CallExpression
                Identifier: '
            // Pivot on `:`
            createSyntaxList'
                CallExpression
                  Identifier: 'splitChildren'
                  Identifier: 'groupedWithBrackets'
                  ArrowFunction
                    Parameter
                      ObjectBindingPattern
                        BindingElement
                          Identifier: ' kind'
                    EqualsGreaterThanToken
                    BinaryExpression
                      Identifier: ' kind'
                      EqualsEqualsEqualsToken
                      PropertyAccessExpression
                        Identifier: ' SyntaxKind'
                        Identifier: 'ColonToken'
              Identifier: '
            closeBraceToken'
      IfStatement
        CallExpression
          Identifier: 'isPropertySignature'
          Identifier: 'node'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' children'
                CallExpression
                  Identifier: ' groupChildren'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'node'
                      Identifier: 'getChildren'
                  ArrowFunction
                    Parameter
                      Identifier: ' child'
                    EqualsGreaterThanToken
                    BinaryExpression
                      BinaryExpression
                        Identifier: ' child'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' node'
                          Identifier: 'name'
                      BarBarToken
                      CallExpression
                        Identifier: ' contains'
                        PropertyAccessExpression
                          Identifier: 'node'
                          Identifier: 'modifiers'
                        Identifier: ' child'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' firstJSDocChild'
                ConditionalExpression
                  BinaryExpression
                    PropertyAccessExpression
                      ElementAccessExpression
                        Identifier: ' children'
                        NumericLiteral
                      QuestionDotToken
                      Identifier: 'kind'
                    EqualsEqualsEqualsToken
                    PropertyAccessExpression
                      Identifier: ' SyntaxKind'
                      Identifier: 'JSDoc'
                  QuestionToken
                  ElementAccessExpression
                    Identifier: ' children'
                    NumericLiteral
                  ColonToken
                  Identifier: ' undefined'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' withJSDocSeparated'
                ConditionalExpression
                  Identifier: ' firstJSDocChild'
                  QuestionToken
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' children'
                      Identifier: 'slice'
                    NumericLiteral
                  ColonToken
                  Identifier: ' children'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' splittedChildren'
                CallExpression
                  Identifier: ' splitChildren'
                  Identifier: 'withJSDocSeparated'
                  ArrowFunction
                    Parameter
                      ObjectBindingPattern
                        BindingElement
                          Identifier: ' kind'
                    EqualsGreaterThanToken
                    BinaryExpression
                      Identifier: ' kind'
                      EqualsEqualsEqualsToken
                      PropertyAccessExpression
                        Identifier: ' SyntaxKind'
                        Identifier: 'ColonToken'
          ReturnStatement
            ConditionalExpression
              Identifier: ' firstJSDocChild'
              QuestionToken
              ArrayLiteralExpression
                Identifier: 'firstJSDocChild'
                CallExpression
                  Identifier: ' createSyntaxList'
                  Identifier: 'splittedChildren'
              ColonToken
              Identifier: ' splittedChildren'
      IfStatement
        CallExpression
          Identifier: 'isParameter'
          Identifier: 'node'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' groupedDotDotDotAndName'
                CallExpression
                  Identifier: ' groupChildren'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'node'
                      Identifier: 'getChildren'
                  ArrowFunction
                    Parameter
                      Identifier: ' child'
                    EqualsGreaterThanToken
                    BinaryExpression
                      BinaryExpression
                        Identifier: ' child'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' node'
                          Identifier: 'dotDotDotToken'
                      BarBarToken
                      BinaryExpression
                        Identifier: ' child'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' node'
                          Identifier: 'name'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' groupedWithQuestionToken'
                CallExpression
                  Identifier: ' groupChildren'
                  Identifier: 'groupedDotDotDotAndName'
                  ArrowFunction
                    Parameter
                      Identifier: ' child'
                    EqualsGreaterThanToken
                    BinaryExpression
                      BinaryExpression
                        Identifier: ' child'
                        EqualsEqualsEqualsToken
                        ElementAccessExpression
                          Identifier: ' groupedDotDotDotAndName'
                          NumericLiteral
                      BarBarToken
                      BinaryExpression
                        Identifier: ' child'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' node'
                          Identifier: 'questionToken'
          ReturnStatement
            CallExpression
              Identifier: ' splitChildren'
              Identifier: 'groupedWithQuestionToken'
              ArrowFunction
                Parameter
                  ObjectBindingPattern
                    BindingElement
                      Identifier: ' kind'
                EqualsGreaterThanToken
                BinaryExpression
                  Identifier: ' kind'
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    Identifier: ' SyntaxKind'
                    Identifier: 'EqualsToken'
      IfStatement
        CallExpression
          Identifier: 'isBindingElement'
          Identifier: 'node'
        Block
          ReturnStatement
            CallExpression
              Identifier: ' splitChildren'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'node'
                  Identifier: 'getChildren'
              ArrowFunction
                Parameter
                  ObjectBindingPattern
                    BindingElement
                      Identifier: ' kind'
                EqualsGreaterThanToken
                BinaryExpression
                  Identifier: ' kind'
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    Identifier: ' SyntaxKind'
                    Identifier: 'EqualsToken'
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            Identifier: ' node'
            Identifier: 'getChildren'
  FunctionDeclaration
    Identifier: ' groupChildren'
    Parameter
      Identifier: 'children'
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' Node'
    Parameter
      Identifier: ' groupOn'
      FunctionType
        Parameter
          Identifier: 'child'
          TypeReference
            Identifier: ' Node'
        BooleanKeyword
    ArrayType
      TypeReference
        Identifier: ' Node'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' result'
            ArrayType
              TypeReference
                Identifier: ' Node'
            ArrayLiteralExpression
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' group'
            UnionType
              ArrayType
                TypeReference
                  Identifier: ' Node'
              UndefinedKeyword
      ForOfStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' child'
        Identifier: ' children'
        Block
          IfStatement
            CallExpression
              Identifier: 'groupOn'
              Identifier: 'child'
            Block
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            group'
                  EqualsToken
                  BinaryExpression
                    Identifier: ' group'
                    BarBarToken
                    ArrayLiteralExpression
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            group'
                    Identifier: 'push'
                  Identifier: 'child'
            Block
              IfStatement
                Identifier: 'group'
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                result'
                        Identifier: 'push'
                      CallExpression
                        Identifier: 'createSyntaxList'
                        Identifier: 'group'
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                group'
                      EqualsToken
                      Identifier: ' undefined'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            result'
                    Identifier: 'push'
                  Identifier: 'child'
      IfStatement
        Identifier: 'group'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        result'
                Identifier: 'push'
              CallExpression
                Identifier: 'createSyntaxList'
                Identifier: 'group'
      ReturnStatement
        Identifier: ' result'
  FunctionDeclaration
    Identifier: ' splitChildren'
    Parameter
      Identifier: 'children'
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' Node'
    Parameter
      Identifier: ' pivotOn'
      FunctionType
        Parameter
          Identifier: 'child'
          TypeReference
            Identifier: ' Node'
        BooleanKeyword
    Parameter
      Identifier: ' separateTrailingSemicolon'
      TrueKeyword
    TypeOperator
      ArrayType
        TypeReference
          Identifier: ' Node'
    Block
      IfStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: 'children'
            Identifier: 'length'
          LessThanToken
          NumericLiteral
        Block
          ReturnStatement
            Identifier: ' children'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' splitTokenIndex'
            CallExpression
              Identifier: ' findIndex'
              Identifier: 'children'
              Identifier: ' pivotOn'
      IfStatement
        BinaryExpression
          Identifier: 'splitTokenIndex'
          EqualsEqualsEqualsToken
          PrefixUnaryExpression
            NumericLiteral
        Block
          ReturnStatement
            Identifier: ' children'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' leftChildren'
            CallExpression
              PropertyAccessExpression
                Identifier: ' children'
                Identifier: 'slice'
              NumericLiteral
              Identifier: ' splitTokenIndex'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' splitToken'
            ElementAccessExpression
              Identifier: ' children'
              Identifier: 'splitTokenIndex'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' lastToken'
            CallExpression
              Identifier: ' last'
              Identifier: 'children'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' separateLastToken'
            BinaryExpression
              Identifier: ' separateTrailingSemicolon'
              AmpersandAmpersandToken
              BinaryExpression
                PropertyAccessExpression
                  Identifier: ' lastToken'
                  Identifier: 'kind'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  Identifier: ' SyntaxKind'
                  Identifier: 'SemicolonToken'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' rightChildren'
            CallExpression
              PropertyAccessExpression
                Identifier: ' children'
                Identifier: 'slice'
              BinaryExpression
                Identifier: 'splitTokenIndex'
                PlusToken
                NumericLiteral
              ConditionalExpression
                Identifier: ' separateLastToken'
                QuestionToken
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: ' children'
                    Identifier: 'length'
                  MinusToken
                  NumericLiteral
                ColonToken
                Identifier: ' undefined'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' result'
            CallExpression
              Identifier: ' compact'
              ArrayLiteralExpression
                ConditionalExpression
                  PropertyAccessExpression
                    Identifier: '
        leftChildren'
                    Identifier: 'length'
                  QuestionToken
                  CallExpression
                    Identifier: ' createSyntaxList'
                    Identifier: 'leftChildren'
                  ColonToken
                  Identifier: ' undefined'
                Identifier: '
        splitToken'
                ConditionalExpression
                  PropertyAccessExpression
                    Identifier: '
        rightChildren'
                    Identifier: 'length'
                  QuestionToken
                  CallExpression
                    Identifier: ' createSyntaxList'
                    Identifier: 'rightChildren'
                  ColonToken
                  Identifier: ' undefined'
      ReturnStatement
        ConditionalExpression
          Identifier: ' separateLastToken'
          QuestionToken
          CallExpression
            PropertyAccessExpression
              Identifier: ' result'
              Identifier: 'concat'
            Identifier: 'lastToken'
          ColonToken
          Identifier: ' result'
  FunctionDeclaration
    Identifier: ' createSyntaxList'
    Parameter
      Identifier: 'children'
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' Node'
    TypeReference
      Identifier: ' SyntaxList'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    Debug'
            Identifier: 'assertGreaterThanOrEqual'
          PropertyAccessExpression
            Identifier: 'children'
            Identifier: 'length'
          NumericLiteral
      ReturnStatement
        CallExpression
          Identifier: ' setTextRangePosEnd'
          CallExpression
            PropertyAccessExpression
              Identifier: 'parseNodeFactory'
              Identifier: 'createSyntaxList'
            Identifier: 'children'
          PropertyAccessExpression
            ElementAccessExpression
              Identifier: ' children'
              NumericLiteral
            Identifier: 'pos'
          PropertyAccessExpression
            CallExpression
              Identifier: ' last'
              Identifier: 'children'
            Identifier: 'end'
  FunctionDeclaration
    Identifier: ' isListOpener'
    Parameter
      Identifier: 'token'
      UnionType
        TypeReference
          Identifier: ' Node'
        UndefinedKeyword
    TypePredicate
      Identifier: ' token'
      TypeReference
        Identifier: ' Node'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' kind'
            BinaryExpression
              Identifier: ' token'
              AmpersandAmpersandToken
              PropertyAccessExpression
                Identifier: ' token'
                Identifier: 'kind'
      ReturnStatement
        BinaryExpression
          BinaryExpression
            BinaryExpression
              BinaryExpression
                Identifier: ' kind'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  Identifier: ' SyntaxKind'
                  Identifier: 'OpenBraceToken'
              BarBarToken
              BinaryExpression
                Identifier: ' kind'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  Identifier: ' SyntaxKind'
                  Identifier: 'OpenBracketToken'
            BarBarToken
            BinaryExpression
              Identifier: ' kind'
              EqualsEqualsEqualsToken
              PropertyAccessExpression
                Identifier: ' SyntaxKind'
                Identifier: 'OpenParenToken'
          BarBarToken
          BinaryExpression
            Identifier: ' kind'
            EqualsEqualsEqualsToken
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JsxOpeningElement'
  FunctionDeclaration
    Identifier: ' isListCloser'
    Parameter
      Identifier: 'token'
      UnionType
        TypeReference
          Identifier: ' Node'
        UndefinedKeyword
    TypePredicate
      Identifier: ' token'
      TypeReference
        Identifier: ' Node'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' kind'
            BinaryExpression
              Identifier: ' token'
              AmpersandAmpersandToken
              PropertyAccessExpression
                Identifier: ' token'
                Identifier: 'kind'
      ReturnStatement
        BinaryExpression
          BinaryExpression
            BinaryExpression
              BinaryExpression
                Identifier: ' kind'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  Identifier: ' SyntaxKind'
                  Identifier: 'CloseBraceToken'
              BarBarToken
              BinaryExpression
                Identifier: ' kind'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  Identifier: ' SyntaxKind'
                  Identifier: 'CloseBracketToken'
            BarBarToken
            BinaryExpression
              Identifier: ' kind'
              EqualsEqualsEqualsToken
              PropertyAccessExpression
                Identifier: ' SyntaxKind'
                Identifier: 'CloseParenToken'
          BarBarToken
          BinaryExpression
            Identifier: ' kind'
            EqualsEqualsEqualsToken
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JsxClosingElement'
  FunctionDeclaration
    Identifier: ' getEndPos'
    Parameter
      Identifier: 'sourceFile'
      TypeReference
        Identifier: ' SourceFile'
    Parameter
      Identifier: ' node'
      TypeReference
        Identifier: ' Node'
    NumberKeyword
    Block
      SwitchStatement
        PropertyAccessExpression
          Identifier: 'node'
          Identifier: 'kind'
        CaseBlock
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JSDocParameterTag'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JSDocCallbackTag'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JSDocPropertyTag'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JSDocTypedefTag'
          CaseClause
            PropertyAccessExpression
              Identifier: ' SyntaxKind'
              Identifier: 'JSDocThisTag'
            ReturnStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: ' sourceFile'
                  Identifier: 'getLineEndOfPosition'
                CallExpression
                  PropertyAccessExpression
                    Identifier: 'node'
                    Identifier: 'getStart'
          DefaultClause
            ReturnStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: ' node'
                  Identifier: 'getEnd'
