SourceFile
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' ts'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' jsonToReadableText'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    baselineTsserverLogs'
        ImportSpecifier
          Identifier: '
    projectInfoForSession'
        ImportSpecifier
          Identifier: '
    TestSession'
        ImportSpecifier
          Identifier: '
    TestSessionRequest'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' TestServerHost'
    StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '

describe'
      StringLiteral
      ArrowFunction
        EqualsGreaterThanToken
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' oldPrepare'
                TypeReference
                  QualifiedName
                    Identifier: ' ts'
                    Identifier: 'AnyFunction'
          ExpressionStatement
            CallExpression
              Identifier: '
    before'
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
        oldPrepare'
                      EqualsToken
                      PropertyAccessExpression
                        ParenthesizedExpression
                          AsExpression
                            Identifier: 'Error'
                            AnyKeyword
                        Identifier: 'prepareStackTrace'
                  ExpressionStatement
                    DeleteExpression
                      PropertyAccessExpression
                        ParenthesizedExpression
                          AsExpression
                            Identifier: 'Error'
                            AnyKeyword
                        Identifier: 'prepareStackTrace'
          ExpressionStatement
            CallExpression
              Identifier: '

    after'
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ExpressionStatement
                    BinaryExpression
                      PropertyAccessExpression
                        ParenthesizedExpression
                          AsExpression
                            Identifier: 'Error'
                            AnyKeyword
                        Identifier: 'prepareStackTrace'
                      EqualsToken
                      Identifier: ' oldPrepare'
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' f1'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            path'
                            StringLiteral
                          PropertyAssignment
                            Identifier: '
            content'
                            StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' host'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' TestServerHost'
                            Identifier: 'createServerHost'
                          ArrayLiteralExpression
                            Identifier: 'f1'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' session'
                        NewExpression
                          Identifier: ' TestSession'
                          ObjectLiteralExpression
                            ShorthandPropertyAssignment
                              Identifier: ' host'
                            PropertyAssignment
                              Identifier: ' useCancellationToken'
                              TrueKeyword
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '

        session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'OpenRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
            command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'Open'
                        PropertyAssignment
                          Identifier: '
            arguments'
                          ObjectLiteralExpression
                            PropertyAssignment
                              Identifier: ' file'
                              PropertyAccessExpression
                                Identifier: ' f1'
                                Identifier: 'path'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '

        session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'GeterrRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
            command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'Geterr'
                        PropertyAssignment
                          Identifier: '
            arguments'
                          ObjectLiteralExpression
                            PropertyAssignment
                              Identifier: ' files'
                              ArrayLiteralExpression
                                PropertyAccessExpression
                                  Identifier: 'f1'
                                  Identifier: 'path'
                            PropertyAssignment
                              Identifier: ' delay'
                              NumericLiteral
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '

        session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'DocumentHighlightsRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
            command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'DocumentHighlights'
                        PropertyAssignment
                          Identifier: '
            arguments'
                          ObjectLiteralExpression
                            PropertyAssignment
                              Identifier: ' file'
                              PropertyAccessExpression
                                Identifier: ' f1'
                                Identifier: 'path'
                            PropertyAssignment
                              Identifier: ' line'
                              NumericLiteral
                            PropertyAssignment
                              Identifier: ' offset'
                              NumericLiteral
                            PropertyAssignment
                              Identifier: ' filesToSearch'
                              ArrayLiteralExpression
                                PropertyAccessExpression
                                  Identifier: 'f1'
                                  Identifier: 'path'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '

        host'
                        Identifier: 'runQueuedTimeoutCallbacks'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
        host'
                        Identifier: 'runQueuedImmediateCallbacks'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
        host'
                        Identifier: 'runQueuedImmediateCallbacks'
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        baselineTsserverLogs'
                      StringLiteral
                      StringLiteral
                      Identifier: ' session'
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' f1'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            path'
                            StringLiteral
                          PropertyAssignment
                            Identifier: '
            content'
                            StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' config'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            path'
                            StringLiteral
                          PropertyAssignment
                            Identifier: '
            content'
                            CallExpression
                              Identifier: ' jsonToReadableText'
                              ObjectLiteralExpression
                                PropertyAssignment
                                  Identifier: '
                compilerOptions'
                                  ObjectLiteralExpression
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' host'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' TestServerHost'
                            Identifier: 'createServerHost'
                          ArrayLiteralExpression
                            Identifier: 'f1'
                            Identifier: ' config'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' session'
                        NewExpression
                          Identifier: ' TestSession'
                          ObjectLiteralExpression
                            ShorthandPropertyAssignment
                              Identifier: '
            host'
                            PropertyAssignment
                              Identifier: '
            useCancellationToken'
                              TrueKeyword
                  Block
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'OpenRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Open'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' file'
                                PropertyAccessExpression
                                  Identifier: ' f1'
                                  Identifier: 'path'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            // send geterr for missing file
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'GeterrRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Geterr'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' files'
                                ArrayLiteralExpression
                                  StringLiteral
                              PropertyAssignment
                                Identifier: ' delay'
                                NumericLiteral
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            // Queued files
            host'
                          Identifier: 'runQueuedTimeoutCallbacks'
                  Block
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' getErrId'
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' session'
                              Identifier: 'getNextSeq'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            // send geterr for a valid file
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'GeterrRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Geterr'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' files'
                                ArrayLiteralExpression
                                  PropertyAccessExpression
                                    Identifier: 'f1'
                                    Identifier: 'path'
                              PropertyAssignment
                                Identifier: ' delay'
                                NumericLiteral
                    ExpressionStatement
                      CallExpression
                        Identifier: '

            // run new request
            projectInfoForSession'
                        Identifier: 'session'
                        Identifier: ' f1'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '

            // cancel previously issued Geterr
            session'
                            Identifier: 'serverCancellationToken'
                          Identifier: 'setRequestToCancel'
                        Identifier: 'getErrId'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            host'
                          Identifier: 'runQueuedTimeoutCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'serverCancellationToken'
                          Identifier: 'resetToken'
                  Block
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' getErrId'
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' session'
                              Identifier: 'getNextSeq'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'GeterrRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Geterr'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' files'
                                ArrayLiteralExpression
                                  PropertyAccessExpression
                                    Identifier: 'f1'
                                    Identifier: 'path'
                              PropertyAssignment
                                Identifier: ' delay'
                                NumericLiteral
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '

            // run first step
            host'
                          Identifier: 'runQueuedTimeoutCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '

            session'
                            Identifier: 'serverCancellationToken'
                          Identifier: 'setRequestToCancel'
                        Identifier: 'getErrId'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            host'
                          Identifier: 'runQueuedImmediateCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '

            session'
                            Identifier: 'serverCancellationToken'
                          Identifier: 'resetToken'
                  Block
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'GeterrRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Geterr'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' files'
                                ArrayLiteralExpression
                                  PropertyAccessExpression
                                    Identifier: 'f1'
                                    Identifier: 'path'
                              PropertyAssignment
                                Identifier: ' delay'
                                NumericLiteral
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            // run first step
            host'
                          Identifier: 'runQueuedTimeoutCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            // the semanticDiag message
            host'
                          Identifier: 'runQueuedImmediateCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            host'
                          Identifier: 'runQueuedImmediateCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '
            session'
                            Identifier: 'serverCancellationToken'
                          Identifier: 'resetToken'
                  Block
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'GeterrRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Geterr'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' files'
                                ArrayLiteralExpression
                                  PropertyAccessExpression
                                    Identifier: 'f1'
                                    Identifier: 'path'
                              PropertyAssignment
                                Identifier: ' delay'
                                NumericLiteral
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            // run first step
            host'
                          Identifier: 'runQueuedTimeoutCallbacks'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'GeterrRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Geterr'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' files'
                                ArrayLiteralExpression
                                  PropertyAccessExpression
                                    Identifier: 'f1'
                                    Identifier: 'path'
                              PropertyAssignment
                                Identifier: ' delay'
                                NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        baselineTsserverLogs'
                      StringLiteral
                      StringLiteral
                      Identifier: ' session'
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' f1'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            path'
                            StringLiteral
                          PropertyAssignment
                            Identifier: '
            content'
                            NoSubstitutionTemplateLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' config'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            path'
                            StringLiteral
                          PropertyAssignment
                            Identifier: '
            content'
                            CallExpression
                              Identifier: ' jsonToReadableText'
                              ObjectLiteralExpression
                                PropertyAssignment
                                  Identifier: '
                compilerOptions'
                                  ObjectLiteralExpression
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' host'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' TestServerHost'
                            Identifier: 'createServerHost'
                          ArrayLiteralExpression
                            Identifier: 'f1'
                            Identifier: ' config'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' session'
                        NewExpression
                          Identifier: ' TestSession'
                          ObjectLiteralExpression
                            ShorthandPropertyAssignment
                              Identifier: '
            host'
                            PropertyAssignment
                              Identifier: '
            throttleWaitMilliseconds'
                              NumericLiteral
                            PropertyAssignment
                              Identifier: '
            useCancellationToken'
                              NumericLiteral
                  Block
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'OpenRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'Open'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' file'
                                PropertyAccessExpression
                                  Identifier: ' f1'
                                  Identifier: 'path'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '

            // send navbar request (normal priority)
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'NavBarRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'NavBar'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' file'
                                PropertyAccessExpression
                                  Identifier: ' f1'
                                  Identifier: 'path'
                    ExpressionStatement
                      CallExpression
                        Identifier: '

            // ensure the nav bar request can be canceled
            verifyExecuteCommandSeqIsCancellable'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'NavBarRequest'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'NavBar'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' file'
                                PropertyAccessExpression
                                  Identifier: ' f1'
                                  Identifier: 'path'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '

            // send outlining spans request (normal priority)
            session'
                          Identifier: 'executeCommandSeq'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'OutliningSpansRequestFull'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'GetOutliningSpansFull'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' file'
                                PropertyAccessExpression
                                  Identifier: ' f1'
                                  Identifier: 'path'
                    ExpressionStatement
                      CallExpression
                        Identifier: '

            // ensure the outlining spans request can be canceled
            verifyExecuteCommandSeqIsCancellable'
                        TypeReference
                          QualifiedName
                            QualifiedName
                              QualifiedName
                                Identifier: 'ts'
                                Identifier: 'server'
                              Identifier: 'protocol'
                            Identifier: 'OutliningSpansRequestFull'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                command'
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'server'
                                  Identifier: 'protocol'
                                Identifier: 'CommandTypes'
                              Identifier: 'GetOutliningSpansFull'
                          PropertyAssignment
                            Identifier: '
                arguments'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' file'
                                PropertyAccessExpression
                                  Identifier: ' f1'
                                  Identifier: 'path'
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        baselineTsserverLogs'
                      StringLiteral
                      StringLiteral
                      Identifier: ' session'
                  FunctionDeclaration
                    Identifier: ' verifyExecuteCommandSeqIsCancellable'
                    TypeParameter
                      Identifier: 'T'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: ' ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'Request'
                    Parameter
                      Identifier: 'request'
                      TypeReference
                        Identifier: ' TestSessionRequest'
                        TypeReference
                          Identifier: 'T'
                    Block
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            // Set the next request to be cancellable
            // The cancellation token will cancel the request the third time
            // isCancellationRequested() is called.
            session'
                              Identifier: 'serverCancellationToken'
                            Identifier: 'setRequestToCancel'
                          CallExpression
                            PropertyAccessExpression
                              Identifier: 'session'
                              Identifier: 'getNextSeq'
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' operationCanceledExceptionThrown'
                            FalseKeyword
                      TryStatement
                        Block
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                Identifier: '
                session'
                                Identifier: 'executeCommandSeq'
                              Identifier: 'request'
                        CatchClause
                          VariableDeclaration
                            Identifier: 'e'
                          Block
                            ExpressionStatement
                              CallExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: '
                session'
                                    Identifier: 'logger'
                                  Identifier: 'log'
                                TemplateExpression
                                  TemplateHead
                                  TemplateSpan
                                    BinaryExpression
                                      Identifier: 'e'
                                      InstanceOfKeyword
                                      PropertyAccessExpression
                                        Identifier: ' ts'
                                        Identifier: 'OperationCanceledException'
                                    TemplateTail
                            ExpressionStatement
                              BinaryExpression
                                Identifier: '
                operationCanceledExceptionThrown'
                                EqualsToken
                                TrueKeyword
                      IfStatement
                        PrefixUnaryExpression
                          Identifier: 'operationCanceledExceptionThrown'
                        ExpressionStatement
                          CallExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                Identifier: ' session'
                                Identifier: 'logger'
                              Identifier: 'log'
                            BinaryExpression
                              StringLiteral
                              PlusToken
                              CallExpression
                                Identifier: ' jsonToReadableText'
                                Identifier: 'request'
