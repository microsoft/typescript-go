SourceFile
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' ts'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' Utils'
    StringLiteral
  FunctionDeclaration
    Identifier: ' withChange'
    Parameter
      Identifier: 'text'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'IScriptSnapshot'
    Parameter
      Identifier: ' start'
      NumberKeyword
    Parameter
      Identifier: ' length'
      NumberKeyword
    Parameter
      Identifier: ' newText'
      StringKeyword
    TypeLiteral
      PropertySignature
        Identifier: ' text'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'IScriptSnapshot'
      PropertySignature
        Identifier: ' textChangeRange'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'TextChangeRange'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' contents'
            CallExpression
              PropertyAccessExpression
                Identifier: ' ts'
                Identifier: 'getSnapshotText'
              Identifier: 'text'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' newContents'
            BinaryExpression
              BinaryExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' contents'
                    Identifier: 'substr'
                  NumericLiteral
                  Identifier: ' start'
                PlusToken
                Identifier: ' newText'
              PlusToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' contents'
                  Identifier: 'substring'
                BinaryExpression
                  Identifier: 'start'
                  PlusToken
                  Identifier: ' length'
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' text'
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'ScriptSnapshot'
                Identifier: 'fromString'
              Identifier: 'newContents'
          PropertyAssignment
            Identifier: ' textChangeRange'
            CallExpression
              PropertyAccessExpression
                Identifier: ' ts'
                Identifier: 'createTextChangeRange'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'createTextSpan'
                Identifier: 'start'
                Identifier: ' length'
              PropertyAccessExpression
                Identifier: ' newText'
                Identifier: 'length'
  FunctionDeclaration
    Identifier: ' withInsert'
    Parameter
      Identifier: 'text'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'IScriptSnapshot'
    Parameter
      Identifier: ' start'
      NumberKeyword
    Parameter
      Identifier: ' newText'
      StringKeyword
    TypeLiteral
      PropertySignature
        Identifier: ' text'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'IScriptSnapshot'
      PropertySignature
        Identifier: ' textChangeRange'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'TextChangeRange'
    Block
      ReturnStatement
        CallExpression
          Identifier: ' withChange'
          Identifier: 'text'
          Identifier: ' start'
          NumericLiteral
          Identifier: ' newText'
  FunctionDeclaration
    Identifier: ' withDelete'
    Parameter
      Identifier: 'text'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'IScriptSnapshot'
    Parameter
      Identifier: ' start'
      NumberKeyword
    Parameter
      Identifier: ' length'
      NumberKeyword
    TypeLiteral
      PropertySignature
        Identifier: ' text'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'IScriptSnapshot'
      PropertySignature
        Identifier: ' textChangeRange'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'TextChangeRange'
    Block
      ReturnStatement
        CallExpression
          Identifier: ' withChange'
          Identifier: 'text'
          Identifier: ' start'
          Identifier: ' length'
          StringLiteral
  FunctionDeclaration
    Identifier: ' createTree'
    Parameter
      Identifier: 'text'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'IScriptSnapshot'
    Parameter
      Identifier: ' version'
      StringKeyword
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'createLanguageServiceSourceFile'
          StringLiteral
          Identifier: ' text'
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'ScriptTarget'
            Identifier: 'Latest'
          Identifier: ' version'
          TrueKeyword
  FunctionDeclaration
    Identifier: ' assertSameDiagnostics'
    Parameter
      Identifier: 'file1'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'SourceFile'
    Parameter
      Identifier: ' file2'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'SourceFile'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' diagnostics1'
            PropertyAccessExpression
              Identifier: ' file1'
              Identifier: 'parseDiagnostics'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' diagnostics2'
            PropertyAccessExpression
              Identifier: ' file2'
              Identifier: 'parseDiagnostics'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '

    assert'
            Identifier: 'equal'
          PropertyAccessExpression
            Identifier: 'diagnostics1'
            Identifier: 'length'
          PropertyAccessExpression
            Identifier: ' diagnostics2'
            Identifier: 'length'
          StringLiteral
      ForStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' i'
            NumericLiteral
        BinaryExpression
          Identifier: ' i'
          LessThanToken
          PropertyAccessExpression
            Identifier: ' diagnostics1'
            Identifier: 'length'
        PostfixUnaryExpression
          Identifier: ' i'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' d1'
                ElementAccessExpression
                  Identifier: ' diagnostics1'
                  Identifier: 'i'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' d2'
                ElementAccessExpression
                  Identifier: ' diagnostics2'
                  Identifier: 'i'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '

        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd1'
                Identifier: 'file'
              Identifier: ' file1'
              StringLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd2'
                Identifier: 'file'
              Identifier: ' file2'
              StringLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd1'
                Identifier: 'start'
              PropertyAccessExpression
                Identifier: ' d2'
                Identifier: 'start'
              StringLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd1'
                Identifier: 'length'
              PropertyAccessExpression
                Identifier: ' d2'
                Identifier: 'length'
              StringLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd1'
                Identifier: 'messageText'
              PropertyAccessExpression
                Identifier: ' d2'
                Identifier: 'messageText'
              StringLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd1'
                Identifier: 'category'
              PropertyAccessExpression
                Identifier: ' d2'
                Identifier: 'category'
              StringLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'd1'
                Identifier: 'code'
              PropertyAccessExpression
                Identifier: ' d2'
                Identifier: 'code'
              StringLiteral
  FunctionDeclaration
    Identifier: ' compareTrees'
    Parameter
      Identifier: 'oldText'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'IScriptSnapshot'
    Parameter
      Identifier: ' newText'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'IScriptSnapshot'
    Parameter
      Identifier: ' textChangeRange'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'TextChangeRange'
    Parameter
      Identifier: ' expectedReusedElements'
      NumberKeyword
    Parameter
      Identifier: ' oldTree'
      QuestionToken
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'SourceFile'
    Block
      ExpressionStatement
        BinaryExpression
          Identifier: '
    oldTree'
          EqualsToken
          BinaryExpression
            Identifier: ' oldTree'
            BarBarToken
            CallExpression
              Identifier: ' createTree'
              Identifier: 'oldText'
              StringLiteral
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    Utils'
            Identifier: 'assertInvariants'
          Identifier: 'oldTree'
          Identifier: ' /*parent:*/ undefined'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' newTree'
            CallExpression
              Identifier: ' createTree'
              Identifier: 'newText'
              BinaryExpression
                PropertyAccessExpression
                  Identifier: ' oldTree'
                  Identifier: 'version'
                PlusToken
                StringLiteral
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    Utils'
            Identifier: 'assertInvariants'
          Identifier: 'newTree'
          Identifier: ' /*parent:*/ undefined'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' incrementalNewTree'
            CallExpression
              PropertyAccessExpression
                Identifier: ' ts'
                Identifier: 'updateLanguageServiceSourceFile'
              Identifier: 'oldTree'
              Identifier: ' newText'
              BinaryExpression
                PropertyAccessExpression
                  Identifier: ' oldTree'
                  Identifier: 'version'
                PlusToken
                StringLiteral
              Identifier: ' textChangeRange'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    Utils'
            Identifier: 'assertInvariants'
          Identifier: 'incrementalNewTree'
          Identifier: ' /*parent:*/ undefined'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '

    // We should get the same tree when doign a full or incremental parse.
    Utils'
            Identifier: 'assertStructuralEquals'
          Identifier: 'newTree'
          Identifier: ' incrementalNewTree'
      ExpressionStatement
        CallExpression
          Identifier: '

    // We should also get the exact same set of diagnostics.
    assertSameDiagnostics'
          Identifier: 'newTree'
          Identifier: ' incrementalNewTree'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '

    // There should be no reused nodes between two trees that are fully parsed.
    assert'
            Identifier: 'isTrue'
          BinaryExpression
            CallExpression
              Identifier: 'reusedElements'
              Identifier: 'oldTree'
              Identifier: ' newTree'
            EqualsEqualsEqualsToken
            NumericLiteral
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '

    assert'
            Identifier: 'equal'
          PropertyAccessExpression
            Identifier: 'newTree'
            Identifier: 'fileName'
          PropertyAccessExpression
            Identifier: ' incrementalNewTree'
            Identifier: 'fileName'
          StringLiteral
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    assert'
            Identifier: 'equal'
          PropertyAccessExpression
            Identifier: 'newTree'
            Identifier: 'text'
          PropertyAccessExpression
            Identifier: ' incrementalNewTree'
            Identifier: 'text'
          StringLiteral
      IfStatement
        BinaryExpression
          Identifier: 'expectedReusedElements'
          ExclamationEqualsEqualsToken
          PrefixUnaryExpression
            NumericLiteral
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' actualReusedCount'
                CallExpression
                  Identifier: ' reusedElements'
                  Identifier: 'oldTree'
                  Identifier: ' incrementalNewTree'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              Identifier: 'actualReusedCount'
              Identifier: ' expectedReusedElements'
              BinaryExpression
                BinaryExpression
                  Identifier: ' actualReusedCount'
                  PlusToken
                  StringLiteral
                PlusToken
                Identifier: ' expectedReusedElements'
      ReturnStatement
        ObjectLiteralExpression
          ShorthandPropertyAssignment
            Identifier: ' oldTree'
          ShorthandPropertyAssignment
            Identifier: ' newTree'
          ShorthandPropertyAssignment
            Identifier: ' incrementalNewTree'
  FunctionDeclaration
    Identifier: ' reusedElements'
    Parameter
      Identifier: 'oldNode'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'SourceFile'
    Parameter
      Identifier: ' newNode'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'SourceFile'
    NumberKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' allOldElements'
            CallExpression
              Identifier: ' collectElements'
              Identifier: 'oldNode'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' allNewElements'
            CallExpression
              Identifier: ' collectElements'
              Identifier: 'newNode'
      ReturnStatement
        PropertyAccessExpression
          CallExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'filter'
            Identifier: 'allOldElements'
            ArrowFunction
              Parameter
                Identifier: ' v'
              EqualsGreaterThanToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'contains'
                Identifier: 'allNewElements'
                Identifier: ' v'
          Identifier: 'length'
  FunctionDeclaration
    Identifier: ' collectElements'
    Parameter
      Identifier: 'node'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'Node'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' result'
            ArrayType
              TypeReference
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'Node'
            ArrayLiteralExpression
      ExpressionStatement
        CallExpression
          Identifier: '
    visit'
          Identifier: 'node'
      ReturnStatement
        Identifier: ' result'
      FunctionDeclaration
        Identifier: ' visit'
        Parameter
          Identifier: 'node'
          TypeReference
            QualifiedName
              Identifier: ' ts'
              Identifier: 'Node'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        result'
                Identifier: 'push'
              Identifier: 'node'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        ts'
                Identifier: 'forEachChild'
              Identifier: 'node'
              Identifier: ' visit'
  FunctionDeclaration
    Identifier: ' deleteCode'
    Parameter
      Identifier: 'source'
      StringKeyword
    Parameter
      Identifier: ' index'
      NumberKeyword
    Parameter
      Identifier: ' toDelete'
      StringKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' repeat'
            PropertyAccessExpression
              Identifier: ' toDelete'
              Identifier: 'length'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' oldTree'
            CallExpression
              Identifier: ' createTree'
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: 'ts'
                    Identifier: 'ScriptSnapshot'
                  Identifier: 'fromString'
                Identifier: 'source'
              StringLiteral
      ForStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' i'
            NumericLiteral
        BinaryExpression
          Identifier: ' i'
          LessThanToken
          Identifier: ' repeat'
        PostfixUnaryExpression
          Identifier: ' i'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' oldText'
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'ScriptSnapshot'
                    Identifier: 'fromString'
                  Identifier: 'source'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' newTextAndChange'
                CallExpression
                  Identifier: ' withDelete'
                  Identifier: 'oldText'
                  Identifier: ' index'
                  NumericLiteral
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' newTree'
                PropertyAccessExpression
                  CallExpression
                    Identifier: ' compareTrees'
                    Identifier: 'oldText'
                    PropertyAccessExpression
                      Identifier: ' newTextAndChange'
                      Identifier: 'text'
                    PropertyAccessExpression
                      Identifier: ' newTextAndChange'
                      Identifier: 'textChangeRange'
                    PrefixUnaryExpression
                      NumericLiteral
                    Identifier: ' oldTree'
                  Identifier: 'incrementalNewTree'
          ExpressionStatement
            BinaryExpression
              Identifier: '

        source'
              EqualsToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'getSnapshotText'
                PropertyAccessExpression
                  Identifier: 'newTextAndChange'
                  Identifier: 'text'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        oldTree'
              EqualsToken
              Identifier: ' newTree'
  FunctionDeclaration
    Identifier: ' insertCode'
    Parameter
      Identifier: 'source'
      StringKeyword
    Parameter
      Identifier: ' index'
      NumberKeyword
    Parameter
      Identifier: ' toInsert'
      StringKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' repeat'
            PropertyAccessExpression
              Identifier: ' toInsert'
              Identifier: 'length'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' oldTree'
            CallExpression
              Identifier: ' createTree'
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: 'ts'
                    Identifier: 'ScriptSnapshot'
                  Identifier: 'fromString'
                Identifier: 'source'
              StringLiteral
      ForStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' i'
            NumericLiteral
        BinaryExpression
          Identifier: ' i'
          LessThanToken
          Identifier: ' repeat'
        PostfixUnaryExpression
          Identifier: ' i'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' oldText'
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'ScriptSnapshot'
                    Identifier: 'fromString'
                  Identifier: 'source'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' newTextAndChange'
                CallExpression
                  Identifier: ' withInsert'
                  Identifier: 'oldText'
                  BinaryExpression
                    Identifier: ' index'
                    PlusToken
                    Identifier: ' i'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' toInsert'
                      Identifier: 'charAt'
                    Identifier: 'i'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' newTree'
                PropertyAccessExpression
                  CallExpression
                    Identifier: ' compareTrees'
                    Identifier: 'oldText'
                    PropertyAccessExpression
                      Identifier: ' newTextAndChange'
                      Identifier: 'text'
                    PropertyAccessExpression
                      Identifier: ' newTextAndChange'
                      Identifier: 'textChangeRange'
                    PrefixUnaryExpression
                      NumericLiteral
                    Identifier: ' oldTree'
                  Identifier: 'incrementalNewTree'
          ExpressionStatement
            BinaryExpression
              Identifier: '

        source'
              EqualsToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'getSnapshotText'
                PropertyAccessExpression
                  Identifier: 'newTextAndChange'
                  Identifier: 'text'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        oldTree'
              EqualsToken
              Identifier: ' newTree'
  ExpressionStatement
    CallExpression
      Identifier: '

describe'
      StringLiteral
      ArrowFunction
        EqualsGreaterThanToken
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        BinaryExpression
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                BinaryExpression
                                  BinaryExpression
                                    StringLiteral
                                    PlusToken
                                    StringLiteral
                                  PlusToken
                                  StringLiteral
                                PlusToken
                                StringLiteral
                              PlusToken
                              StringLiteral
                            PlusToken
                            StringLiteral
                          PlusToken
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' semicolonIndex'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' semicolonIndex'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        BinaryExpression
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                BinaryExpression
                                  BinaryExpression
                                    StringLiteral
                                    PlusToken
                                    StringLiteral
                                  PlusToken
                                  StringLiteral
                                PlusToken
                                StringLiteral
                              PlusToken
                              StringLiteral
                            PlusToken
                            StringLiteral
                          PlusToken
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' semicolonIndex'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' semicolonIndex'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' semicolonIndex'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' semicolonIndex'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' semicolonIndex'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' semicolonIndex'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          NumericLiteral
                          NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        BinaryExpression
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                StringLiteral
                                PlusToken
                                StringLiteral
                              PlusToken
                              StringLiteral
                            PlusToken
                            StringLiteral
                          PlusToken
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' semicolonIndex'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' semicolonIndex'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          NumericLiteral
                          Identifier: ' index'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          NumericLiteral
                          Identifier: ' index'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          NumericLiteral
                          Identifier: ' index'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        BinaryExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' source'
                              Identifier: 'indexOf'
                            StringLiteral
                          PlusToken
                          NumericLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      PrefixUnaryExpression
                        NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      PrefixUnaryExpression
                        NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      PrefixUnaryExpression
                        NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      PrefixUnaryExpression
                        NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          BinaryExpression
                            Identifier: ' index'
                            PlusToken
                            NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'lastIndexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        PropertyAccessExpression
                          Identifier: ' source'
                          Identifier: 'length'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        NumericLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        NumericLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'length'
                          MinusToken
                          NumericLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withInsert'
                          Identifier: 'oldText'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withDelete'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        NoSubstitutionTemplateLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          NumericLiteral
                          NumericLiteral
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        ObjectBindingPattern
                          BindingElement
                            Identifier: ' oldTree'
                          BindingElement
                            Identifier: ' incrementalNewTree'
                        CallExpression
                          Identifier: ' compareTrees'
                          Identifier: 'oldText'
                          PropertyAccessExpression
                            Identifier: ' newTextAndChange'
                            Identifier: 'text'
                          PropertyAccessExpression
                            Identifier: ' newTextAndChange'
                            Identifier: 'textChangeRange'
                          PrefixUnaryExpression
                            NumericLiteral
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
        ts'
                        Identifier: 'bindSourceFile'
                      Identifier: 'oldTree'
                      ObjectLiteralExpression
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
        ts'
                        Identifier: 'bindSourceFile'
                      Identifier: 'incrementalNewTree'
                      ObjectLiteralExpression
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
        assert'
                        Identifier: 'equal'
                      PropertyAccessExpression
                        Identifier: 'oldTree'
                        Identifier: 'transformFlags'
                      PropertyAccessExpression
                        Identifier: ' incrementalNewTree'
                        Identifier: 'transformFlags'
          ExpressionStatement
            CallExpression
              Identifier: '

    // Simulated typing tests.

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        deleteCode'
                      Identifier: 'source'
                      Identifier: ' index'
                      StringLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' oldText'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          Identifier: 'source'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' source'
                            Identifier: 'indexOf'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' newTextAndChange'
                        CallExpression
                          Identifier: ' withChange'
                          Identifier: 'oldText'
                          Identifier: ' index'
                          NumericLiteral
                          StringLiteral
                  ExpressionStatement
                    CallExpression
                      Identifier: '

        compareTrees'
                      Identifier: 'oldText'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'text'
                      PropertyAccessExpression
                        Identifier: ' newTextAndChange'
                        Identifier: 'textChangeRange'
                      NumericLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' source'
                        BinaryExpression
                          BinaryExpression
                            BinaryExpression
                              BinaryExpression
                                BinaryExpression
                                  BinaryExpression
                                    BinaryExpression
                                      BinaryExpression
                                        BinaryExpression
                                          BinaryExpression
                                            BinaryExpression
                                              BinaryExpression
                                                BinaryExpression
                                                  BinaryExpression
                                                    BinaryExpression
                                                      StringLiteral
                                                      PlusToken
                                                      StringLiteral
                                                    PlusToken
                                                    StringLiteral
                                                  PlusToken
                                                  StringLiteral
                                                PlusToken
                                                StringLiteral
                                              PlusToken
                                              StringLiteral
                                            PlusToken
                                            StringLiteral
                                          PlusToken
                                          StringLiteral
                                        PlusToken
                                        StringLiteral
                                      PlusToken
                                      StringLiteral
                                    PlusToken
                                    StringLiteral
                                  PlusToken
                                  StringLiteral
                                PlusToken
                                StringLiteral
                              PlusToken
                              StringLiteral
                            PlusToken
                            StringLiteral
                          PlusToken
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' index'
                        BinaryExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' source'
                              Identifier: 'indexOf'
                            StringLiteral
                          PlusToken
                          PropertyAccessExpression
                            StringLiteral
                            Identifier: 'length'
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        insertCode'
                      Identifier: 'source'
                      Identifier: ' index'
                      StringLiteral
          ForOfStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' tsIgnoreComment'
            ArrayLiteralExpression
              StringLiteral
              StringLiteral
              StringLiteral
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
        describe'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      Identifier: 'tsIgnoreComment'
                      TemplateTail
                  ArrowFunction
                    EqualsGreaterThanToken
                    Block
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' textWithIgnoreComment'
                            TemplateExpression
                              TemplateHead
                              TemplateSpan
                                Identifier: 'tsIgnoreComment'
                                TemplateMiddle
                              TemplateSpan
                                Identifier: 'tsIgnoreComment'
                                TemplateMiddle
                              TemplateSpan
                                Identifier: 'tsIgnoreComment'
                                TemplateTail
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyDelete'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyInsert'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyChangeToBlah'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyChangeBackToDirective'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyDeletingBlah'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyChangeDirectiveType'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
            verifyScenario'
                          StringLiteral
                          Identifier: ' verifyReuseChange'
                      FunctionDeclaration
                        Identifier: ' verifyCommentDirectives'
                        Parameter
                          Identifier: 'oldText'
                          TypeReference
                            QualifiedName
                              Identifier: ' ts'
                              Identifier: 'IScriptSnapshot'
                        Parameter
                          Identifier: ' newTextAndChange'
                          TypeLiteral
                            PropertySignature
                              Identifier: ' text'
                              TypeReference
                                QualifiedName
                                  Identifier: ' ts'
                                  Identifier: 'IScriptSnapshot'
                            PropertySignature
                              Identifier: ' textChangeRange'
                              TypeReference
                                QualifiedName
                                  Identifier: ' ts'
                                  Identifier: 'TextChangeRange'
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                ObjectBindingPattern
                                  BindingElement
                                    Identifier: ' incrementalNewTree'
                                  BindingElement
                                    Identifier: ' newTree'
                                CallExpression
                                  Identifier: ' compareTrees'
                                  Identifier: 'oldText'
                                  PropertyAccessExpression
                                    Identifier: ' newTextAndChange'
                                    Identifier: 'text'
                                  PropertyAccessExpression
                                    Identifier: ' newTextAndChange'
                                    Identifier: 'textChangeRange'
                                  PrefixUnaryExpression
                                    NumericLiteral
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                Identifier: '
                assert'
                                Identifier: 'deepEqual'
                              PropertyAccessExpression
                                Identifier: 'incrementalNewTree'
                                Identifier: 'commentDirectives'
                              PropertyAccessExpression
                                Identifier: ' newTree'
                                Identifier: 'commentDirectives'
                      FunctionDeclaration
                        Identifier: ' verifyScenario'
                        Parameter
                          Identifier: 'scenario'
                          StringKeyword
                        Parameter
                          Identifier: ' verifyChange'
                          FunctionType
                            Parameter
                              Identifier: 'atIndex'
                              NumberKeyword
                            Parameter
                              Identifier: ' singleIgnore'
                              QuestionToken
                              LiteralType
                                TrueKeyword
                            VoidKeyword
                        Block
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                it'
                              TemplateExpression
                                TemplateHead
                                TemplateSpan
                                  Identifier: 'scenario'
                                  TemplateTail
                              ArrowFunction
                                EqualsGreaterThanToken
                                Block
                                  ExpressionStatement
                                    CallExpression
                                      Identifier: '
                    verifyChange'
                                      NumericLiteral
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                it'
                              TemplateExpression
                                TemplateHead
                                TemplateSpan
                                  Identifier: 'scenario'
                                  TemplateTail
                              ArrowFunction
                                EqualsGreaterThanToken
                                Block
                                  ExpressionStatement
                                    CallExpression
                                      Identifier: '
                    verifyChange'
                                      NumericLiteral
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                it'
                              TemplateExpression
                                TemplateHead
                                TemplateSpan
                                  Identifier: 'scenario'
                                  TemplateTail
                              ArrowFunction
                                EqualsGreaterThanToken
                                Block
                                  ExpressionStatement
                                    CallExpression
                                      Identifier: '
                    verifyChange'
                                      NumericLiteral
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                it'
                              TemplateExpression
                                TemplateHead
                                TemplateSpan
                                  Identifier: 'scenario'
                                  TemplateTail
                              ArrowFunction
                                EqualsGreaterThanToken
                                Block
                                  ExpressionStatement
                                    CallExpression
                                      Identifier: '
                    verifyChange'
                                      NumericLiteral
                                      TrueKeyword
                      FunctionDeclaration
                        Identifier: ' getIndexOfTsIgnoreComment'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                NumericLiteral
                          ForStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' i'
                                NumericLiteral
                            BinaryExpression
                              Identifier: ' i'
                              LessThanEqualsToken
                              Identifier: ' atIndex'
                            PostfixUnaryExpression
                              Identifier: ' i'
                            Block
                              ExpressionStatement
                                BinaryExpression
                                  Identifier: '
                    index'
                                  EqualsToken
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' textWithIgnoreComment'
                                      Identifier: 'indexOf'
                                    Identifier: 'tsIgnoreComment'
                                    Identifier: ' index'
                          ReturnStatement
                            Identifier: ' index'
                      FunctionDeclaration
                        Identifier: ' textWithIgnoreCommentFrom'
                        Parameter
                          Identifier: 'text'
                          StringKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          UnionType
                            LiteralType
                              TrueKeyword
                            UndefinedKeyword
                        Block
                          IfStatement
                            PrefixUnaryExpression
                              Identifier: 'singleIgnore'
                            ReturnStatement
                              Identifier: ' text'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' splits'
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' text'
                                    Identifier: 'split'
                                  Identifier: 'tsIgnoreComment'
                          IfStatement
                            BinaryExpression
                              PropertyAccessExpression
                                Identifier: 'splits'
                                Identifier: 'length'
                              GreaterThanToken
                              NumericLiteral
                            Block
                              VariableStatement
                                VariableDeclarationList
                                  VariableDeclaration
                                    Identifier: ' tail'
                                    BinaryExpression
                                      ElementAccessExpression
                                        Identifier: ' splits'
                                        BinaryExpression
                                          PropertyAccessExpression
                                            Identifier: 'splits'
                                            Identifier: 'length'
                                          MinusToken
                                          NumericLiteral
                                      PlusToken
                                      ElementAccessExpression
                                        Identifier: ' splits'
                                        BinaryExpression
                                          PropertyAccessExpression
                                            Identifier: 'splits'
                                            Identifier: 'length'
                                          MinusToken
                                          NumericLiteral
                              ExpressionStatement
                                BinaryExpression
                                  PropertyAccessExpression
                                    Identifier: '
                    splits'
                                    Identifier: 'length'
                                  EqualsToken
                                  BinaryExpression
                                    PropertyAccessExpression
                                      Identifier: ' splits'
                                      Identifier: 'length'
                                    MinusToken
                                    NumericLiteral
                              ReturnStatement
                                BinaryExpression
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' splits'
                                      Identifier: 'join'
                                    Identifier: 'tsIgnoreComment'
                                  PlusToken
                                  Identifier: ' tail'
                            Block
                              ReturnStatement
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' splits'
                                    Identifier: 'join'
                                  Identifier: 'tsIgnoreComment'
                      FunctionDeclaration
                        Identifier: ' verifyDelete'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                CallExpression
                                  Identifier: ' getIndexOfTsIgnoreComment'
                                  Identifier: 'atIndex'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  CallExpression
                                    Identifier: 'textWithIgnoreCommentFrom'
                                    Identifier: 'textWithIgnoreComment'
                                    Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withDelete'
                                  Identifier: 'oldText'
                                  Identifier: ' index'
                                  PropertyAccessExpression
                                    Identifier: ' tsIgnoreComment'
                                    Identifier: 'length'
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
                      FunctionDeclaration
                        Identifier: ' verifyInsert'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                CallExpression
                                  Identifier: ' getIndexOfTsIgnoreComment'
                                  Identifier: 'atIndex'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' source'
                                CallExpression
                                  Identifier: ' textWithIgnoreCommentFrom'
                                  BinaryExpression
                                    CallExpression
                                      PropertyAccessExpression
                                        Identifier: 'textWithIgnoreComment'
                                        Identifier: 'slice'
                                      NumericLiteral
                                      Identifier: ' index'
                                    PlusToken
                                    CallExpression
                                      PropertyAccessExpression
                                        Identifier: ' textWithIgnoreComment'
                                        Identifier: 'slice'
                                      BinaryExpression
                                        Identifier: 'index'
                                        PlusToken
                                        PropertyAccessExpression
                                          Identifier: ' tsIgnoreComment'
                                          Identifier: 'length'
                                  Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  Identifier: 'source'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withInsert'
                                  Identifier: 'oldText'
                                  Identifier: ' index'
                                  Identifier: ' tsIgnoreComment'
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
                      FunctionDeclaration
                        Identifier: ' verifyChangeToBlah'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                BinaryExpression
                                  CallExpression
                                    Identifier: ' getIndexOfTsIgnoreComment'
                                    Identifier: 'atIndex'
                                  PlusToken
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' tsIgnoreComment'
                                      Identifier: 'indexOf'
                                    StringLiteral
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  CallExpression
                                    Identifier: 'textWithIgnoreCommentFrom'
                                    Identifier: 'textWithIgnoreComment'
                                    Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withChange'
                                  Identifier: 'oldText'
                                  Identifier: ' index'
                                  NumericLiteral
                                  StringLiteral
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
                      FunctionDeclaration
                        Identifier: ' verifyChangeBackToDirective'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                BinaryExpression
                                  CallExpression
                                    Identifier: ' getIndexOfTsIgnoreComment'
                                    Identifier: 'atIndex'
                                  PlusToken
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' tsIgnoreComment'
                                      Identifier: 'indexOf'
                                    StringLiteral
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' source'
                                CallExpression
                                  Identifier: ' textWithIgnoreCommentFrom'
                                  BinaryExpression
                                    BinaryExpression
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: 'textWithIgnoreComment'
                                          Identifier: 'slice'
                                        NumericLiteral
                                        Identifier: ' index'
                                      PlusToken
                                      StringLiteral
                                    PlusToken
                                    CallExpression
                                      PropertyAccessExpression
                                        Identifier: ' textWithIgnoreComment'
                                        Identifier: 'slice'
                                      BinaryExpression
                                        Identifier: 'index'
                                        PlusToken
                                        NumericLiteral
                                  Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  Identifier: 'source'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withChange'
                                  Identifier: 'oldText'
                                  Identifier: ' index'
                                  PropertyAccessExpression
                                    StringLiteral
                                    Identifier: 'length'
                                  StringLiteral
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
                      FunctionDeclaration
                        Identifier: ' verifyDeletingBlah'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' tsIgnoreIndex'
                                CallExpression
                                  Identifier: ' getIndexOfTsIgnoreComment'
                                  Identifier: 'atIndex'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                BinaryExpression
                                  Identifier: ' tsIgnoreIndex'
                                  PlusToken
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' tsIgnoreComment'
                                      Identifier: 'indexOf'
                                    StringLiteral
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' source'
                                CallExpression
                                  Identifier: ' textWithIgnoreCommentFrom'
                                  BinaryExpression
                                    BinaryExpression
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: 'textWithIgnoreComment'
                                          Identifier: 'slice'
                                        NumericLiteral
                                        Identifier: ' index'
                                      PlusToken
                                      StringLiteral
                                    PlusToken
                                    CallExpression
                                      PropertyAccessExpression
                                        Identifier: ' textWithIgnoreComment'
                                        Identifier: 'slice'
                                      BinaryExpression
                                        Identifier: 'index'
                                        PlusToken
                                        NumericLiteral
                                  Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  Identifier: 'source'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withDelete'
                                  Identifier: 'oldText'
                                  Identifier: ' tsIgnoreIndex'
                                  BinaryExpression
                                    PropertyAccessExpression
                                      Identifier: ' tsIgnoreComment'
                                      Identifier: 'length'
                                    PlusToken
                                    PropertyAccessExpression
                                      StringLiteral
                                      Identifier: 'length'
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
                      FunctionDeclaration
                        Identifier: ' verifyChangeDirectiveType'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' index'
                                BinaryExpression
                                  CallExpression
                                    Identifier: ' getIndexOfTsIgnoreComment'
                                    Identifier: 'atIndex'
                                  PlusToken
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' tsIgnoreComment'
                                      Identifier: 'indexOf'
                                    StringLiteral
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  CallExpression
                                    Identifier: 'textWithIgnoreCommentFrom'
                                    Identifier: 'textWithIgnoreComment'
                                    Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withChange'
                                  Identifier: 'oldText'
                                  Identifier: ' index'
                                  PropertyAccessExpression
                                    StringLiteral
                                    Identifier: 'length'
                                  StringLiteral
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
                      FunctionDeclaration
                        Identifier: ' verifyReuseChange'
                        Parameter
                          Identifier: 'atIndex'
                          NumberKeyword
                        Parameter
                          Identifier: ' singleIgnore'
                          QuestionToken
                          LiteralType
                            TrueKeyword
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' source'
                                TemplateExpression
                                  TemplateHead
                                  TemplateSpan
                                    Identifier: 'tsIgnoreComment'
                                    TemplateMiddle
                                  TemplateSpan
                                    Identifier: 'tsIgnoreComment'
                                    TemplateMiddle
                                  TemplateSpan
                                    Identifier: 'tsIgnoreComment'
                                    TemplateTail
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldText'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' ts'
                                      Identifier: 'ScriptSnapshot'
                                    Identifier: 'fromString'
                                  CallExpression
                                    Identifier: 'textWithIgnoreCommentFrom'
                                    Identifier: 'source'
                                    Identifier: ' singleIgnore'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' start'
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' source'
                                    Identifier: 'indexOf'
                                  TemplateExpression
                                    TemplateHead
                                    TemplateSpan
                                      BinaryExpression
                                        Identifier: 'atIndex'
                                        PlusToken
                                        NumericLiteral
                                      TemplateTail
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' letStr'
                                TemplateExpression
                                  TemplateHead
                                  TemplateSpan
                                    BinaryExpression
                                      Identifier: 'atIndex'
                                      PlusToken
                                      NumericLiteral
                                    TemplateTail
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' end'
                                BinaryExpression
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: ' source'
                                      Identifier: 'indexOf'
                                    Identifier: 'letStr'
                                  PlusToken
                                  PropertyAccessExpression
                                    Identifier: ' letStr'
                                    Identifier: 'length'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' oldSubStr'
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' source'
                                    Identifier: 'slice'
                                  Identifier: 'start'
                                  Identifier: ' end'
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newText'
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' oldSubStr'
                                    Identifier: 'replace'
                                  Identifier: 'letStr'
                                  NoSubstitutionTemplateLiteral
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' newTextAndChange'
                                CallExpression
                                  Identifier: ' withChange'
                                  Identifier: 'oldText'
                                  Identifier: ' start'
                                  BinaryExpression
                                    Identifier: ' end'
                                    MinusToken
                                    Identifier: ' start'
                                  Identifier: ' newText'
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                verifyCommentDirectives'
                              Identifier: 'oldText'
                              Identifier: ' newTextAndChange'
