SourceFile
  ClassDeclaration
    Identifier: ' Base'
    PropertyDeclaration
      Identifier: ' foo'
      StringKeyword
  ClassDeclaration
    Identifier: ' Derived'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' Base'
    PropertyDeclaration
      Identifier: ' bar'
      StringKeyword
  ClassDeclaration
    Identifier: ' Derived2'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' Derived'
    PropertyDeclaration
      Identifier: ' baz'
      StringKeyword
  ClassDeclaration
    Identifier: ' OtherDerived'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' Base'
    PropertyDeclaration
      Identifier: ' bing'
      StringKeyword
  InterfaceDeclaration
    Identifier: ' A'
    PropertySignature
      Identifier: ' // T
    // M's
    a'
      ConstructorType
        Parameter
          Identifier: 'x'
          NumberKeyword
        ArrayType
          NumberKeyword
    PropertySignature
      Identifier: '
    a2'
      ConstructorType
        Parameter
          Identifier: 'x'
          NumberKeyword
        ArrayType
          StringKeyword
    PropertySignature
      Identifier: '
    a3'
      ConstructorType
        Parameter
          Identifier: 'x'
          NumberKeyword
        VoidKeyword
    PropertySignature
      Identifier: '
    a4'
      ConstructorType
        Parameter
          Identifier: 'x'
          StringKeyword
        Parameter
          Identifier: ' y'
          NumberKeyword
        StringKeyword
    PropertySignature
      Identifier: '
    a5'
      ConstructorType
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              StringKeyword
            NumberKeyword
        StringKeyword
    PropertySignature
      Identifier: '
    a6'
      ConstructorType
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' Base'
            TypeReference
              Identifier: ' Derived'
        TypeReference
          Identifier: ' Base'
    PropertySignature
      Identifier: '
    a7'
      ConstructorType
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' Base'
            TypeReference
              Identifier: ' Derived'
        FunctionType
          Parameter
            Identifier: 'r'
            TypeReference
              Identifier: ' Base'
          TypeReference
            Identifier: ' Derived'
    PropertySignature
      Identifier: '
    a8'
      ConstructorType
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' Base'
            TypeReference
              Identifier: ' Derived'
        Parameter
          Identifier: ' y'
          FunctionType
            Parameter
              Identifier: 'arg2'
              TypeReference
                Identifier: ' Base'
            TypeReference
              Identifier: ' Derived'
        FunctionType
          Parameter
            Identifier: 'r'
            TypeReference
              Identifier: ' Base'
          TypeReference
            Identifier: ' Derived'
    PropertySignature
      Identifier: '
    a9'
      ConstructorType
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' Base'
            TypeReference
              Identifier: ' Derived'
        Parameter
          Identifier: ' y'
          FunctionType
            Parameter
              Identifier: 'arg2'
              TypeReference
                Identifier: ' Base'
            TypeReference
              Identifier: ' Derived'
        FunctionType
          Parameter
            Identifier: 'r'
            TypeReference
              Identifier: ' Base'
          TypeReference
            Identifier: ' Derived'
    PropertySignature
      Identifier: '
    a10'
      ConstructorType
        Parameter
          DotDotDotToken
          Identifier: 'x'
          ArrayType
            TypeReference
              Identifier: ' Derived'
        TypeReference
          Identifier: ' Derived'
    PropertySignature
      Identifier: '
    a11'
      ConstructorType
        Parameter
          Identifier: 'x'
          TypeLiteral
            PropertySignature
              Identifier: ' foo'
              StringKeyword
        Parameter
          Identifier: ' y'
          TypeLiteral
            PropertySignature
              Identifier: ' foo'
              StringKeyword
            PropertySignature
              Identifier: ' bar'
              StringKeyword
        TypeReference
          Identifier: ' Base'
    PropertySignature
      Identifier: '
    a12'
      ConstructorType
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Base'
        Parameter
          Identifier: ' y'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Derived2'
        TypeReference
          Identifier: ' Array'
          TypeReference
            Identifier: 'Derived'
    PropertySignature
      Identifier: '
    a13'
      ConstructorType
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Base'
        Parameter
          Identifier: ' y'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Derived'
        TypeReference
          Identifier: ' Array'
          TypeReference
            Identifier: 'Derived'
    PropertySignature
      Identifier: '
    a14'
      ConstructorType
        Parameter
          Identifier: 'x'
          TypeLiteral
            PropertySignature
              Identifier: ' a'
              StringKeyword
            PropertySignature
              Identifier: ' b'
              NumberKeyword
        TypeReference
          Identifier: ' Object'
    PropertySignature
      Identifier: '
    a15'
      TypeLiteral
        ConstructSignature
          Parameter
            Identifier: 'x'
            NumberKeyword
          ArrayType
            NumberKeyword
        ConstructSignature
          Parameter
            Identifier: 'x'
            StringKeyword
          ArrayType
            StringKeyword
    PropertySignature
      Identifier: '
    a16'
      TypeLiteral
        ConstructSignature
          TypeParameter
            Identifier: 'T'
            TypeReference
              Identifier: ' Derived'
          Parameter
            Identifier: 'x'
            TypeReference
              Identifier: ' T'
          ArrayType
            NumberKeyword
        ConstructSignature
          TypeParameter
            Identifier: 'U'
            TypeReference
              Identifier: ' Base'
          Parameter
            Identifier: 'x'
            TypeReference
              Identifier: ' U'
          ArrayType
            NumberKeyword
    PropertySignature
      Identifier: '
    a17'
      TypeLiteral
        ConstructSignature
          Parameter
            Identifier: 'x'
            ConstructorType
              Parameter
                Identifier: 'a'
                NumberKeyword
              NumberKeyword
          ArrayType
            NumberKeyword
        ConstructSignature
          Parameter
            Identifier: 'x'
            ConstructorType
              Parameter
                Identifier: 'a'
                StringKeyword
              StringKeyword
          ArrayType
            StringKeyword
    PropertySignature
      Identifier: '
    a18'
      TypeLiteral
        ConstructSignature
          Parameter
            Identifier: 'x'
            TypeLiteral
              ConstructSignature
                Parameter
                  Identifier: 'a'
                  NumberKeyword
                NumberKeyword
              ConstructSignature
                Parameter
                  Identifier: 'a'
                  StringKeyword
                StringKeyword
          ArrayType
            AnyKeyword
        ConstructSignature
          Parameter
            Identifier: 'x'
            TypeLiteral
              ConstructSignature
                Parameter
                  Identifier: 'a'
                  BooleanKeyword
                BooleanKeyword
              ConstructSignature
                Parameter
                  Identifier: 'a'
                  TypeReference
                    Identifier: ' Date'
                TypeReference
                  Identifier: ' Date'
          ArrayType
            AnyKeyword
  InterfaceDeclaration
    Identifier: ' I'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' A'
    PropertySignature
      Identifier: '
    // N's
    a'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        ArrayType
          TypeReference
            Identifier: ' T'
    PropertySignature
      Identifier: ' // ok, instantiation of N is a subtype of M, T is number
    a2'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        ArrayType
          StringKeyword
    PropertySignature
      Identifier: ' // ok
    a3'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok since Base returns void
    a4'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        TypeParameter
          Identifier: ' U'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        Parameter
          Identifier: ' y'
          TypeReference
            Identifier: ' U'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok, instantiation of N is a subtype of M, T is string, U is number
    a5'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        TypeParameter
          Identifier: ' U'
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' U'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok, U is in a parameter position so inferences can be made
    a6'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Base'
        TypeParameter
          Identifier: ' U'
          TypeReference
            Identifier: ' Derived'
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' U'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok, same as a5 but with object type hierarchy
    a7'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Base'
        TypeParameter
          Identifier: ' U'
          TypeReference
            Identifier: ' Derived'
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' U'
        FunctionType
          Parameter
            Identifier: 'r'
            TypeReference
              Identifier: ' T'
          TypeReference
            Identifier: ' U'
    PropertySignature
      Identifier: ' // ok
    a8'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Base'
        TypeParameter
          Identifier: ' U'
          TypeReference
            Identifier: ' Derived'
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' U'
        Parameter
          Identifier: ' y'
          FunctionType
            Parameter
              Identifier: 'arg2'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' U'
        FunctionType
          Parameter
            Identifier: 'r'
            TypeReference
              Identifier: ' T'
          TypeReference
            Identifier: ' U'
    PropertySignature
      Identifier: ' // ok
    a9'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Base'
        TypeParameter
          Identifier: ' U'
          TypeReference
            Identifier: ' Derived'
        Parameter
          Identifier: 'x'
          FunctionType
            Parameter
              Identifier: 'arg'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' U'
        Parameter
          Identifier: ' y'
          FunctionType
            Parameter
              Identifier: 'arg2'
              TypeLiteral
                PropertySignature
                  Identifier: ' foo'
                  StringKeyword
                PropertySignature
                  Identifier: ' bing'
                  NumberKeyword
            TypeReference
              Identifier: ' U'
        FunctionType
          Parameter
            Identifier: 'r'
            TypeReference
              Identifier: ' T'
          TypeReference
            Identifier: ' U'
    PropertySignature
      Identifier: ' // ok, same as a8 with compatible object literal
    a10'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Derived'
        Parameter
          DotDotDotToken
          Identifier: 'x'
          ArrayType
            TypeReference
              Identifier: ' T'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok
    a11'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Base'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        Parameter
          Identifier: ' y'
          TypeReference
            Identifier: ' T'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok
    a12'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Base'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Base'
        Parameter
          Identifier: ' y'
          TypeReference
            Identifier: ' T'
        TypeReference
          Identifier: ' Array'
          TypeReference
            Identifier: 'Derived'
    PropertySignature
      Identifier: ' // ok, less specific parameter type
    a13'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Derived'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' Array'
            TypeReference
              Identifier: 'Base'
        Parameter
          Identifier: ' y'
          TypeReference
            Identifier: ' T'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok, T = Array<Derived>, satisfies constraint, contextual signature instantiation succeeds
    a14'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        TypeParameter
          Identifier: ' U'
        Parameter
          Identifier: 'x'
          TypeLiteral
            PropertySignature
              Identifier: ' a'
              TypeReference
                Identifier: ' T'
            PropertySignature
              Identifier: ' b'
              TypeReference
                Identifier: ' U'
        TypeReference
          Identifier: ' T'
    PropertySignature
      Identifier: ' // ok
    a15'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        ArrayType
          TypeReference
            Identifier: ' T'
    PropertySignature
      Identifier: ' // ok
    a16'
      ConstructorType
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' Base'
        Parameter
          Identifier: 'x'
          TypeReference
            Identifier: ' T'
        ArrayType
          NumberKeyword
    PropertySignature
      Identifier: ' // ok
    a17'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        Parameter
          Identifier: 'x'
          ConstructorType
            Parameter
              Identifier: 'a'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' T'
        ArrayType
          TypeReference
            Identifier: ' T'
    PropertySignature
      Identifier: ' // ok
    a18'
      ConstructorType
        TypeParameter
          Identifier: 'T'
        Parameter
          Identifier: 'x'
          ConstructorType
            Parameter
              Identifier: 'a'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' T'
        ArrayType
          TypeReference
            Identifier: ' T'
