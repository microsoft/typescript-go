SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' CancellationToken'
        ImportSpecifier
          Identifier: ' CompilerOptions'
        ImportSpecifier
          Identifier: ' CustomTransformers'
        ImportSpecifier
          Identifier: ' EmitOutput'
        ImportSpecifier
          Identifier: ' HostForComputeHash'
        ImportSpecifier
          Identifier: ' Path'
        ImportSpecifier
          Identifier: ' Program'
        ImportSpecifier
          Identifier: ' ResolutionMode'
        ImportSpecifier
          Identifier: ' SourceFile'
    StringLiteral
  FunctionDeclaration
    ExportKeyword
    DeclareKeyword
    Identifier: ' getFileEmitOutput'
    Parameter
      Identifier: 'program'
      TypeReference
        Identifier: ' Program'
    Parameter
      Identifier: ' sourceFile'
      TypeReference
        Identifier: ' SourceFile'
    Parameter
      Identifier: ' emitOnlyDtsFiles'
      BooleanKeyword
    Parameter
      Identifier: ' cancellationToken'
      QuestionToken
      TypeReference
        Identifier: ' CancellationToken'
    Parameter
      Identifier: ' customTransformers'
      QuestionToken
      TypeReference
        Identifier: ' CustomTransformers'
    Parameter
      Identifier: ' forceDtsEmit'
      QuestionToken
      BooleanKeyword
    TypeReference
      Identifier: ' EmitOutput'
  EnumDeclaration
    ExportKeyword
    DeclareKeyword
    Identifier: ' SignatureInfo'
    EnumMember
      Identifier: '
    ComputedDts'
      NumericLiteral
    EnumMember
      Identifier: '
    StoredSignatureAtEmit'
      NumericLiteral
    EnumMember
      Identifier: '
    UsedVersion'
      NumericLiteral
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' BuilderState'
    PropertySignature
      Identifier: '
    /**
     * Information of the file eg. its version, signature etc
     */
    fileInfos'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          QualifiedName
            Identifier: ' BuilderState'
            Identifier: 'FileInfo'
    PropertySignature
      ReadonlyKeyword
      Identifier: ' referencedMap'
      QuestionToken
      UnionType
        TypeReference
          QualifiedName
            Identifier: ' BuilderState'
            Identifier: 'ReadonlyManyToManyPathMap'
        UndefinedKeyword
    PropertySignature
      Identifier: '
    /**
     * true if file version is used as signature
     * This helps in delaying the calculation of the d.ts hash as version for the file till reasonable time
     */
    useFileVersionAsSignature'
      QuestionToken
      BooleanKeyword
    PropertySignature
      Identifier: '
    /**
     * Map of files that have already called update signature.
     * That means hence forth these files are assumed to have
     * no change in their signature for this version of the program
     */
    hasCalledUpdateShapeSignature'
      QuestionToken
      TypeReference
        Identifier: ' Set'
        TypeReference
          Identifier: 'Path'
    PropertySignature
      Identifier: '
    /**
     * Stores signatures before before the update till affected file is committed
     */
    oldSignatures'
      QuestionToken
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        UnionType
          StringKeyword
          LiteralType
            FalseKeyword
    PropertySignature
      Identifier: '
    /**
     * Cache of all files excluding default library file for the current program
     */
    allFilesExcludingDefaultLibraryFile'
      QuestionToken
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' SourceFile'
    PropertySignature
      Identifier: '
    /**
     * Cache of all the file names
     */
    allFileNames'
      QuestionToken
      TypeOperator
        ArrayType
          StringKeyword
    PropertySignature
      Identifier: '
    /** Information about the signature computation - test only */
    signatureInfo'
      QuestionToken
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          Identifier: ' SignatureInfo'
  ModuleDeclaration
    ExportKeyword
    DeclareKeyword
    Identifier: ' BuilderState'
    ModuleBlock
      InterfaceDeclaration
        Identifier: ' FileInfo'
        PropertySignature
          ReadonlyKeyword
          Identifier: ' version'
          StringKeyword
        PropertySignature
          Identifier: '
        signature'
          UnionType
            StringKeyword
            UndefinedKeyword
        PropertySignature
          Identifier: '
        affectsGlobalScope'
          UnionType
            LiteralType
              TrueKeyword
            UndefinedKeyword
        PropertySignature
          Identifier: '
        impliedFormat'
          TypeReference
            Identifier: ' ResolutionMode'
      InterfaceDeclaration
        Identifier: ' ReadonlyManyToManyPathMap'
        MethodSignature
          Identifier: '
        getKeys'
          Parameter
            Identifier: 'v'
            TypeReference
              Identifier: ' Path'
          UnionType
            TypeReference
              Identifier: ' ReadonlySet'
              TypeReference
                Identifier: 'Path'
            UndefinedKeyword
        MethodSignature
          Identifier: '
        getValues'
          Parameter
            Identifier: 'k'
            TypeReference
              Identifier: ' Path'
          UnionType
            TypeReference
              Identifier: ' ReadonlySet'
              TypeReference
                Identifier: 'Path'
            UndefinedKeyword
        MethodSignature
          Identifier: '
        keys'
          TypeReference
            Identifier: ' IterableIterator'
            TypeReference
              Identifier: 'Path'
        MethodSignature
          Identifier: '
        size'
          NumberKeyword
      InterfaceDeclaration
        Identifier: ' ManyToManyPathMap'
        HeritageClause
          ExpressionWithTypeArguments
            Identifier: ' ReadonlyManyToManyPathMap'
        MethodSignature
          Identifier: '
        deleteKey'
          Parameter
            Identifier: 'k'
            TypeReference
              Identifier: ' Path'
          BooleanKeyword
        MethodSignature
          Identifier: '
        set'
          Parameter
            Identifier: 'k'
            TypeReference
              Identifier: ' Path'
          Parameter
            Identifier: ' v'
            TypeReference
              Identifier: ' ReadonlySet'
              TypeReference
                Identifier: 'Path'
          VoidKeyword
      FunctionDeclaration
        Identifier: ' createManyToManyPathMap'
        TypeReference
          Identifier: ' ManyToManyPathMap'
      FunctionDeclaration
        Identifier: ' canReuseOldState'
        Parameter
          Identifier: 'newReferencedMap'
          UnionType
            TypeReference
              Identifier: ' ReadonlyManyToManyPathMap'
            UndefinedKeyword
        Parameter
          Identifier: ' oldState'
          UnionType
            TypeReference
              Identifier: ' BuilderState'
            UndefinedKeyword
        UnionType
          BooleanKeyword
          UndefinedKeyword
      FunctionDeclaration
        Identifier: ' createReferencedMap'
        Parameter
          Identifier: 'options'
          TypeReference
            Identifier: ' CompilerOptions'
        UnionType
          TypeReference
            Identifier: ' ManyToManyPathMap'
          UndefinedKeyword
      FunctionDeclaration
        Identifier: ' create'
        Parameter
          Identifier: 'newProgram'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' oldState'
          UnionType
            TypeReference
              Identifier: ' Readonly'
              TypeReference
                Identifier: 'BuilderState'
            UndefinedKeyword
        Parameter
          Identifier: ' disableUseFileVersionAsSignature'
          BooleanKeyword
        TypeReference
          Identifier: ' BuilderState'
      FunctionDeclaration
        Identifier: ' releaseCache'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        VoidKeyword
      FunctionDeclaration
        Identifier: ' getFilesAffectedBy'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        Parameter
          Identifier: ' programOfThisState'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' path'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: ' cancellationToken'
          UnionType
            TypeReference
              Identifier: ' CancellationToken'
            UndefinedKeyword
        Parameter
          Identifier: ' host'
          TypeReference
            Identifier: ' HostForComputeHash'
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' SourceFile'
      FunctionDeclaration
        Identifier: ' getFilesAffectedByWithOldState'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        Parameter
          Identifier: ' programOfThisState'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' path'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: ' cancellationToken'
          UnionType
            TypeReference
              Identifier: ' CancellationToken'
            UndefinedKeyword
        Parameter
          Identifier: ' host'
          TypeReference
            Identifier: ' HostForComputeHash'
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' SourceFile'
      FunctionDeclaration
        Identifier: ' updateSignatureOfFile'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        Parameter
          Identifier: ' signature'
          UnionType
            StringKeyword
            UndefinedKeyword
        Parameter
          Identifier: ' path'
          TypeReference
            Identifier: ' Path'
        VoidKeyword
      FunctionDeclaration
        Identifier: ' computeDtsSignature'
        Parameter
          Identifier: 'programOfThisState'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' sourceFile'
          TypeReference
            Identifier: ' SourceFile'
        Parameter
          Identifier: ' cancellationToken'
          UnionType
            TypeReference
              Identifier: ' CancellationToken'
            UndefinedKeyword
        Parameter
          Identifier: ' host'
          TypeReference
            Identifier: ' HostForComputeHash'
        Parameter
          Identifier: ' onNewSignature'
          FunctionType
            Parameter
              Identifier: 'signature'
              StringKeyword
            Parameter
              Identifier: ' sourceFiles'
              TypeOperator
                ArrayType
                  TypeReference
                    Identifier: ' SourceFile'
            VoidKeyword
        VoidKeyword
      FunctionDeclaration
        Identifier: ' updateShapeSignature'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        Parameter
          Identifier: ' programOfThisState'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' sourceFile'
          TypeReference
            Identifier: ' SourceFile'
        Parameter
          Identifier: ' cancellationToken'
          UnionType
            TypeReference
              Identifier: ' CancellationToken'
            UndefinedKeyword
        Parameter
          Identifier: ' host'
          TypeReference
            Identifier: ' HostForComputeHash'
        Parameter
          Identifier: ' useFileVersionAsSignature'
          QuestionToken
          UnionType
            BooleanKeyword
            UndefinedKeyword
        BooleanKeyword
      FunctionDeclaration
        Identifier: ' getAllDependencies'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        Parameter
          Identifier: ' programOfThisState'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' sourceFile'
          TypeReference
            Identifier: ' SourceFile'
        TypeOperator
          ArrayType
            StringKeyword
      FunctionDeclaration
        Identifier: ' getReferencedByPaths'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' Readonly'
            TypeReference
              Identifier: 'BuilderState'
        Parameter
          Identifier: ' referencedFilePath'
          TypeReference
            Identifier: ' Path'
        ArrayType
          TypeReference
            Identifier: ' Path'
      FunctionDeclaration
        Identifier: ' getAllFilesExcludingDefaultLibraryFile'
        Parameter
          Identifier: 'state'
          TypeReference
            Identifier: ' BuilderState'
        Parameter
          Identifier: ' programOfThisState'
          TypeReference
            Identifier: ' Program'
        Parameter
          Identifier: ' firstSourceFile'
          UnionType
            TypeReference
              Identifier: ' SourceFile'
            UndefinedKeyword
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' SourceFile'
