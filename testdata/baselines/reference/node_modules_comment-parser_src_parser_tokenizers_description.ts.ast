SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Spec'
        ImportSpecifier
          Identifier: ' Line'
        ImportSpecifier
          Identifier: ' BlockMarkers'
        ImportSpecifier
          Identifier: ' Markers'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Tokenizer'
    StringLiteral
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' Joiner'
    FunctionType
      Parameter
        Identifier: 'lines'
        ArrayType
          TypeReference
            Identifier: ' Line'
      Parameter
        Identifier: ' markers'
        QuestionToken
        TypeReference
          Identifier: ' BlockMarkers'
      StringKeyword
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' Spacing'
    UnionType
      LiteralType
        StringLiteral
      LiteralType
        StringLiteral
      TypeReference
        Identifier: ' Joiner'
  FunctionDeclaration
    ExportKeyword
    DefaultKeyword
    Identifier: ' descriptionTokenizer'
    Parameter
      Identifier: '
  spacing'
      TypeReference
        Identifier: ' Spacing'
      StringLiteral
    Parameter
      Identifier: '
  markers'
      Identifier: ' Markers'
    TypeReference
      Identifier: ' Tokenizer'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' join'
            CallExpression
              Identifier: ' getJoiner'
              Identifier: 'spacing'
      ReturnStatement
        ArrowFunction
          Parameter
            Identifier: 'spec'
            TypeReference
              Identifier: ' Spec'
          TypeReference
            Identifier: ' Spec'
          EqualsGreaterThanToken
          Block
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  Identifier: '
    spec'
                  Identifier: 'description'
                EqualsToken
                CallExpression
                  Identifier: ' join'
                  PropertyAccessExpression
                    Identifier: 'spec'
                    Identifier: 'source'
                  Identifier: ' markers'
            ReturnStatement
              Identifier: ' spec'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' getJoiner'
    Parameter
      Identifier: 'spacing'
      TypeReference
        Identifier: ' Spacing'
    TypeReference
      Identifier: ' Joiner'
    Block
      IfStatement
        BinaryExpression
          Identifier: 'spacing'
          EqualsEqualsEqualsToken
          StringLiteral
        ReturnStatement
          Identifier: ' compactJoiner'
      IfStatement
        BinaryExpression
          Identifier: 'spacing'
          EqualsEqualsEqualsToken
          StringLiteral
        ReturnStatement
          Identifier: ' preserveJoiner'
      ReturnStatement
        Identifier: ' spacing'
  FunctionDeclaration
    Identifier: ' compactJoiner'
    Parameter
      Identifier: 'lines'
      ArrayType
        TypeReference
          Identifier: ' Line'
    Parameter
      Identifier: ' markers'
      Identifier: ' Markers'
    StringKeyword
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            CallExpression
              PropertyAccessExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' lines'
                    Identifier: 'map'
                  ArrowFunction
                    Parameter
                      ObjectBindingPattern
                        BindingElement
                          Identifier: ' tokens'
                          ObjectBindingPattern
                            BindingElement
                              Identifier: ' description'
                      TypeReference
                        Identifier: ' Line'
                    EqualsGreaterThanToken
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' description'
                        Identifier: 'trim'
                Identifier: 'filter'
              ArrowFunction
                Parameter
                  Identifier: 'description'
                EqualsGreaterThanToken
                BinaryExpression
                  Identifier: ' description'
                  ExclamationEqualsEqualsToken
                  StringLiteral
            Identifier: 'join'
          StringLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' lineNo'
        ArrowFunction
          Parameter
            Identifier: 'num'
            NumberKeyword
          Parameter
            ObjectBindingPattern
              BindingElement
                Identifier: ' tokens'
            TypeReference
              Identifier: ' Line'
          Parameter
            Identifier: ' i'
            NumberKeyword
          EqualsGreaterThanToken
          ConditionalExpression
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
  tokens'
                Identifier: 'type'
              EqualsEqualsEqualsToken
              StringLiteral
            QuestionToken
            Identifier: ' num'
            ColonToken
            Identifier: ' i'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' getDescription'
        ArrowFunction
          Parameter
            ObjectBindingPattern
              BindingElement
                Identifier: ' tokens'
            TypeReference
              Identifier: ' Line'
          EqualsGreaterThanToken
          BinaryExpression
            ParenthesizedExpression
              ConditionalExpression
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: 'tokens'
                    Identifier: 'delimiter'
                  EqualsEqualsEqualsToken
                  StringLiteral
                QuestionToken
                PropertyAccessExpression
                  Identifier: ' tokens'
                  Identifier: 'start'
                ColonToken
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' tokens'
                      Identifier: 'postDelimiter'
                    Identifier: 'slice'
                  NumericLiteral
            PlusToken
            PropertyAccessExpression
              Identifier: '
  tokens'
              Identifier: 'description'
  FunctionDeclaration
    Identifier: ' preserveJoiner'
    Parameter
      Identifier: 'lines'
      ArrayType
        TypeReference
          Identifier: ' Line'
    Parameter
      Identifier: ' markers'
      Identifier: ' Markers'
    StringKeyword
    Block
      IfStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: 'lines'
            Identifier: 'length'
          EqualsEqualsEqualsToken
          NumericLiteral
        ReturnStatement
          StringLiteral
      IfStatement
        BinaryExpression
          BinaryExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: '
    lines'
                  NumericLiteral
                Identifier: 'tokens'
              Identifier: 'description'
            EqualsEqualsEqualsToken
            StringLiteral
          AmpersandAmpersandToken
          BinaryExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: '
    lines'
                  NumericLiteral
                Identifier: 'tokens'
              Identifier: 'delimiter'
            EqualsEqualsEqualsToken
            PropertyAccessExpression
              Identifier: ' markers'
              Identifier: 'start'
        ExpressionStatement
          BinaryExpression
            Identifier: '
    lines'
            EqualsToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' lines'
                Identifier: 'slice'
              NumericLiteral
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' lastLine'
            ElementAccessExpression
              Identifier: ' lines'
              BinaryExpression
                PropertyAccessExpression
                  Identifier: 'lines'
                  Identifier: 'length'
                MinusToken
                NumericLiteral
      IfStatement
        BinaryExpression
          BinaryExpression
            BinaryExpression
              Identifier: '
    lastLine'
              ExclamationEqualsEqualsToken
              Identifier: ' undefined'
            AmpersandAmpersandToken
            BinaryExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
    lastLine'
                  Identifier: 'tokens'
                Identifier: 'description'
              EqualsEqualsEqualsToken
              StringLiteral
          AmpersandAmpersandToken
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
    lastLine'
                  Identifier: 'tokens'
                Identifier: 'end'
              Identifier: 'endsWith'
            PropertyAccessExpression
              Identifier: 'markers'
              Identifier: 'end'
        ExpressionStatement
          BinaryExpression
            Identifier: '
    lines'
            EqualsToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' lines'
                Identifier: 'slice'
              NumericLiteral
              PrefixUnaryExpression
                NumericLiteral
      ExpressionStatement
        BinaryExpression
          Identifier: '

  // description starts at the last line of type definition
  lines'
          EqualsToken
          CallExpression
            PropertyAccessExpression
              Identifier: ' lines'
              Identifier: 'slice'
            CallExpression
              PropertyAccessExpression
                Identifier: 'lines'
                Identifier: 'reduce'
              Identifier: 'lineNo'
              NumericLiteral
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            CallExpression
              PropertyAccessExpression
                Identifier: ' lines'
                Identifier: 'map'
              Identifier: 'getDescription'
            Identifier: 'join'
          StringLiteral
