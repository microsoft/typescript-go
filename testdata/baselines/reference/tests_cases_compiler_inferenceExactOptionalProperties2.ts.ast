SourceFile
  TypeAliasDeclaration
    Identifier: ' Values'
    TypeParameter
      Identifier: 'T'
    IndexedAccessType
      TypeReference
        Identifier: ' T'
      TypeOperator
        TypeReference
          Identifier: ' T'
  TypeAliasDeclaration
    Identifier: ' EventObject'
    TypeLiteral
      PropertySignature
        Identifier: '
  type'
        StringKeyword
  InterfaceDeclaration
    Identifier: ' ActorLogic'
    TypeParameter
      Identifier: 'TEvent'
      TypeReference
        Identifier: ' EventObject'
    PropertySignature
      Identifier: '
  transition'
      FunctionType
        Parameter
          Identifier: 'ev'
          TypeReference
            Identifier: ' TEvent'
        UnknownKeyword
  TypeAliasDeclaration
    Identifier: ' UnknownActorLogic'
    TypeReference
      Identifier: ' ActorLogic'
      NeverKeyword
  InterfaceDeclaration
    Identifier: ' ProvidedActor'
    PropertySignature
      Identifier: '
  src'
      StringKeyword
    PropertySignature
      Identifier: '
  logic'
      TypeReference
        Identifier: ' UnknownActorLogic'
  InterfaceDeclaration
    Identifier: ' ActionFunction'
    TypeParameter
      Identifier: 'TActor'
      TypeReference
        Identifier: ' ProvidedActor'
    CallSignature
      VoidKeyword
    PropertySignature
      Identifier: '
  _out_TActor'
      QuestionToken
      TypeReference
        Identifier: ' TActor'
  InterfaceDeclaration
    Identifier: ' AssignAction'
    TypeParameter
      Identifier: 'TActor'
      TypeReference
        Identifier: ' ProvidedActor'
    CallSignature
      VoidKeyword
    PropertySignature
      Identifier: '
  _out_TActor'
      QuestionToken
      TypeReference
        Identifier: ' TActor'
  InterfaceDeclaration
    Identifier: ' MachineConfig'
    TypeParameter
      Identifier: 'TActor'
      TypeReference
        Identifier: ' ProvidedActor'
    PropertySignature
      Identifier: '
  entry'
      QuestionToken
      TypeReference
        Identifier: ' ActionFunction'
        TypeReference
          Identifier: 'TActor'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' assign'
    TypeParameter
      Identifier: 'TActor'
      TypeReference
        Identifier: ' ProvidedActor'
    Parameter
      Identifier: '
  _'
      FunctionType
        Parameter
          Identifier: 'spawn'
          FunctionType
            Parameter
              Identifier: 'actor'
              IndexedAccessType
                TypeReference
                  Identifier: ' TActor'
                LiteralType
                  StringLiteral
            VoidKeyword
        TypeLiteral
    TypeReference
      Identifier: ' AssignAction'
      TypeReference
        Identifier: 'TActor'
  TypeAliasDeclaration
    Identifier: ' ToProvidedActor'
    TypeParameter
      Identifier: 'TActors'
      TypeReference
        Identifier: ' Record'
        StringKeyword
        TypeReference
          Identifier: ' UnknownActorLogic'
    TypeReference
      Identifier: '
  Values'
      MappedType
        TypeParameter
          Identifier: 'K'
          IntersectionType
            TypeOperator
              TypeReference
                Identifier: ' TActors'
            StringKeyword
        TypeLiteral
          PropertySignature
            Identifier: '
      src'
            TypeReference
              Identifier: ' K'
          PropertySignature
            Identifier: '
      logic'
            IndexedAccessType
              TypeReference
                Identifier: ' TActors'
              TypeReference
                Identifier: 'K'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' setup'
    TypeParameter
      Identifier: '
  TActors'
      TypeReference
        Identifier: ' Record'
        StringKeyword
        TypeReference
          Identifier: ' UnknownActorLogic'
      TypeLiteral
    Parameter
      Identifier: 'implementations'
      QuestionToken
      TypeLiteral
        PropertySignature
          Identifier: '
  actors'
          QuestionToken
          MappedType
            TypeParameter
              Identifier: 'K'
              TypeOperator
                TypeReference
                  Identifier: ' TActors'
            IndexedAccessType
              TypeReference
                Identifier: ' TActors'
              TypeReference
                Identifier: 'K'
    TypeLiteral
      PropertySignature
        Identifier: '
  createMachine'
        FunctionType
          TypeParameter
            ConstKeyword
            Identifier: ' TConfig'
            TypeReference
              Identifier: ' MachineConfig'
              TypeReference
                Identifier: 'ToProvidedActor'
                TypeReference
                  Identifier: 'TActors'
          Parameter
            Identifier: '
    config'
            TypeReference
              Identifier: ' TConfig'
          VoidKeyword
  VariableStatement
    DeclareKeyword
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' counterLogic'
        TypeReference
          Identifier: ' ActorLogic'
          TypeLiteral
            PropertySignature
              Identifier: ' type'
              LiteralType
                StringLiteral
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        CallExpression
          Identifier: '

// example usage
setup'
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: '
  actors'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: ' counter'
                  Identifier: ' counterLogic'
        Identifier: 'createMachine'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
  entry'
          CallExpression
            Identifier: ' assign'
            ArrowFunction
              Parameter
                Identifier: 'spawn'
              EqualsGreaterThanToken
              Block
                ExpressionStatement
                  CallExpression
                    Identifier: '
    spawn'
                    StringLiteral
                ExpressionStatement
                  CallExpression
                    Identifier: ' // ok
    spawn'
                    StringLiteral
                ReturnStatement
                  ObjectLiteralExpression
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        CallExpression
          Identifier: '

// no provided actors, `assign` should still work
setup'
        Identifier: 'createMachine'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
  entry'
          CallExpression
            Identifier: ' assign'
            ArrowFunction
              EqualsGreaterThanToken
              ParenthesizedExpression
                ObjectLiteralExpression
