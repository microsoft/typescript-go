SourceFile
  ClassDeclaration
    AbstractKeyword
    Identifier: ' AbstractClass'
    Constructor
      Parameter
        Identifier: 'str'
        StringKeyword
      Parameter
        Identifier: ' other'
        TypeReference
          Identifier: ' AbstractClass'
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'method'
            CallExpression
              Identifier: 'parseInt'
              Identifier: 'str'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' val'
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'prop'
                  Identifier: 'toLowerCase'
        IfStatement
          PrefixUnaryExpression
            Identifier: 'str'
          Block
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'prop'
                EqualsToken
                StringLiteral
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'cb'
            Identifier: 'str'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' innerFunction'
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ReturnStatement
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'prop'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '

        // OK, references are to another instance
        other'
              Identifier: 'cb'
            PropertyAccessExpression
              Identifier: 'other'
              Identifier: 'prop'
    PropertyDeclaration
      AbstractKeyword
      Identifier: ' prop'
      StringKeyword
    PropertyDeclaration
      AbstractKeyword
      Identifier: ' cb'
      FunctionType
        Parameter
          Identifier: 's'
          StringKeyword
        VoidKeyword
    MethodDeclaration
      AbstractKeyword
      Identifier: ' method'
      Parameter
        Identifier: 'num'
        NumberKeyword
      VoidKeyword
    PropertyDeclaration
      Identifier: '

    other'
      PropertyAccessExpression
        ThisKeyword
        Identifier: 'prop'
    PropertyDeclaration
      Identifier: '
    fn'
      ArrowFunction
        EqualsGreaterThanToken
        PropertyAccessExpression
          ThisKeyword
          Identifier: 'prop'
    MethodDeclaration
      Identifier: '

    method2'
      Block
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'prop'
            EqualsToken
            BinaryExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'prop'
              PlusToken
              StringLiteral
  ClassDeclaration
    AbstractKeyword
    Identifier: ' DerivedAbstractClass'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' AbstractClass'
    PropertyDeclaration
      Identifier: '
    cb'
      ArrowFunction
        Parameter
          Identifier: 's'
          StringKeyword
        EqualsGreaterThanToken
        Block
    Constructor
      Parameter
        Identifier: 'str'
        StringKeyword
      Parameter
        Identifier: ' other'
        TypeReference
          Identifier: ' AbstractClass'
      Parameter
        Identifier: ' yetAnother'
        TypeReference
          Identifier: ' DerivedAbstractClass'
      Block
        ExpressionStatement
          CallExpression
            SuperKeyword
            Identifier: 'str'
            Identifier: ' other'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'cb'
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'prop'
                Identifier: 'toLowerCase'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'method'
            NumericLiteral
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '

        // OK, references are to another instance
        other'
              Identifier: 'cb'
            PropertyAccessExpression
              Identifier: 'other'
              Identifier: 'prop'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
        yetAnother'
              Identifier: 'cb'
            PropertyAccessExpression
              Identifier: 'yetAnother'
              Identifier: 'prop'
  ClassDeclaration
    Identifier: ' Implementation'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' DerivedAbstractClass'
    PropertyDeclaration
      Identifier: '
    prop'
      StringLiteral
    PropertyDeclaration
      Identifier: '
    cb'
      ArrowFunction
        Parameter
          Identifier: 's'
          StringKeyword
        EqualsGreaterThanToken
        Block
    Constructor
      Parameter
        Identifier: 'str'
        StringKeyword
      Parameter
        Identifier: ' other'
        TypeReference
          Identifier: ' AbstractClass'
      Parameter
        Identifier: ' yetAnother'
        TypeReference
          Identifier: ' DerivedAbstractClass'
      Block
        ExpressionStatement
          CallExpression
            SuperKeyword
            Identifier: 'str'
            Identifier: ' other'
            Identifier: ' yetAnother'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'cb'
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'prop'
    MethodDeclaration
      Identifier: '

    method'
      Parameter
        Identifier: 'n'
        NumberKeyword
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'cb'
            BinaryExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'prop'
              PlusToken
              Identifier: ' n'
  ClassDeclaration
    Identifier: ' User'
    Constructor
      Parameter
        Identifier: 'a'
        TypeReference
          Identifier: ' AbstractClass'
      Block
        ExpressionStatement
          PropertyAccessExpression
            Identifier: '
        a'
            Identifier: 'prop'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
        a'
              Identifier: 'cb'
            StringLiteral
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
        a'
              Identifier: 'method'
            NumericLiteral
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
        a'
              Identifier: 'method2'
  ClassDeclaration
    AbstractKeyword
    Identifier: ' C1'
    PropertyDeclaration
      AbstractKeyword
      Identifier: ' x'
      StringKeyword
    PropertyDeclaration
      AbstractKeyword
      Identifier: ' y'
      StringKeyword
    Constructor
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' self'
              ThisKeyword
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              ObjectBindingPattern
                BindingElement
                  Identifier: ' x'
                BindingElement
                  Identifier: ' y'
                  Identifier: ' y1'
              ThisKeyword
        ExpressionStatement
          ParenthesizedExpression
            BinaryExpression
              ObjectLiteralExpression
                ShorthandPropertyAssignment
                  Identifier: ' x'
                PropertyAssignment
                  Identifier: ' y'
                  Identifier: ' y1'
                PropertyAssignment
                  StringLiteral
                  Identifier: ' y1'
              EqualsToken
              ThisKeyword
  ClassDeclaration
    Identifier: ' C2'
    PropertyDeclaration
      Identifier: '
    x'
      StringKeyword
    PropertyDeclaration
      Identifier: '
    y'
      StringKeyword
    Constructor
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' self'
              ThisKeyword
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              ObjectBindingPattern
                BindingElement
                  Identifier: ' x'
                BindingElement
                  Identifier: ' y'
                  Identifier: ' y1'
              ThisKeyword
        ExpressionStatement
          ParenthesizedExpression
            BinaryExpression
              ObjectLiteralExpression
                ShorthandPropertyAssignment
                  Identifier: ' x'
                PropertyAssignment
                  Identifier: ' y'
                  Identifier: ' y1'
                PropertyAssignment
                  StringLiteral
                  Identifier: ' y1'
              EqualsToken
              ThisKeyword
