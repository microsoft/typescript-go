SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' incrementalVerifier'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' createHasErrorMessageLogger'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' Harness'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' ts'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' customTypesMap'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' TestServerHost'
    StringLiteral
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' TestProjectServiceOptions'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'ProjectServiceOptions'
    PropertySignature
      Identifier: '
    host'
      TypeReference
        Identifier: ' TestServerHost'
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TestProjectServicePartialOptionsAndHost'
    IntersectionType
      TypeReference
        Identifier: ' Partial'
        TypeReference
          Identifier: 'Omit'
          TypeReference
            Identifier: 'TestProjectServiceOptions'
          UnionType
            LiteralType
              StringLiteral
            LiteralType
              StringLiteral
            LiteralType
              StringLiteral
      TypeReference
        Identifier: ' Pick'
        TypeReference
          Identifier: 'TestProjectServiceOptions'
        LiteralType
          StringLiteral
  ClassDeclaration
    ExportKeyword
    Identifier: ' TestProjectService'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'ProjectService'
    Constructor
      Parameter
        Identifier: 'optsOrHost'
        UnionType
          TypeReference
            Identifier: ' TestServerHost'
          TypeReference
            Identifier: ' TestProjectServicePartialOptionsAndHost'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' opts'
              ConditionalExpression
                BinaryExpression
                  StringLiteral
                  InKeyword
                  Identifier: ' optsOrHost'
                QuestionToken
                Identifier: '
            optsOrHost'
                ColonToken
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: ' host'
                    Identifier: ' optsOrHost'
        ExpressionStatement
          CallExpression
            SuperKeyword
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
            logger'
                CallExpression
                  Identifier: ' createHasErrorMessageLogger'
              PropertyAssignment
                Identifier: '
            session'
                Identifier: ' undefined'
              PropertyAssignment
                Identifier: '
            cancellationToken'
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'nullCancellationToken'
              PropertyAssignment
                Identifier: '
            useSingleInferredProject'
                FalseKeyword
              PropertyAssignment
                Identifier: '
            useInferredProjectPerProjectRoot'
                FalseKeyword
              PropertyAssignment
                Identifier: '
            typesMapLocation'
                PropertyAccessExpression
                  Identifier: ' customTypesMap'
                  Identifier: 'path'
              ShorthandPropertyAssignment
                Identifier: '
            incrementalVerifier'
              SpreadAssignment
                Identifier: 'opts'
  InterfaceDeclaration
    Identifier: ' Range'
    PropertySignature
      Identifier: '
    pos'
      NumberKeyword
    PropertySignature
      Identifier: '
    end'
      NumberKeyword
    PropertySignature
      Identifier: '
    name'
      StringKeyword
  InterfaceDeclaration
    Identifier: ' Test'
    PropertySignature
      Identifier: '
    source'
      StringKeyword
    PropertySignature
      Identifier: '
    ranges'
      TypeReference
        Identifier: ' Map'
        StringKeyword
        TypeReference
          Identifier: ' Range'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' extractTest'
    Parameter
      Identifier: 'source'
      StringKeyword
    TypeReference
      Identifier: ' Test'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' activeRanges'
            ArrayType
              TypeReference
                Identifier: ' Range'
            ArrayLiteralExpression
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' text'
            StringLiteral
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' lastPos'
            NumericLiteral
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' pos'
            NumericLiteral
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' ranges'
            NewExpression
              Identifier: ' Map'
              StringKeyword
              TypeReference
                Identifier: ' Range'
      WhileStatement
        BinaryExpression
          Identifier: 'pos'
          LessThanToken
          PropertyAccessExpression
            Identifier: ' source'
            Identifier: 'length'
        Block
          IfStatement
            BinaryExpression
              BinaryExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            source'
                    Identifier: 'charCodeAt'
                  Identifier: 'pos'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'CharacterCodes'
                  Identifier: 'openBracket'
              AmpersandAmpersandToken
              ParenthesizedExpression
                BinaryExpression
                  BinaryExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'source'
                        Identifier: 'charCodeAt'
                      BinaryExpression
                        Identifier: 'pos'
                        PlusToken
                        NumericLiteral
                    EqualsEqualsEqualsToken
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'CharacterCodes'
                      Identifier: 'hash'
                  BarBarToken
                  BinaryExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' source'
                        Identifier: 'charCodeAt'
                      BinaryExpression
                        Identifier: 'pos'
                        PlusToken
                        NumericLiteral
                    EqualsEqualsEqualsToken
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'CharacterCodes'
                      Identifier: '$'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' saved'
                    Identifier: ' pos'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            pos'
                  PlusEqualsToken
                  NumericLiteral
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' s'
                    Identifier: ' pos'
              ExpressionStatement
                CallExpression
                  Identifier: '
            consumeIdentifier'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' e'
                    Identifier: ' pos'
              IfStatement
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'source'
                      Identifier: 'charCodeAt'
                    Identifier: 'pos'
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'CharacterCodes'
                    Identifier: 'bar'
                Block
                  ExpressionStatement
                    PostfixUnaryExpression
                      Identifier: '
                pos'
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                text'
                      PlusEqualsToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' source'
                          Identifier: 'substring'
                        Identifier: 'lastPos'
                        Identifier: ' saved'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' name'
                        ConditionalExpression
                          BinaryExpression
                            Identifier: ' s'
                            EqualsEqualsEqualsToken
                            Identifier: ' e'
                          QuestionToken
                          ConditionalExpression
                            BinaryExpression
                              CallExpression
                                PropertyAccessExpression
                                  Identifier: ' source'
                                  Identifier: 'charCodeAt'
                                BinaryExpression
                                  Identifier: 'saved'
                                  PlusToken
                                  NumericLiteral
                              EqualsEqualsEqualsToken
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'CharacterCodes'
                                Identifier: 'hash'
                            QuestionToken
                            StringLiteral
                            ColonToken
                            StringLiteral
                          ColonToken
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' source'
                              Identifier: 'substring'
                            Identifier: 's'
                            Identifier: ' e'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                activeRanges'
                        Identifier: 'push'
                      ObjectLiteralExpression
                        ShorthandPropertyAssignment
                          Identifier: ' name'
                        PropertyAssignment
                          Identifier: ' pos'
                          PropertyAccessExpression
                            Identifier: ' text'
                            Identifier: 'length'
                        PropertyAssignment
                          Identifier: ' end'
                          NonNullExpression
                            Identifier: ' undefined'
                  ExpressionStatement
                    BinaryExpression
                      Identifier: ' // TODO: GH#18217
                lastPos'
                      EqualsToken
                      Identifier: ' pos'
                  ContinueStatement
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                pos'
                      EqualsToken
                      Identifier: ' saved'
            IfStatement
              BinaryExpression
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'source'
                      Identifier: 'charCodeAt'
                    Identifier: 'pos'
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'CharacterCodes'
                    Identifier: 'bar'
                AmpersandAmpersandToken
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' source'
                      Identifier: 'charCodeAt'
                    BinaryExpression
                      Identifier: 'pos'
                      PlusToken
                      NumericLiteral
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'CharacterCodes'
                    Identifier: 'closeBracket'
              Block
                ExpressionStatement
                  BinaryExpression
                    Identifier: '
            text'
                    PlusEqualsToken
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' source'
                        Identifier: 'substring'
                      Identifier: 'lastPos'
                      Identifier: ' pos'
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      ElementAccessExpression
                        Identifier: '
            activeRanges'
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: 'activeRanges'
                            Identifier: 'length'
                          MinusToken
                          NumericLiteral
                      Identifier: 'end'
                    EqualsToken
                    PropertyAccessExpression
                      Identifier: ' text'
                      Identifier: 'length'
                VariableStatement
                  VariableDeclarationList
                    VariableDeclaration
                      Identifier: ' range'
                      NonNullExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' activeRanges'
                            Identifier: 'pop'
                IfStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'ts'
                      Identifier: 'hasProperty'
                    Identifier: 'ranges'
                    PropertyAccessExpression
                      Identifier: ' range'
                      Identifier: 'name'
                  Block
                    ThrowStatement
                      NewExpression
                        Identifier: ' Error'
                        TemplateExpression
                          TemplateHead
                          TemplateSpan
                            PropertyAccessExpression
                              Identifier: 'range'
                              Identifier: 'name'
                            TemplateTail
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: '
            ranges'
                      Identifier: 'set'
                    PropertyAccessExpression
                      Identifier: 'range'
                      Identifier: 'name'
                    Identifier: ' range'
                ExpressionStatement
                  BinaryExpression
                    Identifier: '
            pos'
                    PlusEqualsToken
                    NumericLiteral
                ExpressionStatement
                  BinaryExpression
                    Identifier: '
            lastPos'
                    EqualsToken
                    Identifier: ' pos'
                ContinueStatement
          ExpressionStatement
            PostfixUnaryExpression
              Identifier: '
        pos'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    text'
          PlusEqualsToken
          CallExpression
            PropertyAccessExpression
              Identifier: ' source'
              Identifier: 'substring'
            Identifier: 'lastPos'
            Identifier: ' pos'
      FunctionDeclaration
        Identifier: ' consumeIdentifier'
        Block
          WhileStatement
            CallExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'isIdentifierPart'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'source'
                  Identifier: 'charCodeAt'
                Identifier: 'pos'
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'ScriptTarget'
                Identifier: 'Latest'
            Block
              ExpressionStatement
                PostfixUnaryExpression
                  Identifier: '
            pos'
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' source'
            Identifier: ' text'
          ShorthandPropertyAssignment
            Identifier: ' ranges'
  VariableStatement
    ExportKeyword
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' newLineCharacter'
        StringLiteral
  VariableStatement
    ExportKeyword
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' notImplementedHost'
        TypeReference
          QualifiedName
            Identifier: ' ts'
            Identifier: 'LanguageServiceHost'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    getCompilationSettings'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    getScriptFileNames'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    getScriptVersion'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    getScriptSnapshot'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    getDefaultLibFileName'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    getCurrentDirectory'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    readFile'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
          PropertyAssignment
            Identifier: '
    fileExists'
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'notImplemented'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' testExtractSymbol'
    Parameter
      Identifier: 'caption'
      StringKeyword
    Parameter
      Identifier: ' text'
      StringKeyword
    Parameter
      Identifier: ' baselineFolder'
      StringKeyword
    Parameter
      Identifier: ' description'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'DiagnosticMessage'
    VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' t'
            CallExpression
              Identifier: ' extractTest'
              Identifier: 'text'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' selectionRange'
            NonNullExpression
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' t'
                    Identifier: 'ranges'
                  Identifier: 'get'
                StringLiteral
      IfStatement
        PrefixUnaryExpression
          Identifier: 'selectionRange'
        Block
          ThrowStatement
            NewExpression
              Identifier: ' Error'
              TemplateExpression
                TemplateHead
                TemplateSpan
                  Identifier: 'caption'
                  TemplateTail
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            ArrayLiteralExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'Extension'
                Identifier: 'Ts'
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'Extension'
                Identifier: 'Js'
            Identifier: 'forEach'
          ArrowFunction
            Parameter
              Identifier: 'extension'
            EqualsGreaterThanToken
            CallExpression
              Identifier: ' it'
              TemplateExpression
                TemplateHead
                TemplateSpan
                  Identifier: 'caption'
                  TemplateMiddle
                TemplateSpan
                  Identifier: 'extension'
                  TemplateTail
              ArrowFunction
                EqualsGreaterThanToken
                CallExpression
                  Identifier: ' runBaseline'
                  Identifier: 'extension'
      FunctionDeclaration
        Identifier: ' runBaseline'
        Parameter
          Identifier: 'extension'
          TypeReference
            QualifiedName
              Identifier: ' ts'
              Identifier: 'Extension'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' path'
                BinaryExpression
                  StringLiteral
                  PlusToken
                  Identifier: ' extension'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                ObjectBindingPattern
                  BindingElement
                    Identifier: ' program'
                CallExpression
                  Identifier: ' makeProgram'
                  ObjectLiteralExpression
                    ShorthandPropertyAssignment
                      Identifier: ' path'
                    PropertyAssignment
                      Identifier: ' content'
                      PropertyAccessExpression
                        Identifier: ' t'
                        Identifier: 'source'
          IfStatement
            CallExpression
              Identifier: 'hasSyntacticDiagnostics'
              Identifier: 'program'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            // Don't bother generating JS baselines for inputs that aren't valid JS.
            assert'
                    Identifier: 'equal'
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: 'ts'
                      Identifier: 'Extension'
                    Identifier: 'Js'
                  Identifier: ' extension'
                  StringLiteral
              ReturnStatement
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' sourceFile'
                NonNullExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' program'
                      Identifier: 'getSourceFile'
                    Identifier: 'path'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' context'
                TypeReference
                  QualifiedName
                    Identifier: ' ts'
                    Identifier: 'RefactorContext'
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: '
            cancellationToken'
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: ' throwIfCancellationRequested'
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'noop'
                      PropertyAssignment
                        Identifier: ' isCancellationRequested'
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'returnFalse'
                  ShorthandPropertyAssignment
                    Identifier: '
            program'
                  PropertyAssignment
                    Identifier: '
            file'
                    Identifier: ' sourceFile'
                  PropertyAssignment
                    Identifier: '
            startPosition'
                    PropertyAccessExpression
                      Identifier: ' selectionRange'
                      Identifier: 'pos'
                  PropertyAssignment
                    Identifier: '
            endPosition'
                    PropertyAccessExpression
                      Identifier: ' selectionRange'
                      Identifier: 'end'
                  PropertyAssignment
                    Identifier: '
            host'
                    Identifier: ' notImplementedHost'
                  PropertyAssignment
                    Identifier: '
            formatContext'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'formatting'
                        Identifier: 'getFormatContext'
                      PropertyAccessExpression
                        Identifier: 'ts'
                        Identifier: 'testFormatSettings'
                      Identifier: ' notImplementedHost'
                  PropertyAssignment
                    Identifier: '
            preferences'
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'emptyOptions'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' rangeToExtract'
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'refactor'
                      Identifier: 'extractSymbol'
                    Identifier: 'getRangeToExtract'
                  Identifier: 'sourceFile'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'createTextSpanFromRange'
                    Identifier: 'selectionRange'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        assert'
                Identifier: 'equal'
              PropertyAccessExpression
                Identifier: 'rangeToExtract'
                Identifier: 'errors'
              Identifier: ' undefined'
              BinaryExpression
                PropertyAccessExpression
                  Identifier: ' rangeToExtract'
                  Identifier: 'errors'
                AmpersandAmpersandToken
                BinaryExpression
                  StringLiteral
                  PlusToken
                  PropertyAccessExpression
                    ElementAccessExpression
                      PropertyAccessExpression
                        Identifier: ' rangeToExtract'
                        Identifier: 'errors'
                      NumericLiteral
                    Identifier: 'messageText'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' infos'
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'refactor'
                      Identifier: 'extractSymbol'
                    Identifier: 'getRefactorActionsToExtractSymbol'
                  Identifier: 'context'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' actions'
                PropertyAccessExpression
                  NonNullExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'find'
                      Identifier: 'infos'
                      ArrowFunction
                        Parameter
                          Identifier: ' info'
                        EqualsGreaterThanToken
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: ' info'
                            Identifier: 'description'
                          EqualsEqualsEqualsToken
                          PropertyAccessExpression
                            Identifier: ' description'
                            Identifier: 'message'
                  Identifier: 'actions'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' data'
                ArrayType
                  StringKeyword
                ArrayLiteralExpression
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        data'
                Identifier: 'push'
              NoSubstitutionTemplateLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        data'
                Identifier: 'push'
              CallExpression
                PropertyAccessExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'text'
                      Identifier: 'replace'
                    StringLiteral
                    StringLiteral
                  Identifier: 'replace'
                StringLiteral
                StringLiteral
          ForOfStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' action'
            Identifier: ' actions'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    ObjectBindingPattern
                      BindingElement
                        Identifier: ' renameLocation'
                      BindingElement
                        Identifier: ' edits'
                    NonNullExpression
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'refactor'
                            Identifier: 'extractSymbol'
                          Identifier: 'getRefactorEditsToExtractSymbol'
                        Identifier: 'context'
                        PropertyAccessExpression
                          Identifier: ' action'
                          Identifier: 'name'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            assert'
                    Identifier: 'lengthOf'
                  Identifier: 'edits'
                  NumericLiteral
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            data'
                    Identifier: 'push'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      PropertyAccessExpression
                        Identifier: 'action'
                        Identifier: 'description'
                      TemplateTail
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' newText'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'textChanges'
                        Identifier: 'applyChanges'
                      PropertyAccessExpression
                        Identifier: 'sourceFile'
                        Identifier: 'text'
                      PropertyAccessExpression
                        ElementAccessExpression
                          Identifier: ' edits'
                          NumericLiteral
                        Identifier: 'textChanges'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' newTextWithRename'
                    BinaryExpression
                      BinaryExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' newText'
                            Identifier: 'slice'
                          NumericLiteral
                          Identifier: ' renameLocation'
                        PlusToken
                        StringLiteral
                      PlusToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' newText'
                          Identifier: 'slice'
                        Identifier: 'renameLocation'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            data'
                    Identifier: 'push'
                  Identifier: 'newTextWithRename'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    ObjectBindingPattern
                      BindingElement
                        Identifier: ' program'
                        Identifier: ' diagProgram'
                    CallExpression
                      Identifier: ' makeProgram'
                      ObjectLiteralExpression
                        ShorthandPropertyAssignment
                          Identifier: ' path'
                        PropertyAssignment
                          Identifier: ' content'
                          Identifier: ' newText'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            assert'
                    Identifier: 'isFalse'
                  CallExpression
                    Identifier: 'hasSyntacticDiagnostics'
                    Identifier: 'diagProgram'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
        Harness'
                  Identifier: 'Baseline'
                Identifier: 'runBaseline'
              TemplateExpression
                TemplateHead
                TemplateSpan
                  Identifier: 'baselineFolder'
                  TemplateMiddle
                TemplateSpan
                  Identifier: 'caption'
                  TemplateMiddle
                TemplateSpan
                  Identifier: 'extension'
                  TemplateTail
              CallExpression
                PropertyAccessExpression
                  Identifier: ' data'
                  Identifier: 'join'
                Identifier: 'newLineCharacter'
      FunctionDeclaration
        Identifier: ' makeProgram'
        Parameter
          Identifier: 'f'
          TypeLiteral
            PropertySignature
              Identifier: ' path'
              StringKeyword
            PropertySignature
              Identifier: ' content'
              StringKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' host'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' TestServerHost'
                    Identifier: 'createServerHost'
                  ArrayLiteralExpression
                    Identifier: 'f'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' projectService'
                NewExpression
                  Identifier: ' TestProjectService'
                  Identifier: 'host'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        projectService'
                Identifier: 'openClientFile'
              PropertyAccessExpression
                Identifier: 'f'
                Identifier: 'path'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' program'
                NonNullExpression
                  CallExpression
                    PropertyAccessExpression
                      CallExpression
                        PropertyAccessExpression
                          ElementAccessExpression
                            PropertyAccessExpression
                              Identifier: ' projectService'
                              Identifier: 'inferredProjects'
                            NumericLiteral
                          Identifier: 'getLanguageService'
                      Identifier: 'getProgram'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' autoImportProvider'
                CallExpression
                  PropertyAccessExpression
                    CallExpression
                      PropertyAccessExpression
                        ElementAccessExpression
                          PropertyAccessExpression
                            Identifier: ' projectService'
                            Identifier: 'inferredProjects'
                          NumericLiteral
                        Identifier: 'getLanguageService'
                    Identifier: 'getAutoImportProvider'
          ReturnStatement
            ObjectLiteralExpression
              ShorthandPropertyAssignment
                Identifier: ' program'
              ShorthandPropertyAssignment
                Identifier: ' autoImportProvider'
      FunctionDeclaration
        Identifier: ' hasSyntacticDiagnostics'
        Parameter
          Identifier: 'program'
          TypeReference
            QualifiedName
              Identifier: ' ts'
              Identifier: 'Program'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' diags'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' program'
                    Identifier: 'getSyntacticDiagnostics'
          ReturnStatement
            BinaryExpression
              CallExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'length'
                Identifier: 'diags'
              GreaterThanToken
              NumericLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' testExtractSymbolFailed'
    Parameter
      Identifier: 'caption'
      StringKeyword
    Parameter
      Identifier: ' text'
      StringKeyword
    Parameter
      Identifier: ' description'
      TypeReference
        QualifiedName
          Identifier: ' ts'
          Identifier: 'DiagnosticMessage'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
    it'
          Identifier: 'caption'
          ArrowFunction
            EqualsGreaterThanToken
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' t'
                    CallExpression
                      Identifier: ' extractTest'
                      Identifier: 'text'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' selectionRange'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' t'
                          Identifier: 'ranges'
                        Identifier: 'get'
                      StringLiteral
              IfStatement
                PrefixUnaryExpression
                  Identifier: 'selectionRange'
                Block
                  ThrowStatement
                    NewExpression
                      Identifier: ' Error'
                      TemplateExpression
                        TemplateHead
                        TemplateSpan
                          Identifier: 'caption'
                          TemplateTail
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' f'
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: '
            path'
                        StringLiteral
                      PropertyAssignment
                        Identifier: '
            content'
                        PropertyAccessExpression
                          Identifier: ' t'
                          Identifier: 'source'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' host'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' TestServerHost'
                        Identifier: 'createServerHost'
                      ArrayLiteralExpression
                        Identifier: 'f'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' projectService'
                    NewExpression
                      Identifier: ' TestProjectService'
                      Identifier: 'host'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        projectService'
                    Identifier: 'openClientFile'
                  PropertyAccessExpression
                    Identifier: 'f'
                    Identifier: 'path'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' program'
                    NonNullExpression
                      CallExpression
                        PropertyAccessExpression
                          CallExpression
                            PropertyAccessExpression
                              ElementAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' projectService'
                                  Identifier: 'inferredProjects'
                                NumericLiteral
                              Identifier: 'getLanguageService'
                          Identifier: 'getProgram'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' sourceFile'
                    NonNullExpression
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' program'
                          Identifier: 'getSourceFile'
                        PropertyAccessExpression
                          Identifier: 'f'
                          Identifier: 'path'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' context'
                    TypeReference
                      QualifiedName
                        Identifier: ' ts'
                        Identifier: 'RefactorContext'
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: '
            cancellationToken'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: ' throwIfCancellationRequested'
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'noop'
                          PropertyAssignment
                            Identifier: ' isCancellationRequested'
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'returnFalse'
                      ShorthandPropertyAssignment
                        Identifier: '
            program'
                      PropertyAssignment
                        Identifier: '
            file'
                        Identifier: ' sourceFile'
                      PropertyAssignment
                        Identifier: '
            startPosition'
                        PropertyAccessExpression
                          Identifier: ' selectionRange'
                          Identifier: 'pos'
                      PropertyAssignment
                        Identifier: '
            endPosition'
                        PropertyAccessExpression
                          Identifier: ' selectionRange'
                          Identifier: 'end'
                      PropertyAssignment
                        Identifier: '
            host'
                        Identifier: ' notImplementedHost'
                      PropertyAssignment
                        Identifier: '
            formatContext'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'formatting'
                            Identifier: 'getFormatContext'
                          PropertyAccessExpression
                            Identifier: 'ts'
                            Identifier: 'testFormatSettings'
                          Identifier: ' notImplementedHost'
                      PropertyAssignment
                        Identifier: '
            preferences'
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'emptyOptions'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' rangeToExtract'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'refactor'
                          Identifier: 'extractSymbol'
                        Identifier: 'getRangeToExtract'
                      Identifier: 'sourceFile'
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'createTextSpanFromRange'
                        Identifier: 'selectionRange'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        assert'
                    Identifier: 'isUndefined'
                  PropertyAccessExpression
                    Identifier: 'rangeToExtract'
                    Identifier: 'errors'
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: ' rangeToExtract'
                      Identifier: 'errors'
                    AmpersandAmpersandToken
                    BinaryExpression
                      StringLiteral
                      PlusToken
                      PropertyAccessExpression
                        ElementAccessExpression
                          PropertyAccessExpression
                            Identifier: ' rangeToExtract'
                            Identifier: 'errors'
                          NumericLiteral
                        Identifier: 'messageText'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' infos'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'refactor'
                          Identifier: 'extractSymbol'
                        Identifier: 'getRefactorActionsToExtractSymbol'
                      Identifier: 'context'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        assert'
                    Identifier: 'isUndefined'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'ts'
                      Identifier: 'find'
                    Identifier: 'infos'
                    ArrowFunction
                      Parameter
                        Identifier: ' info'
                      EqualsGreaterThanToken
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: ' info'
                          Identifier: 'description'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          Identifier: ' description'
                          Identifier: 'message'
