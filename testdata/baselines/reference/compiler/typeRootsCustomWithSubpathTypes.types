//// [tests/cases/compiler/typeRootsCustomWithSubpathTypes.ts] ////

=== /index.ts ===
// When typeRoots is set to a custom directory (not ending in @types),
// type reference directives with subpaths like "testpkg/globals" should
// still resolve correctly by checking if the typeRoot directory exists
// (not the candidate path), then loading from the candidate.

// If resolution works correctly, testGlobal and testFunc should be available
const x: string = testGlobal;
>x : string
>testGlobal : string

testFunc();
>testFunc() : void
>testFunc : () => void

=== /node_modules/testpkg/globals.d.ts ===
// This file provides global declarations, similar to vitest/globals
declare global {
>global : typeof global

    var testGlobal: string;
>testGlobal : string

    function testFunc(): void;
>testFunc : () => void
}
export {}

