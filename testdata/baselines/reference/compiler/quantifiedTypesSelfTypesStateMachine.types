//// [tests/cases/compiler/quantifiedTypesSelfTypesStateMachine.ts] ////

=== quantifiedTypesSelfTypesStateMachine.ts ===
type ParseStateMachine<Self> = { [S in keyof Self]: { [E in keyof Self[S]]: keyof Self } }
>ParseStateMachine : ParseStateMachine<Self>

type StateMachine = <Self extends ParseStateMachine<Self>> Self
>StateMachine : <Self extends ParseStateMachine<Self>> Self

let trafficLights: StateMachine = {
>trafficLights : <Self extends ParseStateMachine<Self>> Self
>{  off: {    ON: "red"  },  red: {    TICK: "yellow",    OFF: "off"  },  yellow: {    TICK: "green",    OFF: "off"  },  green: {    TICK: "red",    OFF: "off"  }} : { off: { ON: "red"; }; red: { TICK: "yellow"; OFF: "off"; }; yellow: { TICK: "green"; OFF: "off"; }; green: { TICK: "red"; OFF: "off"; }; }

  off: {
>off : { ON: "red"; }
>{    ON: "red"  } : { ON: "red"; }

    ON: "red"
>ON : "red"
>"red" : "red"

  },
  red: {
>red : { TICK: "yellow"; OFF: "off"; }
>{    TICK: "yellow",    OFF: "off"  } : { TICK: "yellow"; OFF: "off"; }

    TICK: "yellow",
>TICK : "yellow"
>"yellow" : "yellow"

    OFF: "off"
>OFF : "off"
>"off" : "off"

  },
  yellow: {
>yellow : { TICK: "green"; OFF: "off"; }
>{    TICK: "green",    OFF: "off"  } : { TICK: "green"; OFF: "off"; }

    TICK: "green",
>TICK : "green"
>"green" : "green"

    OFF: "off"
>OFF : "off"
>"off" : "off"

  },
  green: {
>green : { TICK: "red"; OFF: "off"; }
>{    TICK: "red",    OFF: "off"  } : { TICK: "red"; OFF: "off"; }

    TICK: "red",
>TICK : "red"
>"red" : "red"

    OFF: "off"
>OFF : "off"
>"off" : "off"
  }
}

let trafficLightsInvalid: StateMachine = {
>trafficLightsInvalid : <Self extends ParseStateMachine<Self>> Self
>{  off: {    ON: "red"  },  red: {    TICK: "yellow",    OFF: "off"  },  yellow: {    TICK: "green",    OFF: "off"  },  green: {    TICK: "reddd",    OFF: "off"  }} : { off: { ON: "red"; }; red: { TICK: "yellow"; OFF: "off"; }; yellow: { TICK: "green"; OFF: "off"; }; green: { TICK: "reddd"; OFF: "off"; }; }

  off: {
>off : { ON: "red"; }
>{    ON: "red"  } : { ON: "red"; }

    ON: "red"
>ON : "red"
>"red" : "red"

  },
  red: {
>red : { TICK: "yellow"; OFF: "off"; }
>{    TICK: "yellow",    OFF: "off"  } : { TICK: "yellow"; OFF: "off"; }

    TICK: "yellow",
>TICK : "yellow"
>"yellow" : "yellow"

    OFF: "off"
>OFF : "off"
>"off" : "off"

  },
  yellow: {
>yellow : { TICK: "green"; OFF: "off"; }
>{    TICK: "green",    OFF: "off"  } : { TICK: "green"; OFF: "off"; }

    TICK: "green",
>TICK : "green"
>"green" : "green"

    OFF: "off"
>OFF : "off"
>"off" : "off"

  },
  green: {
>green : { TICK: "reddd"; OFF: "off"; }
>{    TICK: "reddd",    OFF: "off"  } : { TICK: "reddd"; OFF: "off"; }

    TICK: "reddd",
>TICK : "reddd"
>"reddd" : "reddd"

    OFF: "off"
>OFF : "off"
>"off" : "off"
  }
}
