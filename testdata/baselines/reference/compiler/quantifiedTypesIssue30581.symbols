//// [tests/cases/compiler/quantifiedTypesIssue30581.ts] ////

=== quantifiedTypesIssue30581.ts ===
// https://github.com/microsoft/TypeScript/issues/30581

type NumberRecord = { kind: "n", v: number, f: (v: number) => void };
>NumberRecord : Symbol(NumberRecord, Decl(quantifiedTypesIssue30581.ts, 0, 0))
>kind : Symbol(kind, Decl(quantifiedTypesIssue30581.ts, 2, 21))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 2, 32))
>f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 2, 43))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 2, 48))

type StringRecord = { kind: "s", v: string, f: (v: string) => void };
>StringRecord : Symbol(StringRecord, Decl(quantifiedTypesIssue30581.ts, 2, 69))
>kind : Symbol(kind, Decl(quantifiedTypesIssue30581.ts, 3, 21))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 3, 32))
>f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 3, 43))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 3, 48))

type BooleanRecord = { kind: "b", v: boolean, f: (v: boolean) => void };
>BooleanRecord : Symbol(BooleanRecord, Decl(quantifiedTypesIssue30581.ts, 3, 69))
>kind : Symbol(kind, Decl(quantifiedTypesIssue30581.ts, 4, 22))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 4, 33))
>f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 4, 45))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 4, 50))

type GenericRecord = <T> { kind: string, v: T, f: (v: T) => void };
>GenericRecord : Symbol(GenericRecord, Decl(quantifiedTypesIssue30581.ts, 4, 72))
>T : Symbol(T, Decl(quantifiedTypesIssue30581.ts, 5, 22))
>kind : Symbol(kind, Decl(quantifiedTypesIssue30581.ts, 5, 26))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 5, 40))
>T : Symbol(T, Decl(quantifiedTypesIssue30581.ts, 5, 22))
>f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 5, 46))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 5, 51))
>T : Symbol(T, Decl(quantifiedTypesIssue30581.ts, 5, 22))

function processRecord(record: GenericRecord) {
>processRecord : Symbol(processRecord, Decl(quantifiedTypesIssue30581.ts, 5, 67))
>record : Symbol(record, Decl(quantifiedTypesIssue30581.ts, 7, 23))
>GenericRecord : Symbol(GenericRecord, Decl(quantifiedTypesIssue30581.ts, 4, 72))

  record.f(record.v);
>record.f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 5, 46))
>record : Symbol(record, Decl(quantifiedTypesIssue30581.ts, 7, 23))
>f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 5, 46))
>record.v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 5, 40))
>record : Symbol(record, Decl(quantifiedTypesIssue30581.ts, 7, 23))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 5, 40))
}
processRecord({} as NumberRecord)
>processRecord : Symbol(processRecord, Decl(quantifiedTypesIssue30581.ts, 5, 67))
>NumberRecord : Symbol(NumberRecord, Decl(quantifiedTypesIssue30581.ts, 0, 0))

processRecord({} as StringRecord)
>processRecord : Symbol(processRecord, Decl(quantifiedTypesIssue30581.ts, 5, 67))
>StringRecord : Symbol(StringRecord, Decl(quantifiedTypesIssue30581.ts, 2, 69))

processRecord({} as BooleanRecord)
>processRecord : Symbol(processRecord, Decl(quantifiedTypesIssue30581.ts, 5, 67))
>BooleanRecord : Symbol(BooleanRecord, Decl(quantifiedTypesIssue30581.ts, 3, 69))

processRecord({} as NumberRecord | StringRecord | BooleanRecord)
>processRecord : Symbol(processRecord, Decl(quantifiedTypesIssue30581.ts, 5, 67))
>NumberRecord : Symbol(NumberRecord, Decl(quantifiedTypesIssue30581.ts, 0, 0))
>StringRecord : Symbol(StringRecord, Decl(quantifiedTypesIssue30581.ts, 2, 69))
>BooleanRecord : Symbol(BooleanRecord, Decl(quantifiedTypesIssue30581.ts, 3, 69))

function processRecord2(record1: GenericRecord, record2: GenericRecord) {
>processRecord2 : Symbol(processRecord2, Decl(quantifiedTypesIssue30581.ts, 13, 64))
>record1 : Symbol(record1, Decl(quantifiedTypesIssue30581.ts, 15, 24))
>GenericRecord : Symbol(GenericRecord, Decl(quantifiedTypesIssue30581.ts, 4, 72))
>record2 : Symbol(record2, Decl(quantifiedTypesIssue30581.ts, 15, 47))
>GenericRecord : Symbol(GenericRecord, Decl(quantifiedTypesIssue30581.ts, 4, 72))

  record1.f(record2.v); // TODO: should not compile
>record1.f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 5, 46))
>record1 : Symbol(record1, Decl(quantifiedTypesIssue30581.ts, 15, 24))
>f : Symbol(f, Decl(quantifiedTypesIssue30581.ts, 5, 46))
>record2.v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 5, 40))
>record2 : Symbol(record2, Decl(quantifiedTypesIssue30581.ts, 15, 47))
>v : Symbol(v, Decl(quantifiedTypesIssue30581.ts, 5, 40))
}
