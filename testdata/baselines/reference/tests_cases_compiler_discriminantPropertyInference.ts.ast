SourceFile
  TypeAliasDeclaration
    Identifier: ' DiscriminatorTrue'
    TypeLiteral
      PropertySignature
        Identifier: '
    disc'
        LiteralType
          TrueKeyword
      PropertySignature
        Identifier: '
    cb'
        FunctionType
          Parameter
            Identifier: 'x'
            StringKeyword
          VoidKeyword
  TypeAliasDeclaration
    Identifier: ' DiscriminatorFalse'
    TypeLiteral
      PropertySignature
        Identifier: '
    disc'
        QuestionToken
        LiteralType
          FalseKeyword
      PropertySignature
        Identifier: '
    cb'
        FunctionType
          Parameter
            Identifier: 'x'
            NumberKeyword
          VoidKeyword
  TypeAliasDeclaration
    Identifier: ' Props'
    UnionType
      TypeReference
        Identifier: ' DiscriminatorTrue'
      TypeReference
        Identifier: ' DiscriminatorFalse'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' f'
    Parameter
      Identifier: 'options'
      UnionType
        TypeReference
          Identifier: ' DiscriminatorTrue'
        TypeReference
          Identifier: ' DiscriminatorFalse'
    AnyKeyword
  ExpressionStatement
    CallExpression
      Identifier: '

// simple inference
f'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    disc'
          TrueKeyword
        PropertyAssignment
          Identifier: '
    cb'
          ArrowFunction
            Parameter
              Identifier: ' s'
            EqualsGreaterThanToken
            CallExpression
              Identifier: ' parseInt'
              Identifier: 's'
  ExpressionStatement
    CallExpression
      Identifier: '

// simple inference
f'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    disc'
          FalseKeyword
        PropertyAssignment
          Identifier: '
    cb'
          ArrowFunction
            Parameter
              Identifier: ' n'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' n'
                Identifier: 'toFixed'
  ExpressionStatement
    CallExpression
      Identifier: '

// simple inference when strict-null-checks are enabled
f'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    disc'
          Identifier: ' undefined'
        PropertyAssignment
          Identifier: '
    cb'
          ArrowFunction
            Parameter
              Identifier: ' n'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' n'
                Identifier: 'toFixed'
  ExpressionStatement
    CallExpression
      Identifier: '

// requires checking type information since discriminator is missing from object
f'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    cb'
          ArrowFunction
            Parameter
              Identifier: ' n'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' n'
                Identifier: 'toFixed'
