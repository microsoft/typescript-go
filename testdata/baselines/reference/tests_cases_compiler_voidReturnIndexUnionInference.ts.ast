SourceFile
  FunctionDeclaration
    ExportKeyword
    Identifier: ' safeInvoke'
    TypeParameter
      Identifier: 'A1'
    TypeParameter
      Identifier: ' R'
    Parameter
      Identifier: '
    func'
      UnionType
        ParenthesizedType
          FunctionType
            Parameter
              Identifier: 'arg1'
              TypeReference
                Identifier: ' A1'
            TypeReference
              Identifier: ' R'
        LiteralType
          NullKeyword
        UndefinedKeyword
    Parameter
      Identifier: '
    arg1'
      TypeReference
        Identifier: ' A1'
    UnionType
      TypeReference
        Identifier: ' R'
      UndefinedKeyword
    Block
      IfStatement
        Identifier: 'func'
        Block
          ReturnStatement
            CallExpression
              Identifier: ' func'
              Identifier: 'arg1'
        Block
          ReturnStatement
            Identifier: ' undefined'
  InterfaceDeclaration
    Identifier: ' Props'
    MethodSignature
      Identifier: '
    onFoo'
      QuestionToken
      Parameter
        Identifier: 'value'
        StringKeyword
      BooleanKeyword
    MethodSignature
      Identifier: '
    onBar'
      QuestionToken
      Parameter
        Identifier: 'value'
        StringKeyword
      VoidKeyword
  FunctionDeclaration
    Identifier: ' bad'
    TypeParameter
      Identifier: 'P'
      TypeReference
        Identifier: ' Props'
    Parameter
      Identifier: 'props'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'P'
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
    safeInvoke'
          PropertyAccessExpression
            Identifier: 'props'
            Identifier: 'onFoo'
          StringLiteral
      ExpressionStatement
        CallExpression
          Identifier: '
    // ERROR HERE!!!
    // Type R in signature of safeInvoke incorrectly inferred as {} instead of void!
    safeInvoke'
          PropertyAccessExpression
            Identifier: 'props'
            Identifier: 'onBar'
          StringLiteral
