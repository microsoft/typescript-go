SourceFile
  InterfaceDeclaration
    Identifier: ' Instance'
    PropertySignature
      Identifier: '
    _instanceBrand'
      NeverKeyword
  TypeAliasDeclaration
    Identifier: ' DataDef'
    TypeParameter
      Identifier: 'Data'
    TypeParameter
      Identifier: ' Props'
    FunctionType
      Parameter
        Identifier: 'this'
        IntersectionType
          TypeReference
            Identifier: ' Readonly'
            TypeReference
              Identifier: 'Props'
          TypeReference
            Identifier: ' Instance'
      TypeReference
        Identifier: ' Data'
  TypeAliasDeclaration
    Identifier: ' PropsDefinition'
    TypeParameter
      Identifier: 'T'
    MappedType
      TypeParameter
        Identifier: 'K'
        TypeOperator
          TypeReference
            Identifier: ' T'
      IndexedAccessType
        TypeReference
          Identifier: ' T'
        TypeReference
          Identifier: 'K'
  InterfaceDeclaration
    Identifier: ' Options'
    TypeParameter
      Identifier: '
    Data'
      UnionType
        ObjectKeyword
        ParenthesizedType
          FunctionType
            Parameter
              Identifier: 'this'
              TypeReference
                Identifier: ' Instance'
            ObjectKeyword
    TypeParameter
      Identifier: '
    PropsDef'
      TypeReference
        Identifier: ' PropsDefinition'
        TypeReference
          Identifier: 'Record'
          StringKeyword
          AnyKeyword
    PropertySignature
      Identifier: '
    data'
      QuestionToken
      TypeReference
        Identifier: ' Data'
    PropertySignature
      Identifier: '
    props'
      QuestionToken
      TypeReference
        Identifier: ' PropsDef'
    PropertySignature
      Identifier: '
    watch'
      QuestionToken
      TypeReference
        Identifier: ' Record'
        StringKeyword
        TypeReference
          Identifier: ' WatchHandler'
          AnyKeyword
  TypeAliasDeclaration
    Identifier: ' WatchHandler'
    TypeParameter
      Identifier: 'T'
    FunctionType
      Parameter
        Identifier: 'val'
        TypeReference
          Identifier: ' T'
      Parameter
        Identifier: ' oldVal'
        TypeReference
          Identifier: ' T'
      VoidKeyword
  TypeAliasDeclaration
    Identifier: ' ThisTypedOptions'
    TypeParameter
      Identifier: 'Data'
    TypeParameter
      Identifier: ' Props'
    IntersectionType
      ObjectKeyword
      TypeReference
        Identifier: '
    Options'
        TypeReference
          Identifier: 'DataDef'
          TypeReference
            Identifier: 'Data'
          TypeReference
            Identifier: ' Props'
        TypeReference
          Identifier: ' PropsDefinition'
          TypeReference
            Identifier: 'Props'
      TypeReference
        Identifier: '
    ThisType'
        IntersectionType
          TypeReference
            Identifier: 'Data'
          TypeReference
            Identifier: ' Readonly'
            TypeReference
              Identifier: 'Props'
          TypeReference
            Identifier: ' Instance'
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' test'
    TypeParameter
      Identifier: 'Data'
    TypeParameter
      Identifier: ' Props'
    Parameter
      Identifier: 'fn'
      TypeReference
        Identifier: ' ThisTypedOptions'
        TypeReference
          Identifier: 'Data'
        TypeReference
          Identifier: ' Props'
    VoidKeyword
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' test'
    Parameter
      Identifier: 'fn'
      TypeReference
        Identifier: ' Options'
    VoidKeyword
  ExpressionStatement
    CallExpression
      Identifier: '

test'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    props'
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: '
        foo'
              StringLiteral
        MethodDeclaration
          Identifier: '

    data'
          TypeLiteral
            PropertySignature
              Identifier: ' bar'
              BooleanKeyword
          Block
            ReturnStatement
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            bar'
                  TrueKeyword
        PropertyAssignment
          Identifier: '

    watch'
          ObjectLiteralExpression
            MethodDeclaration
              Identifier: '
        foo'
              Parameter
                Identifier: 'newVal'
                StringKeyword
              Parameter
                Identifier: ' oldVal'
                StringKeyword
              VoidKeyword
              Block
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'bar'
                    EqualsToken
                    FalseKeyword
