SourceFile
  FunctionDeclaration
    Identifier: ' f1'
    Parameter
      Identifier: 'x'
      TypeLiteral
        MethodSignature
          Identifier: ' f'
          VoidKeyword
    Parameter
      Identifier: ' y'
      TypeLiteral
        MethodSignature
          Identifier: ' f'
          Parameter
            Identifier: 'x'
            QuestionToken
            StringKeyword
          VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' z'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' x'
              ColonToken
              Identifier: ' y'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '  // { f(x?: string): void }
    z'
            Identifier: 'f'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    z'
            Identifier: 'f'
          StringLiteral
  FunctionDeclaration
    Identifier: ' f2'
    Parameter
      Identifier: 'x'
      TypeLiteral
        MethodSignature
          Identifier: ' f'
          Parameter
            Identifier: 'x'
            UnionType
              StringKeyword
              UndefinedKeyword
          VoidKeyword
    Parameter
      Identifier: ' y'
      TypeLiteral
        MethodSignature
          Identifier: ' f'
          Parameter
            Identifier: 'x'
            QuestionToken
            StringKeyword
          VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' z'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' x'
              ColonToken
              Identifier: ' y'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '  // { f(x?: string): void }
    z'
            Identifier: 'f'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    z'
            Identifier: 'f'
          StringLiteral
  FunctionDeclaration
    Identifier: ' f3'
    Parameter
      Identifier: 'x'
      FunctionType
        VoidKeyword
    Parameter
      Identifier: ' y'
      FunctionType
        Parameter
          Identifier: 'x'
          QuestionToken
          StringKeyword
        VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' f'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' x'
              ColonToken
              Identifier: ' y'
      ExpressionStatement
        CallExpression
          Identifier: '  // (x?: string) => void
    f'
      ExpressionStatement
        CallExpression
          Identifier: '
    f'
          StringLiteral
  FunctionDeclaration
    Identifier: ' f4'
    Parameter
      Identifier: 'x'
      FunctionType
        Parameter
          Identifier: 'x'
          UnionType
            StringKeyword
            UndefinedKeyword
        VoidKeyword
    Parameter
      Identifier: ' y'
      FunctionType
        Parameter
          Identifier: 'x'
          QuestionToken
          StringKeyword
        VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' f'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' x'
              ColonToken
              Identifier: ' y'
      ExpressionStatement
        CallExpression
          Identifier: '  // (x?: string) => void
    f'
      ExpressionStatement
        CallExpression
          Identifier: '
    f'
          StringLiteral
  FunctionDeclaration
    Identifier: ' f5'
    Parameter
      Identifier: 'x'
      FunctionType
        Parameter
          Identifier: 'x'
          UnionType
            StringKeyword
            UndefinedKeyword
        VoidKeyword
    Parameter
      Identifier: ' y'
      FunctionType
        Parameter
          Identifier: 'x'
          QuestionToken
          LiteralType
            StringLiteral
        VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' f'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' x'
              ColonToken
              Identifier: ' y'
      ExpressionStatement
        CallExpression
          Identifier: '  // (x?: 'hello') => void
    f'
      ExpressionStatement
        CallExpression
          Identifier: '
    f'
          StringLiteral
  FunctionDeclaration
    Identifier: ' f6'
    Parameter
      Identifier: 'x'
      FunctionType
        Parameter
          Identifier: 'x'
          UnionType
            LiteralType
              StringLiteral
            UndefinedKeyword
        VoidKeyword
    Parameter
      Identifier: ' y'
      FunctionType
        Parameter
          Identifier: 'x'
          QuestionToken
          StringKeyword
        VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' f'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' x'
              ColonToken
              Identifier: ' y'
      ExpressionStatement
        CallExpression
          Identifier: '  // (x: 'hello' | undefined) => void
    f'
      ExpressionStatement
        CallExpression
          Identifier: '  // Error
    f'
          StringLiteral
  TypeAliasDeclaration
    Identifier: ' A'
    TypeLiteral
      MethodSignature
        Identifier: '
    f'
        VoidKeyword
  TypeAliasDeclaration
    Identifier: ' B'
    TypeLiteral
      MethodSignature
        Identifier: '
    f'
        Parameter
          Identifier: 'x'
          QuestionToken
          StringKeyword
        VoidKeyword
      MethodSignature
        Identifier: '
    g'
        VoidKeyword
  FunctionDeclaration
    Identifier: ' f11'
    Parameter
      Identifier: 'a'
      TypeReference
        Identifier: ' A'
    Parameter
      Identifier: ' b'
      TypeReference
        Identifier: ' B'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' z'
            ConditionalExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  TrueKeyword
              QuestionToken
              Identifier: ' a'
              ColonToken
              Identifier: ' b'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '  // A | B
    z'
            Identifier: 'f'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    z'
            Identifier: 'f'
          StringLiteral
  InterfaceDeclaration
    Identifier: ' ReturnVal'
    MethodSignature
      Identifier: '
    something'
      VoidKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' k'
        TypeReference
          Identifier: ' ReturnVal'
        ObjectLiteralExpression
          MethodDeclaration
            Identifier: ' something'
            Block
  VariableStatement
    DeclareKeyword
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' val'
        TypeReference
          Identifier: ' ReturnVal'
  FunctionDeclaration
    Identifier: ' run'
    Parameter
      Identifier: 'options'
      TypeLiteral
        MethodSignature
          Identifier: ' something'
          QuestionToken
          Parameter
            Identifier: 'b'
            QuestionToken
            StringKeyword
          VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' something'
            BinaryExpression
              PropertyAccessExpression
                Identifier: ' options'
                Identifier: 'something'
              QuestionQuestionToken
              PropertyAccessExpression
                Identifier: ' val'
                Identifier: 'something'
      ExpressionStatement
        CallExpression
          Identifier: '
    something'
          StringLiteral
