SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    CachedDirectoryStructureHost'
        ImportSpecifier
          Identifier: '
    clearMap'
        ImportSpecifier
          Identifier: '
    closeFileWatcher'
        ImportSpecifier
          Identifier: '
    closeFileWatcherOf'
        ImportSpecifier
          Identifier: '
    CompilerOptions'
        ImportSpecifier
          Identifier: '
    createModeAwareCache'
        ImportSpecifier
          Identifier: '
    createModuleResolutionCache'
        ImportSpecifier
          Identifier: '
    createTypeReferenceDirectiveResolutionCache'
        ImportSpecifier
          Identifier: '
    createTypeReferenceResolutionLoader'
        ImportSpecifier
          Identifier: '
    Debug'
        ImportSpecifier
          Identifier: '
    Diagnostics'
        ImportSpecifier
          Identifier: '
    directorySeparator'
        ImportSpecifier
          Identifier: '
    DirectoryWatcherCallback'
        ImportSpecifier
          Identifier: '
    emptyArray'
        ImportSpecifier
          Identifier: '
    endsWith'
        ImportSpecifier
          Identifier: '
    Extension'
        ImportSpecifier
          Identifier: '
    extensionIsTS'
        ImportSpecifier
          Identifier: '
    fileExtensionIs'
        ImportSpecifier
          Identifier: '
    FileReference'
        ImportSpecifier
          Identifier: '
    FileWatcher'
        ImportSpecifier
          Identifier: '
    FileWatcherCallback'
        ImportSpecifier
          Identifier: '
    firstDefinedIterator'
        ImportSpecifier
          Identifier: '
    GetCanonicalFileName'
        ImportSpecifier
          Identifier: '
    getDirectoryPath'
        ImportSpecifier
          Identifier: '
    getEffectiveTypeRoots'
        ImportSpecifier
          Identifier: '
    getInferredLibraryNameResolveFrom'
        ImportSpecifier
          Identifier: '
    getNormalizedAbsolutePath'
        ImportSpecifier
          Identifier: '
    getOptionsForLibraryResolution'
        ImportSpecifier
          Identifier: '
    getPathComponents'
        ImportSpecifier
          Identifier: '
    getPathFromPathComponents'
        ImportSpecifier
          Identifier: '
    getResolvedModuleFromResolution'
        ImportSpecifier
          Identifier: '
    getResolvedTypeReferenceDirectiveFromResolution'
        ImportSpecifier
          Identifier: '
    HasInvalidatedLibResolutions'
        ImportSpecifier
          Identifier: '
    HasInvalidatedResolutions'
        ImportSpecifier
          Identifier: '
    ignoredPaths'
        ImportSpecifier
          Identifier: '
    inferredTypesContainingFile'
        ImportSpecifier
          Identifier: '
    isDiskPathRoot'
        ImportSpecifier
          Identifier: '
    isEmittedFileOfProgram'
        ImportSpecifier
          Identifier: '
    isExternalModuleNameRelative'
        ImportSpecifier
          Identifier: '
    isNodeModulesDirectory'
        ImportSpecifier
          Identifier: '
    isRootedDiskPath'
        ImportSpecifier
          Identifier: '
    isTraceEnabled'
        ImportSpecifier
          Identifier: '
    loadModuleFromGlobalCache'
        ImportSpecifier
          Identifier: '
    memoize'
        ImportSpecifier
          Identifier: '
    MinimalResolutionCacheHost'
        ImportSpecifier
          Identifier: '
    ModeAwareCache'
        ImportSpecifier
          Identifier: '
    ModuleResolutionCache'
        ImportSpecifier
          Identifier: '
    moduleResolutionNameAndModeGetter'
        ImportSpecifier
          Identifier: '
    mutateMap'
        ImportSpecifier
          Identifier: '
    noopFileWatcher'
        ImportSpecifier
          Identifier: '
    normalizePath'
        ImportSpecifier
          Identifier: '
    packageIdToString'
        ImportSpecifier
          Identifier: '
    PackageJsonInfoCacheEntry'
        ImportSpecifier
          Identifier: '
    parseNodeModuleFromPath'
        ImportSpecifier
          Identifier: '
    Path'
        ImportSpecifier
          Identifier: '
    PathPathComponents'
        ImportSpecifier
          Identifier: '
    Program'
        ImportSpecifier
          Identifier: '
    removeSuffix'
        ImportSpecifier
          Identifier: '
    removeTrailingDirectorySeparator'
        ImportSpecifier
          Identifier: '
    resolutionExtensionIsTSOrJson'
        ImportSpecifier
          Identifier: '
    ResolutionLoader'
        ImportSpecifier
          Identifier: '
    ResolutionMode'
        ImportSpecifier
          Identifier: '
    ResolutionWithResolvedFileName'
        ImportSpecifier
          Identifier: '
    ResolvedModuleWithFailedLookupLocations'
        ImportSpecifier
          Identifier: '
    ResolvedProjectReference'
        ImportSpecifier
          Identifier: '
    ResolvedTypeReferenceDirectiveWithFailedLookupLocations'
        ImportSpecifier
          Identifier: '
    resolveLibrary'
          Identifier: ' ts_resolveLibrary'
        ImportSpecifier
          Identifier: '
    resolveModuleName'
          Identifier: ' ts_resolveModuleName'
        ImportSpecifier
          Identifier: '
    returnTrue'
        ImportSpecifier
          Identifier: '
    some'
        ImportSpecifier
          Identifier: '
    SourceFile'
        ImportSpecifier
          Identifier: '
    startsWith'
        ImportSpecifier
          Identifier: '
    StringLiteralLike'
        ImportSpecifier
          Identifier: '
    trace'
        ImportSpecifier
          Identifier: '
    updateResolutionField'
        ImportSpecifier
          Identifier: '
    WatchDirectoryFlags'
    StringLiteral
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' HasInvalidatedFromResolutionCache'
    PropertySignature
      Identifier: '
    hasInvalidatedResolutions'
      TypeReference
        Identifier: ' HasInvalidatedResolutions'
    PropertySignature
      Identifier: '
    hasInvalidatedLibResolutions'
      TypeReference
        Identifier: ' HasInvalidatedLibResolutions'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' ResolutionCache'
    PropertySignature
      Identifier: '
    rootDirForResolution'
      StringKeyword
    PropertySignature
      Identifier: '
    resolvedModuleNames'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          Identifier: ' ModeAwareCache'
          TypeReference
            Identifier: 'CachedResolvedModuleWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    resolvedTypeReferenceDirectives'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          Identifier: ' ModeAwareCache'
          TypeReference
            Identifier: 'CachedResolvedTypeReferenceDirectiveWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    resolvedLibraries'
      TypeReference
        Identifier: ' Map'
        StringKeyword
        TypeReference
          Identifier: ' CachedResolvedModuleWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    resolvedFileToResolution'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          Identifier: ' Set'
          TypeReference
            Identifier: 'ResolutionWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    resolutionsWithFailedLookups'
      TypeReference
        Identifier: ' Set'
        TypeReference
          Identifier: 'ResolutionWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    resolutionsWithOnlyAffectingLocations'
      TypeReference
        Identifier: ' Set'
        TypeReference
          Identifier: 'ResolutionWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    directoryWatchesOfFailedLookups'
      TypeReference
        Identifier: ' Map'
        StringKeyword
        TypeReference
          Identifier: ' DirectoryWatchesOfFailedLookup'
    PropertySignature
      Identifier: '
    fileWatchesOfAffectingLocations'
      TypeReference
        Identifier: ' Map'
        StringKeyword
        TypeReference
          Identifier: ' FileWatcherOfAffectingLocation'
    PropertySignature
      Identifier: '
    packageDirWatchers'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          Identifier: ' PackageDirWatcher'
    PropertySignature
      Identifier: '
    dirPathToSymlinkPackageRefCount'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        NumberKeyword
    MethodSignature
      Identifier: '
    startRecordingFilesWithChangedResolutions'
      VoidKeyword
    MethodSignature
      Identifier: '
    finishRecordingFilesWithChangedResolutions'
      UnionType
        ArrayType
          TypeReference
            Identifier: ' Path'
        UndefinedKeyword
    MethodSignature
      Identifier: '

    watchFailedLookupLocationsOfExternalModuleResolutions'
      TypeParameter
        Identifier: 'T'
        TypeReference
          Identifier: ' ResolutionWithFailedLookupLocations'
      TypeParameter
        Identifier: ' R'
        TypeReference
          Identifier: ' ResolutionWithResolvedFileName'
      Parameter
        Identifier: '
        name'
        StringKeyword
      Parameter
        Identifier: '
        resolution'
        TypeReference
          Identifier: ' T'
      Parameter
        Identifier: '
        filePath'
        TypeReference
          Identifier: ' Path'
      Parameter
        Identifier: '
        getResolutionWithResolvedFileName'
        TypeReference
          Identifier: ' GetResolutionWithResolvedFileName'
          TypeReference
            Identifier: 'T'
          TypeReference
            Identifier: ' R'
      Parameter
        Identifier: '
        deferWatchingNonRelativeResolution'
        BooleanKeyword
      VoidKeyword
    MethodSignature
      Identifier: '

    resolveModuleNameLiterals'
      Parameter
        Identifier: '
        moduleLiterals'
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' StringLiteralLike'
      Parameter
        Identifier: '
        containingFile'
        StringKeyword
      Parameter
        Identifier: '
        redirectedReference'
        UnionType
          TypeReference
            Identifier: ' ResolvedProjectReference'
          UndefinedKeyword
      Parameter
        Identifier: '
        options'
        TypeReference
          Identifier: ' CompilerOptions'
      Parameter
        Identifier: '
        containingSourceFile'
        TypeReference
          Identifier: ' SourceFile'
      Parameter
        Identifier: '
        reusedNames'
        UnionType
          TypeOperator
            ArrayType
              TypeReference
                Identifier: ' StringLiteralLike'
          UndefinedKeyword
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' ResolvedModuleWithFailedLookupLocations'
    MethodSignature
      Identifier: '
    resolveTypeReferenceDirectiveReferences'
      TypeParameter
        Identifier: 'T'
        UnionType
          TypeReference
            Identifier: ' FileReference'
          StringKeyword
      Parameter
        Identifier: '
        typeDirectiveReferences'
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' T'
      Parameter
        Identifier: '
        containingFile'
        StringKeyword
      Parameter
        Identifier: '
        redirectedReference'
        UnionType
          TypeReference
            Identifier: ' ResolvedProjectReference'
          UndefinedKeyword
      Parameter
        Identifier: '
        options'
        TypeReference
          Identifier: ' CompilerOptions'
      Parameter
        Identifier: '
        containingSourceFile'
        UnionType
          TypeReference
            Identifier: ' SourceFile'
          UndefinedKeyword
      Parameter
        Identifier: '
        reusedNames'
        UnionType
          TypeOperator
            ArrayType
              TypeReference
                Identifier: ' T'
          UndefinedKeyword
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' ResolvedTypeReferenceDirectiveWithFailedLookupLocations'
    MethodSignature
      Identifier: '
    resolveLibrary'
      Parameter
        Identifier: '
        libraryName'
        StringKeyword
      Parameter
        Identifier: '
        resolveFrom'
        StringKeyword
      Parameter
        Identifier: '
        options'
        TypeReference
          Identifier: ' CompilerOptions'
      Parameter
        Identifier: '
        libFileName'
        StringKeyword
      TypeReference
        Identifier: ' ResolvedModuleWithFailedLookupLocations'
    MethodSignature
      Identifier: '
    resolveSingleModuleNameWithoutWatching'
      Parameter
        Identifier: '
        moduleName'
        StringKeyword
      Parameter
        Identifier: '
        containingFile'
        StringKeyword
      TypeReference
        Identifier: ' ResolvedModuleWithFailedLookupLocations'
    MethodSignature
      Identifier: '

    invalidateResolutionsOfFailedLookupLocations'
      BooleanKeyword
    MethodSignature
      Identifier: '
    invalidateResolutionOfFile'
      Parameter
        Identifier: 'filePath'
        TypeReference
          Identifier: ' Path'
      VoidKeyword
    MethodSignature
      Identifier: '
    removeResolutionsOfFile'
      Parameter
        Identifier: 'filePath'
        TypeReference
          Identifier: ' Path'
      VoidKeyword
    MethodSignature
      Identifier: '
    removeResolutionsFromProjectReferenceRedirects'
      Parameter
        Identifier: 'filePath'
        TypeReference
          Identifier: ' Path'
      VoidKeyword
    MethodSignature
      Identifier: '
    setFilesWithInvalidatedNonRelativeUnresolvedImports'
      Parameter
        Identifier: 'filesWithUnresolvedImports'
        TypeReference
          Identifier: ' Map'
          TypeReference
            Identifier: 'Path'
          TypeOperator
            ArrayType
              StringKeyword
      VoidKeyword
    MethodSignature
      Identifier: '
    createHasInvalidatedResolutions'
      Parameter
        Identifier: '
        customHasInvalidatedResolutions'
        TypeReference
          Identifier: ' HasInvalidatedResolutions'
      Parameter
        Identifier: '
        customHasInvalidatedLibResolutions'
        TypeReference
          Identifier: ' HasInvalidatedLibResolutions'
      TypeReference
        Identifier: ' HasInvalidatedFromResolutionCache'
    MethodSignature
      Identifier: '
    hasChangedAutomaticTypeDirectiveNames'
      BooleanKeyword
    MethodSignature
      Identifier: '
    isFileWithInvalidatedNonRelativeUnresolvedImports'
      Parameter
        Identifier: 'path'
        TypeReference
          Identifier: ' Path'
      BooleanKeyword
    MethodSignature
      Identifier: '

    startCachingPerDirectoryResolution'
      VoidKeyword
    MethodSignature
      Identifier: '
    finishCachingPerDirectoryResolution'
      Parameter
        Identifier: 'newProgram'
        UnionType
          TypeReference
            Identifier: ' Program'
          UndefinedKeyword
      Parameter
        Identifier: ' oldProgram'
        UnionType
          TypeReference
            Identifier: ' Program'
          UndefinedKeyword
      VoidKeyword
    MethodSignature
      Identifier: '

    updateTypeRootsWatch'
      VoidKeyword
    MethodSignature
      Identifier: '
    closeTypeRootsWatch'
      VoidKeyword
    MethodSignature
      Identifier: '

    getModuleResolutionCache'
      TypeReference
        Identifier: ' ModuleResolutionCache'
    MethodSignature
      Identifier: '

    clear'
      VoidKeyword
    MethodSignature
      Identifier: '
    onChangesAffectModuleResolution'
      VoidKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' ResolutionWithFailedLookupLocations'
    PropertySignature
      Identifier: '
    failedLookupLocations'
      QuestionToken
      ArrayType
        StringKeyword
    PropertySignature
      Identifier: '
    affectingLocations'
      QuestionToken
      ArrayType
        StringKeyword
    PropertySignature
      Identifier: '
    isInvalidated'
      QuestionToken
      BooleanKeyword
    PropertySignature
      Identifier: '
    // Files that have this resolution using
    files'
      QuestionToken
      TypeReference
        Identifier: ' Set'
        TypeReference
          Identifier: 'Path'
    PropertySignature
      Identifier: '
    alternateResult'
      QuestionToken
      StringKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' CachedResolvedModuleWithFailedLookupLocations'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' ResolvedModuleWithFailedLookupLocations'
      ExpressionWithTypeArguments
        Identifier: ' ResolutionWithFailedLookupLocations'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' CachedResolvedTypeReferenceDirectiveWithFailedLookupLocations'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' ResolvedTypeReferenceDirectiveWithFailedLookupLocations'
      ExpressionWithTypeArguments
        Identifier: ' ResolutionWithFailedLookupLocations'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' ResolutionCacheHost'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' MinimalResolutionCacheHost'
    MethodSignature
      Identifier: '
    toPath'
      Parameter
        Identifier: 'fileName'
        StringKeyword
      TypeReference
        Identifier: ' Path'
    PropertySignature
      Identifier: '
    getCanonicalFileName'
      TypeReference
        Identifier: ' GetCanonicalFileName'
    MethodSignature
      Identifier: '
    getCompilationSettings'
      TypeReference
        Identifier: ' CompilerOptions'
    PropertySignature
      Identifier: '
    preferNonRecursiveWatch'
      UnionType
        BooleanKeyword
        UndefinedKeyword
    MethodSignature
      Identifier: '
    watchDirectoryOfFailedLookupLocation'
      Parameter
        Identifier: 'directory'
        StringKeyword
      Parameter
        Identifier: ' cb'
        TypeReference
          Identifier: ' DirectoryWatcherCallback'
      Parameter
        Identifier: ' flags'
        TypeReference
          Identifier: ' WatchDirectoryFlags'
      TypeReference
        Identifier: ' FileWatcher'
    MethodSignature
      Identifier: '
    watchAffectingFileLocation'
      Parameter
        Identifier: 'file'
        StringKeyword
      Parameter
        Identifier: ' cb'
        TypeReference
          Identifier: ' FileWatcherCallback'
      TypeReference
        Identifier: ' FileWatcher'
    MethodSignature
      Identifier: '
    onInvalidatedResolution'
      VoidKeyword
    MethodSignature
      Identifier: '
    watchTypeRootsDirectory'
      Parameter
        Identifier: 'directory'
        StringKeyword
      Parameter
        Identifier: ' cb'
        TypeReference
          Identifier: ' DirectoryWatcherCallback'
      Parameter
        Identifier: ' flags'
        TypeReference
          Identifier: ' WatchDirectoryFlags'
      TypeReference
        Identifier: ' FileWatcher'
    MethodSignature
      Identifier: '
    onChangedAutomaticTypeDirectiveNames'
      VoidKeyword
    MethodSignature
      Identifier: '
    scheduleInvalidateResolutionsOfFailedLookupLocations'
      VoidKeyword
    MethodSignature
      Identifier: '
    getCachedDirectoryStructureHost'
      UnionType
        TypeReference
          Identifier: ' CachedDirectoryStructureHost'
        UndefinedKeyword
    PropertySignature
      Identifier: '
    projectName'
      QuestionToken
      StringKeyword
    MethodSignature
      Identifier: '
    globalCacheResolutionModuleName'
      QuestionToken
      Parameter
        Identifier: 'externalModuleName'
        StringKeyword
      StringKeyword
    MethodSignature
      Identifier: '
    writeLog'
      Parameter
        Identifier: 's'
        StringKeyword
      VoidKeyword
    MethodSignature
      Identifier: '
    getCurrentProgram'
      UnionType
        TypeReference
          Identifier: ' Program'
        UndefinedKeyword
    MethodSignature
      Identifier: '
    fileIsOpen'
      Parameter
        Identifier: 'filePath'
        TypeReference
          Identifier: ' Path'
      BooleanKeyword
    MethodSignature
      Identifier: '
    onDiscoveredSymlink'
      QuestionToken
      VoidKeyword
    MethodSignature
      Identifier: '

    // For incremental testing
    beforeResolveSingleModuleNameWithoutWatching'
      QuestionToken
      Parameter
        Identifier: '
        moduleResolutionCache'
        TypeReference
          Identifier: ' ModuleResolutionCache'
      AnyKeyword
    MethodSignature
      Identifier: '
    afterResolveSingleModuleNameWithoutWatching'
      QuestionToken
      Parameter
        Identifier: '
        moduleResolutionCache'
        TypeReference
          Identifier: ' ModuleResolutionCache'
      Parameter
        Identifier: '
        moduleName'
        StringKeyword
      Parameter
        Identifier: '
        containingFile'
        StringKeyword
      Parameter
        Identifier: '
        result'
        TypeReference
          Identifier: ' ResolvedModuleWithFailedLookupLocations'
      Parameter
        Identifier: '
        data'
        AnyKeyword
      AnyKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' FileWatcherOfAffectingLocation'
    PropertySignature
      Identifier: '
    /** watcher for the lookup */
    watcher'
      TypeReference
        Identifier: ' FileWatcher'
    PropertySignature
      Identifier: '
    resolutions'
      NumberKeyword
    PropertySignature
      Identifier: '
    files'
      NumberKeyword
    PropertySignature
      Identifier: '
    symlinks'
      UnionType
        TypeReference
          Identifier: ' Set'
          StringKeyword
        UndefinedKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' DirectoryWatchesOfFailedLookup'
    PropertySignature
      Identifier: '
    /** watcher for the lookup */
    watcher'
      TypeReference
        Identifier: ' FileWatcher'
    PropertySignature
      Identifier: '
    /** ref count keeping this watch alive */
    refCount'
      NumberKeyword
    PropertySignature
      Identifier: '
    /** is the directory watched being non recursive */
    nonRecursive'
      QuestionToken
      BooleanKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' DirPathToWatcherOfPackageDirWatcher'
    PropertySignature
      Identifier: '
    watcher'
      TypeReference
        Identifier: ' DirectoryWatchesOfFailedLookup'
    PropertySignature
      Identifier: '
    refCount'
      NumberKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' PackageDirWatcher'
    PropertySignature
      Identifier: '
    dirPathToWatcher'
      TypeReference
        Identifier: ' Map'
        TypeReference
          Identifier: 'Path'
        TypeReference
          Identifier: ' DirPathToWatcherOfPackageDirWatcher'
    PropertySignature
      Identifier: '
    isSymlink'
      BooleanKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' DirectoryOfFailedLookupWatch'
    PropertySignature
      Identifier: '
    dir'
      StringKeyword
    PropertySignature
      Identifier: '
    dirPath'
      TypeReference
        Identifier: ' Path'
    PropertySignature
      Identifier: '
    nonRecursive'
      QuestionToken
      BooleanKeyword
    PropertySignature
      Identifier: '
    packageDir'
      QuestionToken
      StringKeyword
    PropertySignature
      Identifier: '
    packageDirPath'
      QuestionToken
      TypeReference
        Identifier: ' Path'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' removeIgnoredPath'
    Parameter
      Identifier: 'path'
      TypeReference
        Identifier: ' Path'
    UnionType
      TypeReference
        Identifier: ' Path'
      UndefinedKeyword
    Block
      IfStatement
        CallExpression
          Identifier: 'endsWith'
          Identifier: 'path'
          StringLiteral
        Block
          ReturnStatement
            AsExpression
              CallExpression
                Identifier: ' removeSuffix'
                Identifier: 'path'
                StringLiteral
              TypeReference
                Identifier: ' Path'
      ReturnStatement
        ConditionalExpression
          CallExpression
            Identifier: ' some'
            Identifier: 'ignoredPaths'
            ArrowFunction
              Parameter
                Identifier: ' searchPath'
              EqualsGreaterThanToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' path'
                  Identifier: 'includes'
                Identifier: 'searchPath'
          QuestionToken
          Identifier: '
        undefined'
          ColonToken
          Identifier: '
        path'
  FunctionDeclaration
    Identifier: ' perceivedOsRootLengthForWatching'
    Parameter
      Identifier: 'pathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: ' length'
      NumberKeyword
    Block
      IfStatement
        BinaryExpression
          Identifier: 'length'
          LessThanEqualsToken
          NumericLiteral
        ReturnStatement
          NumericLiteral
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' indexAfterOsRoot'
            NumericLiteral
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' isDosStyle'
            BinaryExpression
              CallExpression
                PropertyAccessExpression
                  ElementAccessExpression
                    Identifier: ' pathComponents'
                    NumericLiteral
                  Identifier: 'search'
                RegularExpressionLiteral
              EqualsEqualsEqualsToken
              NumericLiteral
      IfStatement
        BinaryExpression
          BinaryExpression
            BinaryExpression
              ElementAccessExpression
                Identifier: '
        pathComponents'
                NumericLiteral
              ExclamationEqualsEqualsToken
              Identifier: ' directorySeparator'
            AmpersandAmpersandToken
            PrefixUnaryExpression
              Identifier: 'isDosStyle'
          AmpersandAmpersandToken
          BinaryExpression
            CallExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: ' // Non dos style paths
        pathComponents'
                  NumericLiteral
                Identifier: 'search'
              RegularExpressionLiteral
            EqualsEqualsEqualsToken
            NumericLiteral
        Block
          IfStatement
            BinaryExpression
              Identifier: 'length'
              EqualsEqualsEqualsToken
              NumericLiteral
            ReturnStatement
              NumericLiteral
          ExpressionStatement
            BinaryExpression
              Identifier: '
        indexAfterOsRoot'
              EqualsToken
              NumericLiteral
          ExpressionStatement
            BinaryExpression
              Identifier: '
        isDosStyle'
              EqualsToken
              TrueKeyword
      IfStatement
        BinaryExpression
          Identifier: '
        isDosStyle'
          AmpersandAmpersandToken
          PrefixUnaryExpression
            CallExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: 'pathComponents'
                  Identifier: 'indexAfterOsRoot'
                Identifier: 'match'
              RegularExpressionLiteral
        Block
          ReturnStatement
            Identifier: ' indexAfterOsRoot'
      IfStatement
        CallExpression
          PropertyAccessExpression
            ElementAccessExpression
              Identifier: 'pathComponents'
              Identifier: 'indexAfterOsRoot'
            Identifier: 'match'
          RegularExpressionLiteral
        Block
          ReturnStatement
            BinaryExpression
              Identifier: ' indexAfterOsRoot'
              PlusToken
              NumericLiteral
      ReturnStatement
        BinaryExpression
          Identifier: ' indexAfterOsRoot'
          PlusToken
          NumericLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' canWatchDirectoryOrFile'
    Parameter
      Identifier: 'pathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: ' length'
      QuestionToken
      NumberKeyword
    BooleanKeyword
    Block
      IfStatement
        BinaryExpression
          Identifier: 'length'
          EqualsEqualsEqualsToken
          Identifier: ' undefined'
        ExpressionStatement
          BinaryExpression
            Identifier: ' length'
            EqualsToken
            PropertyAccessExpression
              Identifier: ' pathComponents'
              Identifier: 'length'
      IfStatement
        BinaryExpression
          Identifier: 'length'
          LessThanEqualsToken
          NumericLiteral
        ReturnStatement
          FalseKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' perceivedOsRootLength'
            CallExpression
              Identifier: ' perceivedOsRootLengthForWatching'
              Identifier: 'pathComponents'
              Identifier: ' length'
      ReturnStatement
        BinaryExpression
          Identifier: ' length'
          GreaterThanToken
          BinaryExpression
            Identifier: ' perceivedOsRootLength'
            PlusToken
            NumericLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' canWatchDirectoryOrFilePath'
    Parameter
      Identifier: 'path'
      TypeReference
        Identifier: ' Path'
    BooleanKeyword
    Block
      ReturnStatement
        CallExpression
          Identifier: ' canWatchDirectoryOrFile'
          CallExpression
            Identifier: 'getPathComponents'
            Identifier: 'path'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' canWatchAtTypes'
    Parameter
      Identifier: 'atTypes'
      TypeReference
        Identifier: ' Path'
    BooleanKeyword
    Block
      ReturnStatement
        CallExpression
          Identifier: ' canWatchAffectedPackageJsonOrNodeModulesOfAtTypes'
          CallExpression
            Identifier: 'getDirectoryPath'
            Identifier: 'atTypes'
  FunctionDeclaration
    Identifier: ' isInDirectoryPath'
    Parameter
      Identifier: 'dirComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: ' fileOrDirComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Block
      IfStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: 'fileOrDirComponents'
            Identifier: 'length'
          LessThanToken
          PropertyAccessExpression
            Identifier: ' fileOrDirComponents'
            Identifier: 'length'
        ReturnStatement
          FalseKeyword
      ForStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' i'
            NumericLiteral
        BinaryExpression
          Identifier: ' i'
          LessThanToken
          PropertyAccessExpression
            Identifier: ' dirComponents'
            Identifier: 'length'
        PostfixUnaryExpression
          Identifier: ' i'
        Block
          IfStatement
            BinaryExpression
              ElementAccessExpression
                Identifier: 'fileOrDirComponents'
                Identifier: 'i'
              ExclamationEqualsEqualsToken
              ElementAccessExpression
                Identifier: ' dirComponents'
                Identifier: 'i'
            ReturnStatement
              FalseKeyword
      ReturnStatement
        TrueKeyword
  FunctionDeclaration
    Identifier: ' canWatchAffectedPackageJsonOrNodeModulesOfAtTypes'
    Parameter
      Identifier: 'fileOrDirPath'
      TypeReference
        Identifier: ' Path'
    Block
      ReturnStatement
        CallExpression
          Identifier: ' canWatchDirectoryOrFilePath'
          Identifier: 'fileOrDirPath'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' canWatchAffectingLocation'
    Parameter
      Identifier: 'filePath'
      TypeReference
        Identifier: ' Path'
    BooleanKeyword
    Block
      ReturnStatement
        CallExpression
          Identifier: ' canWatchAffectedPackageJsonOrNodeModulesOfAtTypes'
          Identifier: 'filePath'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' getDirectoryToWatchFailedLookupLocation'
    Parameter
      Identifier: '
    failedLookupLocation'
      StringKeyword
    Parameter
      Identifier: '
    failedLookupLocationPath'
      TypeReference
        Identifier: ' Path'
    Parameter
      Identifier: '
    rootDir'
      StringKeyword
    Parameter
      Identifier: '
    rootPath'
      TypeReference
        Identifier: ' Path'
    Parameter
      Identifier: '
    rootPathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: '
    isRootWatchable'
      BooleanKeyword
    Parameter
      Identifier: '
    getCurrentDirectory'
      FunctionType
        UnionType
          StringKeyword
          UndefinedKeyword
    Parameter
      Identifier: '
    preferNonRecursiveWatch'
      UnionType
        BooleanKeyword
        UndefinedKeyword
    UnionType
      TypeReference
        Identifier: ' DirectoryOfFailedLookupWatch'
      UndefinedKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' failedLookupPathComponents'
            TypeReference
              Identifier: ' Readonly'
              TypeReference
                Identifier: 'PathPathComponents'
            CallExpression
              Identifier: ' getPathComponents'
              Identifier: 'failedLookupLocationPath'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    // Ensure failed look up is normalized path
    failedLookupLocation'
          EqualsToken
          ConditionalExpression
            CallExpression
              Identifier: ' isRootedDiskPath'
              Identifier: 'failedLookupLocation'
            QuestionToken
            CallExpression
              Identifier: ' normalizePath'
              Identifier: 'failedLookupLocation'
            ColonToken
            CallExpression
              Identifier: ' getNormalizedAbsolutePath'
              Identifier: 'failedLookupLocation'
              CallExpression
                Identifier: ' getCurrentDirectory'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' failedLookupComponents'
            TypeOperator
              ArrayType
                StringKeyword
            CallExpression
              Identifier: ' getPathComponents'
              Identifier: 'failedLookupLocation'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' perceivedOsRootLength'
            CallExpression
              Identifier: ' perceivedOsRootLengthForWatching'
              Identifier: 'failedLookupPathComponents'
              PropertyAccessExpression
                Identifier: ' failedLookupPathComponents'
                Identifier: 'length'
      IfStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: 'failedLookupPathComponents'
            Identifier: 'length'
          LessThanEqualsToken
          BinaryExpression
            Identifier: ' perceivedOsRootLength'
            PlusToken
            NumericLiteral
        ReturnStatement
          Identifier: ' undefined'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' nodeModulesIndex'
            CallExpression
              PropertyAccessExpression
                Identifier: ' failedLookupPathComponents'
                Identifier: 'indexOf'
              AsExpression
                StringLiteral
                TypeReference
                  Identifier: ' Path'
      IfStatement
        BinaryExpression
          BinaryExpression
            Identifier: 'nodeModulesIndex'
            ExclamationEqualsEqualsToken
            PrefixUnaryExpression
              NumericLiteral
          AmpersandAmpersandToken
          BinaryExpression
            BinaryExpression
              Identifier: ' nodeModulesIndex'
              PlusToken
              NumericLiteral
            LessThanEqualsToken
            BinaryExpression
              Identifier: ' perceivedOsRootLength'
              PlusToken
              NumericLiteral
        ReturnStatement
          Identifier: ' undefined'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' lastNodeModulesIndex'
            CallExpression
              PropertyAccessExpression
                Identifier: ' failedLookupPathComponents'
                Identifier: 'lastIndexOf'
              AsExpression
                StringLiteral
                TypeReference
                  Identifier: ' Path'
      IfStatement
        BinaryExpression
          Identifier: 'isRootWatchable'
          AmpersandAmpersandToken
          CallExpression
            Identifier: ' isInDirectoryPath'
            Identifier: 'rootPathComponents'
            Identifier: ' failedLookupPathComponents'
        Block
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'failedLookupPathComponents'
                Identifier: 'length'
              GreaterThanToken
              BinaryExpression
                PropertyAccessExpression
                  Identifier: ' rootPathComponents'
                  Identifier: 'length'
                PlusToken
                NumericLiteral
            Block
              ReturnStatement
                CallExpression
                  Identifier: ' getDirectoryOfFailedLookupWatch'
                  Identifier: '
                failedLookupComponents'
                  Identifier: '
                failedLookupPathComponents'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: '
                Math'
                      Identifier: 'max'
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'rootPathComponents'
                        Identifier: 'length'
                      PlusToken
                      NumericLiteral
                    BinaryExpression
                      Identifier: ' perceivedOsRootLength'
                      PlusToken
                      NumericLiteral
                  Identifier: '
                lastNodeModulesIndex'
            Block
              ReturnStatement
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: '
                dir'
                    Identifier: ' rootDir'
                  PropertyAssignment
                    Identifier: '
                dirPath'
                    Identifier: ' rootPath'
                  PropertyAssignment
                    Identifier: '
                nonRecursive'
                    TrueKeyword
      ReturnStatement
        CallExpression
          Identifier: ' getDirectoryToWatchFromFailedLookupLocationDirectory'
          Identifier: '
        failedLookupComponents'
          Identifier: '
        failedLookupPathComponents'
          BinaryExpression
            PropertyAccessExpression
              Identifier: '
        failedLookupPathComponents'
              Identifier: 'length'
            MinusToken
            NumericLiteral
          Identifier: '
        perceivedOsRootLength'
          Identifier: '
        nodeModulesIndex'
          Identifier: '
        rootPathComponents'
          Identifier: '
        lastNodeModulesIndex'
          Identifier: '
        preferNonRecursiveWatch'
  FunctionDeclaration
    Identifier: ' getDirectoryToWatchFromFailedLookupLocationDirectory'
    Parameter
      Identifier: '
    dirComponents'
      TypeOperator
        ArrayType
          StringKeyword
    Parameter
      Identifier: '
    dirPathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: '
    dirPathComponentsLength'
      NumberKeyword
    Parameter
      Identifier: '
    perceivedOsRootLength'
      NumberKeyword
    Parameter
      Identifier: '
    nodeModulesIndex'
      NumberKeyword
    Parameter
      Identifier: '
    rootPathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: '
    lastNodeModulesIndex'
      NumberKeyword
    Parameter
      Identifier: '
    preferNonRecursiveWatch'
      UnionType
        BooleanKeyword
        UndefinedKeyword
    UnionType
      TypeReference
        Identifier: ' DirectoryOfFailedLookupWatch'
      UndefinedKeyword
    Block
      IfStatement
        BinaryExpression
          Identifier: 'nodeModulesIndex'
          ExclamationEqualsEqualsToken
          PrefixUnaryExpression
            NumericLiteral
        Block
          ReturnStatement
            CallExpression
              Identifier: ' getDirectoryOfFailedLookupWatch'
              Identifier: '
            dirComponents'
              Identifier: '
            dirPathComponents'
              BinaryExpression
                Identifier: '
            nodeModulesIndex'
                PlusToken
                NumericLiteral
              Identifier: '
            lastNodeModulesIndex'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' nonRecursive'
            TrueKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' length'
            Identifier: ' dirPathComponentsLength'
      IfStatement
        PrefixUnaryExpression
          Identifier: 'preferNonRecursiveWatch'
        Block
          ForStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' i'
                NumericLiteral
            BinaryExpression
              Identifier: ' i'
              LessThanToken
              Identifier: ' dirPathComponentsLength'
            PostfixUnaryExpression
              Identifier: ' i'
            Block
              IfStatement
                BinaryExpression
                  ElementAccessExpression
                    Identifier: 'dirPathComponents'
                    Identifier: 'i'
                  ExclamationEqualsEqualsToken
                  ElementAccessExpression
                    Identifier: ' rootPathComponents'
                    Identifier: 'i'
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                nonRecursive'
                      EqualsToken
                      FalseKeyword
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                length'
                      EqualsToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' Math'
                          Identifier: 'max'
                        BinaryExpression
                          Identifier: 'i'
                          PlusToken
                          NumericLiteral
                        BinaryExpression
                          Identifier: ' perceivedOsRootLength'
                          PlusToken
                          NumericLiteral
                  BreakStatement
      ReturnStatement
        CallExpression
          Identifier: ' getDirectoryOfFailedLookupWatch'
          Identifier: '
        dirComponents'
          Identifier: '
        dirPathComponents'
          Identifier: '
        length'
          Identifier: '
        lastNodeModulesIndex'
          Identifier: '
        nonRecursive'
  FunctionDeclaration
    Identifier: ' getDirectoryOfFailedLookupWatch'
    Parameter
      Identifier: '
    dirComponents'
      TypeOperator
        ArrayType
          StringKeyword
    Parameter
      Identifier: '
    dirPathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: '
    length'
      NumberKeyword
    Parameter
      Identifier: '
    lastNodeModulesIndex'
      NumberKeyword
    Parameter
      Identifier: '
    nonRecursive'
      QuestionToken
      BooleanKeyword
    TypeReference
      Identifier: ' DirectoryOfFailedLookupWatch'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' packageDirLength'
      IfStatement
        BinaryExpression
          BinaryExpression
            BinaryExpression
              Identifier: 'lastNodeModulesIndex'
              ExclamationEqualsEqualsToken
              PrefixUnaryExpression
                NumericLiteral
            AmpersandAmpersandToken
            BinaryExpression
              BinaryExpression
                Identifier: ' lastNodeModulesIndex'
                PlusToken
                NumericLiteral
              GreaterThanEqualsToken
              Identifier: ' length'
          AmpersandAmpersandToken
          BinaryExpression
            BinaryExpression
              Identifier: ' lastNodeModulesIndex'
              PlusToken
              NumericLiteral
            LessThanToken
            PropertyAccessExpression
              Identifier: ' dirPathComponents'
              Identifier: 'length'
        Block
          IfStatement
            PrefixUnaryExpression
              CallExpression
                Identifier: 'startsWith'
                ElementAccessExpression
                  Identifier: 'dirPathComponents'
                  BinaryExpression
                    Identifier: 'lastNodeModulesIndex'
                    PlusToken
                    NumericLiteral
                StringLiteral
            Block
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            packageDirLength'
                  EqualsToken
                  BinaryExpression
                    Identifier: ' lastNodeModulesIndex'
                    PlusToken
                    NumericLiteral
            IfStatement
              BinaryExpression
                BinaryExpression
                  Identifier: 'lastNodeModulesIndex'
                  PlusToken
                  NumericLiteral
                LessThanToken
                PropertyAccessExpression
                  Identifier: ' dirPathComponents'
                  Identifier: 'length'
              Block
                ExpressionStatement
                  BinaryExpression
                    Identifier: '
            packageDirLength'
                    EqualsToken
                    BinaryExpression
                      Identifier: ' lastNodeModulesIndex'
                      PlusToken
                      NumericLiteral
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
        dir'
            CallExpression
              Identifier: ' getPathFromPathComponents'
              Identifier: 'dirComponents'
              Identifier: ' length'
          PropertyAssignment
            Identifier: '
        dirPath'
            CallExpression
              Identifier: ' getPathFromPathComponents'
              Identifier: 'dirPathComponents'
              Identifier: ' length'
          ShorthandPropertyAssignment
            Identifier: '
        nonRecursive'
          PropertyAssignment
            Identifier: '
        packageDir'
            ConditionalExpression
              BinaryExpression
                Identifier: ' packageDirLength'
                ExclamationEqualsEqualsToken
                Identifier: ' undefined'
              QuestionToken
              CallExpression
                Identifier: ' getPathFromPathComponents'
                Identifier: 'dirComponents'
                Identifier: ' packageDirLength'
              ColonToken
              Identifier: ' undefined'
          PropertyAssignment
            Identifier: '
        packageDirPath'
            ConditionalExpression
              BinaryExpression
                Identifier: ' packageDirLength'
                ExclamationEqualsEqualsToken
                Identifier: ' undefined'
              QuestionToken
              CallExpression
                Identifier: ' getPathFromPathComponents'
                Identifier: 'dirPathComponents'
                Identifier: ' packageDirLength'
              ColonToken
              Identifier: ' undefined'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' getDirectoryToWatchFailedLookupLocationFromTypeRoot'
    Parameter
      Identifier: '
    typeRoot'
      StringKeyword
    Parameter
      Identifier: '
    typeRootPath'
      TypeReference
        Identifier: ' Path'
    Parameter
      Identifier: '
    rootPath'
      TypeReference
        Identifier: ' Path'
    Parameter
      Identifier: '
    rootPathComponents'
      TypeReference
        Identifier: ' Readonly'
        TypeReference
          Identifier: 'PathPathComponents'
    Parameter
      Identifier: '
    isRootWatchable'
      BooleanKeyword
    Parameter
      Identifier: '
    getCurrentDirectory'
      FunctionType
        UnionType
          StringKeyword
          UndefinedKeyword
    Parameter
      Identifier: '
    preferNonRecursiveWatch'
      UnionType
        BooleanKeyword
        UndefinedKeyword
    Parameter
      Identifier: '
    filterCustomPath'
      FunctionType
        Parameter
          Identifier: 'path'
          TypeReference
            Identifier: ' Path'
        BooleanKeyword
    UnionType
      TypeReference
        Identifier: ' Path'
      UndefinedKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' typeRootPathComponents'
            CallExpression
              Identifier: ' getPathComponents'
              Identifier: 'typeRootPath'
      IfStatement
        BinaryExpression
          Identifier: 'isRootWatchable'
          AmpersandAmpersandToken
          CallExpression
            Identifier: ' isInDirectoryPath'
            Identifier: 'rootPathComponents'
            Identifier: ' typeRootPathComponents'
        Block
          ReturnStatement
            Identifier: ' rootPath'
      ExpressionStatement
        BinaryExpression
          Identifier: '
    typeRoot'
          EqualsToken
          ConditionalExpression
            CallExpression
              Identifier: ' isRootedDiskPath'
              Identifier: 'typeRoot'
            QuestionToken
            CallExpression
              Identifier: ' normalizePath'
              Identifier: 'typeRoot'
            ColonToken
            CallExpression
              Identifier: ' getNormalizedAbsolutePath'
              Identifier: 'typeRoot'
              CallExpression
                Identifier: ' getCurrentDirectory'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' toWatch'
            CallExpression
              Identifier: ' getDirectoryToWatchFromFailedLookupLocationDirectory'
              CallExpression
                Identifier: '
        getPathComponents'
                Identifier: 'typeRoot'
              Identifier: '
        typeRootPathComponents'
              PropertyAccessExpression
                Identifier: '
        typeRootPathComponents'
                Identifier: 'length'
              CallExpression
                Identifier: '
        perceivedOsRootLengthForWatching'
                Identifier: 'typeRootPathComponents'
                PropertyAccessExpression
                  Identifier: ' typeRootPathComponents'
                  Identifier: 'length'
              CallExpression
                PropertyAccessExpression
                  Identifier: '
        typeRootPathComponents'
                  Identifier: 'indexOf'
                AsExpression
                  StringLiteral
                  TypeReference
                    Identifier: ' Path'
              Identifier: '
        rootPathComponents'
              CallExpression
                PropertyAccessExpression
                  Identifier: '
        typeRootPathComponents'
                  Identifier: 'lastIndexOf'
                AsExpression
                  StringLiteral
                  TypeReference
                    Identifier: ' Path'
              Identifier: '
        preferNonRecursiveWatch'
      ReturnStatement
        ConditionalExpression
          BinaryExpression
            Identifier: ' toWatch'
            AmpersandAmpersandToken
            CallExpression
              Identifier: ' filterCustomPath'
              PropertyAccessExpression
                Identifier: 'toWatch'
                Identifier: 'dirPath'
          QuestionToken
          PropertyAccessExpression
            Identifier: ' toWatch'
            Identifier: 'dirPath'
          ColonToken
          Identifier: ' undefined'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' getRootDirectoryOfResolutionCache'
    Parameter
      Identifier: 'rootDirForResolution'
      StringKeyword
    Parameter
      Identifier: ' getCurrentDirectory'
      FunctionType
        UnionType
          StringKeyword
          UndefinedKeyword
    StringKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' normalized'
            CallExpression
              Identifier: ' getNormalizedAbsolutePath'
              Identifier: 'rootDirForResolution'
              CallExpression
                Identifier: ' getCurrentDirectory'
      ReturnStatement
        ConditionalExpression
          PrefixUnaryExpression
            CallExpression
              Identifier: 'isDiskPathRoot'
              Identifier: 'normalized'
          QuestionToken
          CallExpression
            Identifier: '
        removeTrailingDirectorySeparator'
            Identifier: 'normalized'
          ColonToken
          Identifier: '
        normalized'
  FunctionDeclaration
    Identifier: ' getModuleResolutionHost'
    Parameter
      Identifier: 'resolutionHost'
      TypeReference
        Identifier: ' ResolutionCacheHost'
    Block
      ReturnStatement
        BinaryExpression
          CallExpression
            PropertyAccessExpression
              Identifier: ' resolutionHost'
              Identifier: 'getCompilerHost'
            QuestionDotToken
          BarBarToken
          Identifier: ' resolutionHost'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' createModuleResolutionLoaderUsingGlobalCache'
    Parameter
      Identifier: '
    containingFile'
      StringKeyword
    Parameter
      Identifier: '
    redirectedReference'
      UnionType
        TypeReference
          Identifier: ' ResolvedProjectReference'
        UndefinedKeyword
    Parameter
      Identifier: '
    options'
      TypeReference
        Identifier: ' CompilerOptions'
    Parameter
      Identifier: '
    resolutionHost'
      TypeReference
        Identifier: ' ResolutionCacheHost'
    Parameter
      Identifier: '
    moduleResolutionCache'
      TypeReference
        Identifier: ' ModuleResolutionCache'
    TypeReference
      Identifier: ' ResolutionLoader'
      TypeReference
        Identifier: 'StringLiteralLike'
      TypeReference
        Identifier: ' ResolvedModuleWithFailedLookupLocations'
      TypeReference
        Identifier: ' SourceFile'
    Block
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
        nameAndMode'
            Identifier: ' moduleResolutionNameAndModeGetter'
          PropertyAssignment
            Identifier: '
        resolve'
            ArrowFunction
              Parameter
                Identifier: 'moduleName'
              Parameter
                Identifier: ' resoluionMode'
              EqualsGreaterThanToken
              CallExpression
                Identifier: '
            resolveModuleNameUsingGlobalCache'
                Identifier: '
                resolutionHost'
                Identifier: '
                moduleResolutionCache'
                Identifier: '
                moduleName'
                Identifier: '
                containingFile'
                Identifier: '
                options'
                Identifier: '
                redirectedReference'
                Identifier: '
                resoluionMode'
  FunctionDeclaration
    Identifier: ' resolveModuleNameUsingGlobalCache'
    Parameter
      Identifier: '
    resolutionHost'
      TypeReference
        Identifier: ' ResolutionCacheHost'
    Parameter
      Identifier: '
    moduleResolutionCache'
      TypeReference
        Identifier: ' ModuleResolutionCache'
    Parameter
      Identifier: '
    moduleName'
      StringKeyword
    Parameter
      Identifier: '
    containingFile'
      StringKeyword
    Parameter
      Identifier: '
    compilerOptions'
      TypeReference
        Identifier: ' CompilerOptions'
    Parameter
      Identifier: '
    redirectedReference'
      QuestionToken
      TypeReference
        Identifier: ' ResolvedProjectReference'
    Parameter
      Identifier: '
    mode'
      QuestionToken
      TypeReference
        Identifier: ' ResolutionMode'
    TypeReference
      Identifier: ' ResolvedModuleWithFailedLookupLocations'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' host'
            CallExpression
              Identifier: ' getModuleResolutionHost'
              Identifier: 'resolutionHost'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' primaryResult'
            CallExpression
              Identifier: ' ts_resolveModuleName'
              Identifier: 'moduleName'
              Identifier: ' containingFile'
              Identifier: ' compilerOptions'
              Identifier: ' host'
              Identifier: ' moduleResolutionCache'
              Identifier: ' redirectedReference'
              Identifier: ' mode'
      IfStatement
        PrefixUnaryExpression
          PropertyAccessExpression
            Identifier: 'resolutionHost'
            Identifier: 'getGlobalTypingsCacheLocation'
        Block
          ReturnStatement
            Identifier: ' primaryResult'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' globalCache'
            CallExpression
              PropertyAccessExpression
                Identifier: ' resolutionHost'
                Identifier: 'getGlobalTypingsCacheLocation'
      IfStatement
        BinaryExpression
          BinaryExpression
            BinaryExpression
              Identifier: 'globalCache'
              ExclamationEqualsEqualsToken
              Identifier: ' undefined'
            AmpersandAmpersandToken
            PrefixUnaryExpression
              CallExpression
                Identifier: 'isExternalModuleNameRelative'
                Identifier: 'moduleName'
          AmpersandAmpersandToken
          PrefixUnaryExpression
            ParenthesizedExpression
              BinaryExpression
                PropertyAccessExpression
                  Identifier: 'primaryResult'
                  Identifier: 'resolvedModule'
                AmpersandAmpersandToken
                CallExpression
                  Identifier: ' extensionIsTS'
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: 'primaryResult'
                      Identifier: 'resolvedModule'
                    Identifier: 'extension'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                ObjectBindingPattern
                  BindingElement
                    Identifier: ' resolvedModule'
                  BindingElement
                    Identifier: ' failedLookupLocations'
                  BindingElement
                    Identifier: ' affectingLocations'
                  BindingElement
                    Identifier: ' resolutionDiagnostics'
                CallExpression
                  Identifier: ' loadModuleFromGlobalCache'
                  CallExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            Debug'
                        Identifier: 'checkDefined'
                      PropertyAccessExpression
                        Identifier: 'resolutionHost'
                        Identifier: 'globalCacheResolutionModuleName'
                    Identifier: 'moduleName'
                  PropertyAccessExpression
                    Identifier: '
            resolutionHost'
                    Identifier: 'projectName'
                  Identifier: '
            compilerOptions'
                  Identifier: '
            host'
                  Identifier: '
            globalCache'
                  Identifier: '
            moduleResolutionCache'
          IfStatement
            Identifier: 'resolvedModule'
            Block
              ExpressionStatement
                BinaryExpression
                  ParenthesizedExpression
                    AsExpression
                      PropertyAccessExpression
                        Identifier: 'primaryResult'
                        Identifier: 'resolvedModule'
                      AnyKeyword
                  EqualsToken
                  Identifier: ' resolvedModule'
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
            primaryResult'
                    Identifier: 'failedLookupLocations'
                  EqualsToken
                  CallExpression
                    Identifier: ' updateResolutionField'
                    PropertyAccessExpression
                      Identifier: 'primaryResult'
                      Identifier: 'failedLookupLocations'
                    Identifier: ' failedLookupLocations'
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
            primaryResult'
                    Identifier: 'affectingLocations'
                  EqualsToken
                  CallExpression
                    Identifier: ' updateResolutionField'
                    PropertyAccessExpression
                      Identifier: 'primaryResult'
                      Identifier: 'affectingLocations'
                    Identifier: ' affectingLocations'
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
            primaryResult'
                    Identifier: 'resolutionDiagnostics'
                  EqualsToken
                  CallExpression
                    Identifier: ' updateResolutionField'
                    PropertyAccessExpression
                      Identifier: 'primaryResult'
                      Identifier: 'resolutionDiagnostics'
                    Identifier: ' resolutionDiagnostics'
              ReturnStatement
                Identifier: ' primaryResult'
      ReturnStatement
        Identifier: ' primaryResult'
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' GetResolutionWithResolvedFileName'
    TypeParameter
      Identifier: 'T'
      TypeReference
        Identifier: ' ResolutionWithFailedLookupLocations'
      TypeReference
        Identifier: ' ResolutionWithFailedLookupLocations'
    TypeParameter
      Identifier: ' R'
      TypeReference
        Identifier: ' ResolutionWithResolvedFileName'
      TypeReference
        Identifier: ' ResolutionWithResolvedFileName'
    FunctionType
      Parameter
        Identifier: 'resolution'
        TypeReference
          Identifier: ' T'
      UnionType
        TypeReference
          Identifier: ' R'
        UndefinedKeyword
  FunctionDeclaration
    ExportKeyword
    Identifier: ' createResolutionCache'
    Parameter
      Identifier: 'resolutionHost'
      TypeReference
        Identifier: ' ResolutionCacheHost'
    Parameter
      Identifier: ' rootDirForResolution'
      StringKeyword
    Parameter
      Identifier: ' logChangesWhenResolvingModule'
      BooleanKeyword
    TypeReference
      Identifier: ' ResolutionCache'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' filesWithChangedSetOfUnresolvedImports'
            UnionType
              ArrayType
                TypeReference
                  Identifier: ' Path'
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' filesWithInvalidatedResolutions'
            UnionType
              TypeReference
                Identifier: ' Set'
                TypeReference
                  Identifier: 'Path'
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' filesWithInvalidatedNonRelativeUnresolvedImports'
            UnionType
              TypeReference
                Identifier: ' ReadonlyMap'
                TypeReference
                  Identifier: 'Path'
                TypeOperator
                  ArrayType
                    StringKeyword
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' nonRelativeExternalModuleResolutions'
            NewExpression
              Identifier: ' Set'
              TypeReference
                Identifier: 'ResolutionWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' resolutionsWithFailedLookups'
            NewExpression
              Identifier: ' Set'
              TypeReference
                Identifier: 'ResolutionWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' resolutionsWithOnlyAffectingLocations'
            NewExpression
              Identifier: ' Set'
              TypeReference
                Identifier: 'ResolutionWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' resolvedFileToResolution'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeReference
                Identifier: ' Set'
                TypeReference
                  Identifier: 'ResolutionWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' impliedFormatPackageJsons'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeOperator
                ArrayType
                  StringKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' hasChangedAutomaticTypeDirectiveNames'
            FalseKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' affectingPathChecksForFile'
            UnionType
              TypeReference
                Identifier: ' Set'
                StringKeyword
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' affectingPathChecks'
            UnionType
              TypeReference
                Identifier: ' Set'
                StringKeyword
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' failedLookupChecks'
            UnionType
              TypeReference
                Identifier: ' Set'
                TypeReference
                  Identifier: 'Path'
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' startsWithPathChecks'
            UnionType
              TypeReference
                Identifier: ' Set'
                TypeReference
                  Identifier: 'Path'
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' isInDirectoryChecks'
            UnionType
              TypeReference
                Identifier: ' Set'
                TypeReference
                  Identifier: 'Path'
              UndefinedKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' allModuleAndTypeResolutionsAreInvalidated'
            FalseKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' getCurrentDirectory'
            CallExpression
              Identifier: ' memoize'
              ArrowFunction
                EqualsGreaterThanToken
                CallExpression
                  NonNullExpression
                    PropertyAccessExpression
                      Identifier: ' resolutionHost'
                      Identifier: 'getCurrentDirectory'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' cachedDirectoryStructureHost'
            CallExpression
              PropertyAccessExpression
                Identifier: ' resolutionHost'
                Identifier: 'getCachedDirectoryStructureHost'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' resolvedModuleNames'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeReference
                Identifier: ' ModeAwareCache'
                TypeReference
                  Identifier: 'CachedResolvedModuleWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' moduleResolutionCache'
            CallExpression
              Identifier: ' createModuleResolutionCache'
              CallExpression
                Identifier: '
        getCurrentDirectory'
              PropertyAccessExpression
                Identifier: '
        resolutionHost'
                Identifier: 'getCanonicalFileName'
              CallExpression
                PropertyAccessExpression
                  Identifier: '
        resolutionHost'
                  Identifier: 'getCompilationSettings'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' resolvedTypeReferenceDirectives'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeReference
                Identifier: ' ModeAwareCache'
                TypeReference
                  Identifier: 'CachedResolvedTypeReferenceDirectiveWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' typeReferenceDirectiveResolutionCache'
            CallExpression
              Identifier: ' createTypeReferenceDirectiveResolutionCache'
              CallExpression
                Identifier: '
        getCurrentDirectory'
              PropertyAccessExpression
                Identifier: '
        resolutionHost'
                Identifier: 'getCanonicalFileName'
              CallExpression
                PropertyAccessExpression
                  Identifier: '
        resolutionHost'
                  Identifier: 'getCompilationSettings'
              CallExpression
                PropertyAccessExpression
                  Identifier: '
        moduleResolutionCache'
                  Identifier: 'getPackageJsonInfoCache'
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'optionsToRedirectsKey'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' resolvedLibraries'
            NewExpression
              Identifier: ' Map'
              StringKeyword
              TypeReference
                Identifier: ' CachedResolvedModuleWithFailedLookupLocations'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' libraryResolutionCache'
            CallExpression
              Identifier: ' createModuleResolutionCache'
              CallExpression
                Identifier: '
        getCurrentDirectory'
              PropertyAccessExpression
                Identifier: '
        resolutionHost'
                Identifier: 'getCanonicalFileName'
              CallExpression
                Identifier: '
        getOptionsForLibraryResolution'
                CallExpression
                  PropertyAccessExpression
                    Identifier: 'resolutionHost'
                    Identifier: 'getCompilationSettings'
              CallExpression
                PropertyAccessExpression
                  Identifier: '
        moduleResolutionCache'
                  Identifier: 'getPackageJsonInfoCache'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' directoryWatchesOfFailedLookups'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeReference
                Identifier: ' DirectoryWatchesOfFailedLookup'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' fileWatchesOfAffectingLocations'
            NewExpression
              Identifier: ' Map'
              StringKeyword
              TypeReference
                Identifier: ' FileWatcherOfAffectingLocation'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' rootDir'
            CallExpression
              Identifier: ' getRootDirectoryOfResolutionCache'
              Identifier: 'rootDirForResolution'
              Identifier: ' getCurrentDirectory'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' rootPath'
            CallExpression
              PropertyAccessExpression
                Identifier: ' resolutionHost'
                Identifier: 'toPath'
              Identifier: 'rootDir'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' rootPathComponents'
            CallExpression
              Identifier: ' getPathComponents'
              Identifier: 'rootPath'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' isRootWatchable'
            CallExpression
              Identifier: ' canWatchDirectoryOrFile'
              Identifier: 'rootPathComponents'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' isSymlinkCache'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              BooleanKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' packageDirWatchers'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeReference
                Identifier: ' PackageDirWatcher'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' dirPathToSymlinkPackageRefCount'
            NewExpression
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              NumberKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' typeRootsWatches'
            NewExpression
              Identifier: ' Map'
              StringKeyword
              TypeReference
                Identifier: ' FileWatcher'
      ReturnStatement
        ObjectLiteralExpression
          ShorthandPropertyAssignment
            Identifier: '
        rootDirForResolution'
          ShorthandPropertyAssignment
            Identifier: '
        resolvedModuleNames'
          ShorthandPropertyAssignment
            Identifier: '
        resolvedTypeReferenceDirectives'
          ShorthandPropertyAssignment
            Identifier: '
        resolvedLibraries'
          ShorthandPropertyAssignment
            Identifier: '
        resolvedFileToResolution'
          ShorthandPropertyAssignment
            Identifier: '
        resolutionsWithFailedLookups'
          ShorthandPropertyAssignment
            Identifier: '
        resolutionsWithOnlyAffectingLocations'
          ShorthandPropertyAssignment
            Identifier: '
        directoryWatchesOfFailedLookups'
          ShorthandPropertyAssignment
            Identifier: '
        fileWatchesOfAffectingLocations'
          ShorthandPropertyAssignment
            Identifier: '
        packageDirWatchers'
          ShorthandPropertyAssignment
            Identifier: '
        dirPathToSymlinkPackageRefCount'
          ShorthandPropertyAssignment
            Identifier: '
        watchFailedLookupLocationsOfExternalModuleResolutions'
          PropertyAssignment
            Identifier: '
        getModuleResolutionCache'
            ArrowFunction
              EqualsGreaterThanToken
              Identifier: ' moduleResolutionCache'
          ShorthandPropertyAssignment
            Identifier: '
        startRecordingFilesWithChangedResolutions'
          ShorthandPropertyAssignment
            Identifier: '
        finishRecordingFilesWithChangedResolutions'
          ShorthandPropertyAssignment
            Identifier: '
        // perDirectoryResolvedModuleNames and perDirectoryResolvedTypeReferenceDirectives could be non empty if there was exception during program update
        // (between startCachingPerDirectoryResolution and finishCachingPerDirectoryResolution)
        startCachingPerDirectoryResolution'
          ShorthandPropertyAssignment
            Identifier: '
        finishCachingPerDirectoryResolution'
          ShorthandPropertyAssignment
            Identifier: '
        resolveModuleNameLiterals'
          ShorthandPropertyAssignment
            Identifier: '
        resolveTypeReferenceDirectiveReferences'
          ShorthandPropertyAssignment
            Identifier: '
        resolveLibrary'
          ShorthandPropertyAssignment
            Identifier: '
        resolveSingleModuleNameWithoutWatching'
          ShorthandPropertyAssignment
            Identifier: '
        removeResolutionsFromProjectReferenceRedirects'
          ShorthandPropertyAssignment
            Identifier: '
        removeResolutionsOfFile'
          PropertyAssignment
            Identifier: '
        hasChangedAutomaticTypeDirectiveNames'
            ArrowFunction
              EqualsGreaterThanToken
              Identifier: ' hasChangedAutomaticTypeDirectiveNames'
          ShorthandPropertyAssignment
            Identifier: '
        invalidateResolutionOfFile'
          ShorthandPropertyAssignment
            Identifier: '
        invalidateResolutionsOfFailedLookupLocations'
          ShorthandPropertyAssignment
            Identifier: '
        setFilesWithInvalidatedNonRelativeUnresolvedImports'
          ShorthandPropertyAssignment
            Identifier: '
        createHasInvalidatedResolutions'
          ShorthandPropertyAssignment
            Identifier: '
        isFileWithInvalidatedNonRelativeUnresolvedImports'
          ShorthandPropertyAssignment
            Identifier: '
        updateTypeRootsWatch'
          ShorthandPropertyAssignment
            Identifier: '
        closeTypeRootsWatch'
          ShorthandPropertyAssignment
            Identifier: '
        clear'
          ShorthandPropertyAssignment
            Identifier: '
        onChangesAffectModuleResolution'
      FunctionDeclaration
        Identifier: ' clear'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        clearMap'
              Identifier: 'directoryWatchesOfFailedLookups'
              Identifier: ' closeFileWatcherOf'
          ExpressionStatement
            CallExpression
              Identifier: '
        clearMap'
              Identifier: 'fileWatchesOfAffectingLocations'
              Identifier: ' closeFileWatcherOf'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        isSymlinkCache'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        packageDirWatchers'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        dirPathToSymlinkPackageRefCount'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        nonRelativeExternalModuleResolutions'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              Identifier: '
        closeTypeRootsWatch'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolvedModuleNames'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolvedTypeReferenceDirectives'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolvedFileToResolution'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolutionsWithFailedLookups'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolutionsWithOnlyAffectingLocations'
                Identifier: 'clear'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        failedLookupChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        startsWithPathChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        isInDirectoryChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        affectingPathChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        affectingPathChecksForFile'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        allModuleAndTypeResolutionsAreInvalidated'
              EqualsToken
              FalseKeyword
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'update'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'getCompilationSettings'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'update'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'getCompilationSettings'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        libraryResolutionCache'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        impliedFormatPackageJsons'
                Identifier: 'clear'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolvedLibraries'
                Identifier: 'clear'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        hasChangedAutomaticTypeDirectiveNames'
              EqualsToken
              FalseKeyword
      FunctionDeclaration
        Identifier: ' onChangesAffectModuleResolution'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        allModuleAndTypeResolutionsAreInvalidated'
              EqualsToken
              TrueKeyword
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'clearAllExceptPackageJsonInfoCache'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'clearAllExceptPackageJsonInfoCache'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'update'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'getCompilationSettings'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'update'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'getCompilationSettings'
      FunctionDeclaration
        Identifier: ' startRecordingFilesWithChangedResolutions'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        filesWithChangedSetOfUnresolvedImports'
              EqualsToken
              ArrayLiteralExpression
      FunctionDeclaration
        Identifier: ' finishRecordingFilesWithChangedResolutions'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' collected'
                Identifier: ' filesWithChangedSetOfUnresolvedImports'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        filesWithChangedSetOfUnresolvedImports'
              EqualsToken
              Identifier: ' undefined'
          ReturnStatement
            Identifier: ' collected'
      FunctionDeclaration
        Identifier: ' isFileWithInvalidatedNonRelativeUnresolvedImports'
        Parameter
          Identifier: 'path'
          TypeReference
            Identifier: ' Path'
        BooleanKeyword
        Block
          IfStatement
            PrefixUnaryExpression
              Identifier: 'filesWithInvalidatedNonRelativeUnresolvedImports'
            Block
              ReturnStatement
                FalseKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' value'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' filesWithInvalidatedNonRelativeUnresolvedImports'
                    Identifier: 'get'
                  Identifier: 'path'
          ReturnStatement
            BinaryExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  Identifier: 'value'
              AmpersandAmpersandToken
              PrefixUnaryExpression
                PrefixUnaryExpression
                  PropertyAccessExpression
                    Identifier: 'value'
                    Identifier: 'length'
      FunctionDeclaration
        Identifier: ' createHasInvalidatedResolutions'
        Parameter
          Identifier: '
        customHasInvalidatedResolutions'
          TypeReference
            Identifier: ' HasInvalidatedResolutions'
        Parameter
          Identifier: '
        customHasInvalidatedLibResolutions'
          TypeReference
            Identifier: ' HasInvalidatedLibResolutions'
        TypeReference
          Identifier: ' HasInvalidatedFromResolutionCache'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        // Ensure pending resolutions are applied
        invalidateResolutionsOfFailedLookupLocations'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' collected'
                Identifier: ' filesWithInvalidatedResolutions'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        filesWithInvalidatedResolutions'
              EqualsToken
              Identifier: ' undefined'
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
            hasInvalidatedResolutions'
                ArrowFunction
                  Parameter
                    Identifier: ' path'
                  EqualsGreaterThanToken
                  BinaryExpression
                    BinaryExpression
                      BinaryExpression
                        CallExpression
                          Identifier: '
                customHasInvalidatedResolutions'
                          Identifier: 'path'
                        BarBarToken
                        Identifier: '
                allModuleAndTypeResolutionsAreInvalidated'
                      BarBarToken
                      PrefixUnaryExpression
                        PrefixUnaryExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: 'collected'
                              QuestionDotToken
                              Identifier: 'has'
                            Identifier: 'path'
                    BarBarToken
                    CallExpression
                      Identifier: '
                isFileWithInvalidatedNonRelativeUnresolvedImports'
                      Identifier: 'path'
              PropertyAssignment
                Identifier: '
            hasInvalidatedLibResolutions'
                ArrowFunction
                  Parameter
                    Identifier: ' libFileName'
                  EqualsGreaterThanToken
                  BinaryExpression
                    CallExpression
                      Identifier: '
                customHasInvalidatedLibResolutions'
                      Identifier: 'libFileName'
                    BarBarToken
                    PrefixUnaryExpression
                      PrefixUnaryExpression
                        PropertyAccessExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: 'resolvedLibraries'
                              QuestionDotToken
                              Identifier: 'get'
                            Identifier: 'libFileName'
                          QuestionDotToken
                          Identifier: 'isInvalidated'
      FunctionDeclaration
        Identifier: ' startCachingPerDirectoryResolution'
        Block
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'isReadonly'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'isReadonly'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        libraryResolutionCache'
                Identifier: 'isReadonly'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        moduleResolutionCache'
                    Identifier: 'getPackageJsonInfoCache'
                Identifier: 'isReadonly'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'clearAllExceptPackageJsonInfoCache'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'clearAllExceptPackageJsonInfoCache'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        libraryResolutionCache'
                Identifier: 'clearAllExceptPackageJsonInfoCache'
          ExpressionStatement
            CallExpression
              Identifier: '
        // perDirectoryResolvedModuleNames and perDirectoryResolvedTypeReferenceDirectives could be non empty if there was exception during program update
        // (between startCachingPerDirectoryResolution and finishCachingPerDirectoryResolution)
        watchFailedLookupLocationOfNonRelativeModuleResolutions'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        isSymlinkCache'
                Identifier: 'clear'
      FunctionDeclaration
        Identifier: ' cleanupLibResolutionWatching'
        Parameter
          Identifier: 'newProgram'
          UnionType
            TypeReference
              Identifier: ' Program'
            UndefinedKeyword
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolvedLibraries'
                Identifier: 'forEach'
              ArrowFunction
                Parameter
                  Identifier: 'resolution'
                Parameter
                  Identifier: ' libFileName'
                EqualsGreaterThanToken
                Block
                  IfStatement
                    PrefixUnaryExpression
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: 'newProgram'
                            QuestionDotToken
                            Identifier: 'resolvedLibReferences'
                          QuestionDotToken
                          Identifier: 'has'
                        Identifier: 'libFileName'
                    Block
                      ExpressionStatement
                        CallExpression
                          Identifier: '
                stopWatchFailedLookupLocationOfResolution'
                          Identifier: '
                    resolution'
                          CallExpression
                            PropertyAccessExpression
                              Identifier: '
                    resolutionHost'
                              Identifier: 'toPath'
                            CallExpression
                              Identifier: 'getInferredLibraryNameResolveFrom'
                              CallExpression
                                PropertyAccessExpression
                                  Identifier: 'resolutionHost'
                                  Identifier: 'getCompilationSettings'
                              CallExpression
                                Identifier: ' getCurrentDirectory'
                              Identifier: ' libFileName'
                          Identifier: '
                    getResolvedModuleFromResolution'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
                resolvedLibraries'
                            Identifier: 'delete'
                          Identifier: 'libFileName'
      FunctionDeclaration
        Identifier: ' finishCachingPerDirectoryResolution'
        Parameter
          Identifier: 'newProgram'
          UnionType
            TypeReference
              Identifier: ' Program'
            UndefinedKeyword
        Parameter
          Identifier: ' oldProgram'
          UnionType
            TypeReference
              Identifier: ' Program'
            UndefinedKeyword
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        filesWithInvalidatedNonRelativeUnresolvedImports'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        allModuleAndTypeResolutionsAreInvalidated'
              EqualsToken
              FalseKeyword
          ExpressionStatement
            CallExpression
              Identifier: '
        watchFailedLookupLocationOfNonRelativeModuleResolutions'
          IfStatement
            BinaryExpression
              Identifier: 'newProgram'
              ExclamationEqualsEqualsToken
              Identifier: ' oldProgram'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            cleanupLibResolutionWatching'
                  Identifier: 'newProgram'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            newProgram'
                        QuestionDotToken
                        Identifier: 'getSourceFiles'
                    Identifier: 'forEach'
                  ArrowFunction
                    Parameter
                      Identifier: 'newFile'
                    EqualsGreaterThanToken
                    Block
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' expected'
                            BinaryExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' newFile'
                                  Identifier: 'packageJsonLocations'
                                QuestionDotToken
                                Identifier: 'length'
                              QuestionQuestionToken
                              NumericLiteral
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' existing'
                            BinaryExpression
                              CallExpression
                                PropertyAccessExpression
                                  Identifier: ' impliedFormatPackageJsons'
                                  Identifier: 'get'
                                PropertyAccessExpression
                                  Identifier: 'newFile'
                                  Identifier: 'resolvedPath'
                              QuestionQuestionToken
                              Identifier: ' emptyArray'
                      ForStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' i'
                            PropertyAccessExpression
                              Identifier: ' existing'
                              Identifier: 'length'
                        BinaryExpression
                          Identifier: ' i'
                          LessThanToken
                          Identifier: ' expected'
                        PostfixUnaryExpression
                          Identifier: ' i'
                        Block
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                    createFileWatcherOfAffectingLocation'
                              ElementAccessExpression
                                NonNullExpression
                                  PropertyAccessExpression
                                    Identifier: 'newFile'
                                    Identifier: 'packageJsonLocations'
                                Identifier: 'i'
                              FalseKeyword
                      IfStatement
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: 'existing'
                            Identifier: 'length'
                          GreaterThanToken
                          Identifier: ' expected'
                        Block
                          ForStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' i'
                                Identifier: ' expected'
                            BinaryExpression
                              Identifier: ' i'
                              LessThanToken
                              PropertyAccessExpression
                                Identifier: ' existing'
                                Identifier: 'length'
                            PostfixUnaryExpression
                              Identifier: ' i'
                            Block
                              ExpressionStatement
                                PostfixUnaryExpression
                                  PropertyAccessExpression
                                    NonNullExpression
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: '
                        fileWatchesOfAffectingLocations'
                                          Identifier: 'get'
                                        ElementAccessExpression
                                          Identifier: 'existing'
                                          Identifier: 'i'
                                    Identifier: 'files'
                      IfStatement
                        Identifier: 'expected'
                        ExpressionStatement
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' impliedFormatPackageJsons'
                              Identifier: 'set'
                            PropertyAccessExpression
                              Identifier: 'newFile'
                              Identifier: 'resolvedPath'
                            NonNullExpression
                              PropertyAccessExpression
                                Identifier: ' newFile'
                                Identifier: 'packageJsonLocations'
                        ExpressionStatement
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' impliedFormatPackageJsons'
                              Identifier: 'delete'
                            PropertyAccessExpression
                              Identifier: 'newFile'
                              Identifier: 'resolvedPath'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            impliedFormatPackageJsons'
                    Identifier: 'forEach'
                  ArrowFunction
                    Parameter
                      Identifier: 'existing'
                    Parameter
                      Identifier: ' path'
                    EqualsGreaterThanToken
                    Block
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' newFile'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' newProgram'
                                QuestionDotToken
                                Identifier: 'getSourceFileByPath'
                              Identifier: 'path'
                      IfStatement
                        BinaryExpression
                          PrefixUnaryExpression
                            Identifier: 'newFile'
                          BarBarToken
                          BinaryExpression
                            PropertyAccessExpression
                              Identifier: ' newFile'
                              Identifier: 'resolvedPath'
                            ExclamationEqualsEqualsToken
                            Identifier: ' path'
                        Block
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                Identifier: '
                    existing'
                                Identifier: 'forEach'
                              ArrowFunction
                                Parameter
                                  Identifier: 'location'
                                EqualsGreaterThanToken
                                PostfixUnaryExpression
                                  PropertyAccessExpression
                                    NonNullExpression
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: ' fileWatchesOfAffectingLocations'
                                          Identifier: 'get'
                                        Identifier: 'location'
                                    Identifier: 'files'
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                Identifier: '
                    impliedFormatPackageJsons'
                                Identifier: 'delete'
                              Identifier: 'path'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        directoryWatchesOfFailedLookups'
                Identifier: 'forEach'
              Identifier: 'closeDirectoryWatchesOfFailedLookup'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        fileWatchesOfAffectingLocations'
                Identifier: 'forEach'
              Identifier: 'closeFileWatcherOfAffectingLocation'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        packageDirWatchers'
                Identifier: 'forEach'
              Identifier: 'closePackageDirWatcher'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        hasChangedAutomaticTypeDirectiveNames'
              EqualsToken
              FalseKeyword
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        moduleResolutionCache'
                Identifier: 'isReadonly'
              EqualsToken
              TrueKeyword
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        typeReferenceDirectiveResolutionCache'
                Identifier: 'isReadonly'
              EqualsToken
              TrueKeyword
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        libraryResolutionCache'
                Identifier: 'isReadonly'
              EqualsToken
              TrueKeyword
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        moduleResolutionCache'
                    Identifier: 'getPackageJsonInfoCache'
                Identifier: 'isReadonly'
              EqualsToken
              TrueKeyword
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        isSymlinkCache'
                Identifier: 'clear'
      FunctionDeclaration
        Identifier: ' closePackageDirWatcher'
        Parameter
          Identifier: 'watcher'
          TypeReference
            Identifier: ' PackageDirWatcher'
        Parameter
          Identifier: ' packageDirPath'
          TypeReference
            Identifier: ' Path'
        Block
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: 'watcher'
                  Identifier: 'dirPathToWatcher'
                Identifier: 'size'
              EqualsEqualsEqualsToken
              NumericLiteral
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            packageDirWatchers'
                    Identifier: 'delete'
                  Identifier: 'packageDirPath'
      FunctionDeclaration
        Identifier: ' closeDirectoryWatchesOfFailedLookup'
        Parameter
          Identifier: 'watcher'
          TypeReference
            Identifier: ' DirectoryWatchesOfFailedLookup'
        Parameter
          Identifier: ' path'
          TypeReference
            Identifier: ' Path'
        Block
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'watcher'
                Identifier: 'refCount'
              EqualsEqualsEqualsToken
              NumericLiteral
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            directoryWatchesOfFailedLookups'
                    Identifier: 'delete'
                  Identifier: 'path'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: '
            watcher'
                      Identifier: 'watcher'
                    Identifier: 'close'
      FunctionDeclaration
        Identifier: ' closeFileWatcherOfAffectingLocation'
        Parameter
          Identifier: 'watcher'
          TypeReference
            Identifier: ' FileWatcherOfAffectingLocation'
        Parameter
          Identifier: ' path'
          StringKeyword
        Block
          IfStatement
            BinaryExpression
              BinaryExpression
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: 'watcher'
                    Identifier: 'files'
                  EqualsEqualsEqualsToken
                  NumericLiteral
                AmpersandAmpersandToken
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: ' watcher'
                    Identifier: 'resolutions'
                  EqualsEqualsEqualsToken
                  NumericLiteral
              AmpersandAmpersandToken
              PrefixUnaryExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: 'watcher'
                    Identifier: 'symlinks'
                  QuestionDotToken
                  Identifier: 'size'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            fileWatchesOfAffectingLocations'
                    Identifier: 'delete'
                  Identifier: 'path'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: '
            watcher'
                      Identifier: 'watcher'
                    Identifier: 'close'
      InterfaceDeclaration
        Identifier: ' ResolveNamesWithLocalCacheInput'
        TypeParameter
          Identifier: 'Entry'
        TypeParameter
          Identifier: ' SourceFile'
        TypeParameter
          Identifier: ' T'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        TypeParameter
          Identifier: ' R'
          TypeReference
            Identifier: ' ResolutionWithResolvedFileName'
        PropertySignature
          Identifier: '
        entries'
          TypeOperator
            ArrayType
              TypeReference
                Identifier: ' Entry'
        PropertySignature
          Identifier: '
        containingFile'
          StringKeyword
        PropertySignature
          Identifier: '
        containingSourceFile'
          TypeReference
            Identifier: ' SourceFile'
        PropertySignature
          Identifier: '
        redirectedReference'
          UnionType
            TypeReference
              Identifier: ' ResolvedProjectReference'
            UndefinedKeyword
        PropertySignature
          Identifier: '
        options'
          TypeReference
            Identifier: ' CompilerOptions'
        PropertySignature
          Identifier: '
        reusedNames'
          QuestionToken
          TypeOperator
            ArrayType
              TypeReference
                Identifier: ' Entry'
        PropertySignature
          Identifier: '
        perFileCache'
          TypeReference
            Identifier: ' Map'
            TypeReference
              Identifier: 'Path'
            TypeReference
              Identifier: ' ModeAwareCache'
              TypeReference
                Identifier: 'T'
        PropertySignature
          Identifier: '
        loader'
          TypeReference
            Identifier: ' ResolutionLoader'
            TypeReference
              Identifier: 'Entry'
            TypeReference
              Identifier: ' T'
            TypeReference
              Identifier: ' SourceFile'
        PropertySignature
          Identifier: '
        getResolutionWithResolvedFileName'
          TypeReference
            Identifier: ' GetResolutionWithResolvedFileName'
            TypeReference
              Identifier: 'T'
            TypeReference
              Identifier: ' R'
        PropertySignature
          Identifier: '
        shouldRetryResolution'
          FunctionType
            Parameter
              Identifier: 't'
              TypeReference
                Identifier: ' T'
            BooleanKeyword
        PropertySignature
          Identifier: '
        logChanges'
          QuestionToken
          BooleanKeyword
        PropertySignature
          Identifier: '
        deferWatchingNonRelativeResolution'
          BooleanKeyword
      FunctionDeclaration
        Identifier: ' resolveNamesWithLocalCache'
        TypeParameter
          Identifier: 'Entry'
        TypeParameter
          Identifier: ' SourceFile'
        TypeParameter
          Identifier: ' T'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        TypeParameter
          Identifier: ' R'
          TypeReference
            Identifier: ' ResolutionWithResolvedFileName'
        Parameter
          ObjectBindingPattern
            BindingElement
              Identifier: '
        entries'
            BindingElement
              Identifier: '
        containingFile'
            BindingElement
              Identifier: '
        containingSourceFile'
            BindingElement
              Identifier: '
        redirectedReference'
            BindingElement
              Identifier: '
        options'
            BindingElement
              Identifier: '
        perFileCache'
            BindingElement
              Identifier: '
        reusedNames'
            BindingElement
              Identifier: '
        loader'
            BindingElement
              Identifier: '
        getResolutionWithResolvedFileName'
            BindingElement
              Identifier: '
        deferWatchingNonRelativeResolution'
            BindingElement
              Identifier: '
        shouldRetryResolution'
            BindingElement
              Identifier: '
        logChanges'
          TypeReference
            Identifier: ' ResolveNamesWithLocalCacheInput'
            TypeReference
              Identifier: 'Entry'
            TypeReference
              Identifier: ' SourceFile'
            TypeReference
              Identifier: ' T'
            TypeReference
              Identifier: ' R'
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' T'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' path'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'toPath'
                  Identifier: 'containingFile'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolutionsInFile'
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' perFileCache'
                      Identifier: 'get'
                    Identifier: 'path'
                  BarBarToken
                  NonNullExpression
                    CallExpression
                      PropertyAccessExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' perFileCache'
                            Identifier: 'set'
                          Identifier: 'path'
                          CallExpression
                            Identifier: ' createModeAwareCache'
                        Identifier: 'get'
                      Identifier: 'path'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolvedModules'
                ArrayType
                  TypeReference
                    Identifier: ' T'
                ArrayLiteralExpression
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' hasInvalidatedNonRelativeUnresolvedImport'
                BinaryExpression
                  Identifier: ' logChanges'
                  AmpersandAmpersandToken
                  CallExpression
                    Identifier: ' isFileWithInvalidatedNonRelativeUnresolvedImports'
                    Identifier: 'path'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' program'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'getCurrentProgram'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' oldRedirect'
                BinaryExpression
                  Identifier: ' program'
                  AmpersandAmpersandToken
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' program'
                      Identifier: 'getResolvedProjectReferenceToRedirect'
                    Identifier: 'containingFile'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' unmatchedRedirects'
                ConditionalExpression
                  Identifier: ' oldRedirect'
                  QuestionToken
                  BinaryExpression
                    PrefixUnaryExpression
                      Identifier: 'redirectedReference'
                    BarBarToken
                    BinaryExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' redirectedReference'
                          Identifier: 'sourceFile'
                        Identifier: 'path'
                      ExclamationEqualsEqualsToken
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' oldRedirect'
                          Identifier: 'sourceFile'
                        Identifier: 'path'
                  ColonToken
                  PrefixUnaryExpression
                    PrefixUnaryExpression
                      Identifier: 'redirectedReference'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' seenNamesInFile'
                CallExpression
                  Identifier: ' createModeAwareCache'
                  LiteralType
                    TrueKeyword
          ForOfStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' entry'
            Identifier: ' entries'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' name'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' loader'
                          Identifier: 'nameAndMode'
                        Identifier: 'getName'
                      Identifier: 'entry'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' mode'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' loader'
                          Identifier: 'nameAndMode'
                        Identifier: 'getMode'
                      Identifier: 'entry'
                      Identifier: ' containingSourceFile'
                      BinaryExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' redirectedReference'
                            QuestionDotToken
                            Identifier: 'commandLine'
                          Identifier: 'options'
                        BarBarToken
                        Identifier: ' options'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' resolution'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' resolutionsInFile'
                        Identifier: 'get'
                      Identifier: 'name'
                      Identifier: ' mode'
              IfStatement
                BinaryExpression
                  PrefixUnaryExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'seenNamesInFile'
                        Identifier: 'has'
                      Identifier: 'name'
                      Identifier: ' mode'
                  AmpersandAmpersandToken
                  ParenthesizedExpression
                    BinaryExpression
                      BinaryExpression
                        BinaryExpression
                          BinaryExpression
                            Identifier: 'allModuleAndTypeResolutionsAreInvalidated'
                            BarBarToken
                            Identifier: ' unmatchedRedirects'
                          BarBarToken
                          PrefixUnaryExpression
                            Identifier: 'resolution'
                        BarBarToken
                        PropertyAccessExpression
                          Identifier: ' resolution'
                          Identifier: 'isInvalidated'
                      BarBarToken
                      ParenthesizedExpression
                        BinaryExpression
                          BinaryExpression
                            Identifier: 'hasInvalidatedNonRelativeUnresolvedImport'
                            AmpersandAmpersandToken
                            PrefixUnaryExpression
                              CallExpression
                                Identifier: 'isExternalModuleNameRelative'
                                Identifier: 'name'
                          AmpersandAmpersandToken
                          CallExpression
                            Identifier: ' shouldRetryResolution'
                            Identifier: 'resolution'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' existingResolution'
                        Identifier: ' resolution'
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                resolution'
                      EqualsToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' loader'
                          Identifier: 'resolve'
                        Identifier: 'name'
                        Identifier: ' mode'
                  IfStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'resolutionHost'
                        Identifier: 'onDiscoveredSymlink'
                      AmpersandAmpersandToken
                      CallExpression
                        Identifier: ' resolutionIsSymlink'
                        Identifier: 'resolution'
                    Block
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
                    resolutionHost'
                            Identifier: 'onDiscoveredSymlink'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                resolutionsInFile'
                        Identifier: 'set'
                      Identifier: 'name'
                      Identifier: ' mode'
                      Identifier: ' resolution'
                  IfStatement
                    BinaryExpression
                      Identifier: 'resolution'
                      ExclamationEqualsEqualsToken
                      Identifier: ' existingResolution'
                    Block
                      ExpressionStatement
                        CallExpression
                          Identifier: '
                    watchFailedLookupLocationsOfExternalModuleResolutions'
                          Identifier: 'name'
                          Identifier: ' resolution'
                          Identifier: ' path'
                          Identifier: ' getResolutionWithResolvedFileName'
                          Identifier: ' deferWatchingNonRelativeResolution'
                      IfStatement
                        Identifier: 'existingResolution'
                        Block
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                        stopWatchFailedLookupLocationOfResolution'
                              Identifier: 'existingResolution'
                              Identifier: ' path'
                              Identifier: ' getResolutionWithResolvedFileName'
                  IfStatement
                    BinaryExpression
                      BinaryExpression
                        Identifier: 'logChanges'
                        AmpersandAmpersandToken
                        Identifier: ' filesWithChangedSetOfUnresolvedImports'
                      AmpersandAmpersandToken
                      PrefixUnaryExpression
                        CallExpression
                          Identifier: 'resolutionIsEqualTo'
                          Identifier: 'existingResolution'
                          Identifier: ' resolution'
                    Block
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
                    filesWithChangedSetOfUnresolvedImports'
                            Identifier: 'push'
                          Identifier: 'path'
                      ExpressionStatement
                        BinaryExpression
                          Identifier: '
                    // reset log changes to avoid recording the same file multiple times
                    logChanges'
                          EqualsToken
                          FalseKeyword
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' host'
                        CallExpression
                          Identifier: ' getModuleResolutionHost'
                          Identifier: 'resolutionHost'
                  IfStatement
                    BinaryExpression
                      CallExpression
                        Identifier: 'isTraceEnabled'
                        Identifier: 'options'
                        Identifier: ' host'
                      AmpersandAmpersandToken
                      PrefixUnaryExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: 'seenNamesInFile'
                            Identifier: 'has'
                          Identifier: 'name'
                          Identifier: ' mode'
                    Block
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' resolved'
                            CallExpression
                              Identifier: ' getResolutionWithResolvedFileName'
                              NonNullExpression
                                Identifier: 'resolution'
                      ExpressionStatement
                        CallExpression
                          Identifier: '
                    trace'
                          Identifier: '
                        host'
                          ConditionalExpression
                            BinaryExpression
                              Identifier: '
                        perFileCache'
                              EqualsEqualsEqualsToken
                              AsExpression
                                Identifier: ' resolvedModuleNames'
                                UnknownKeyword
                            QuestionToken
                            ConditionalExpression
                              PropertyAccessExpression
                                Identifier: '
                            resolved'
                                QuestionDotToken
                                Identifier: 'resolvedFileName'
                              QuestionToken
                              ConditionalExpression
                                PropertyAccessExpression
                                  Identifier: '
                                resolved'
                                  Identifier: 'packageId'
                                QuestionToken
                                PropertyAccessExpression
                                  Identifier: '
                                    Diagnostics'
                                  Identifier: 'Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3'
                                ColonToken
                                PropertyAccessExpression
                                  Identifier: '
                                    Diagnostics'
                                  Identifier: 'Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2'
                              ColonToken
                              PropertyAccessExpression
                                Identifier: '
                                Diagnostics'
                                Identifier: 'Reusing_resolution_of_module_0_from_1_of_old_program_it_was_not_resolved'
                            ColonToken
                            ConditionalExpression
                              PropertyAccessExpression
                                Identifier: '
                            resolved'
                                QuestionDotToken
                                Identifier: 'resolvedFileName'
                              QuestionToken
                              ConditionalExpression
                                PropertyAccessExpression
                                  Identifier: '
                            resolved'
                                  Identifier: 'packageId'
                                QuestionToken
                                PropertyAccessExpression
                                  Identifier: '
                                Diagnostics'
                                  Identifier: 'Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3'
                                ColonToken
                                PropertyAccessExpression
                                  Identifier: '
                                Diagnostics'
                                  Identifier: 'Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_successfully_resolved_to_2'
                              ColonToken
                              PropertyAccessExpression
                                Identifier: '
                            Diagnostics'
                                Identifier: 'Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_not_resolved'
                          Identifier: '
                        name'
                          Identifier: '
                        containingFile'
                          PropertyAccessExpression
                            Identifier: '
                        resolved'
                            QuestionDotToken
                            Identifier: 'resolvedFileName'
                          BinaryExpression
                            PropertyAccessExpression
                              Identifier: '
                        resolved'
                              QuestionDotToken
                              Identifier: 'packageId'
                            AmpersandAmpersandToken
                            CallExpression
                              Identifier: ' packageIdToString'
                              PropertyAccessExpression
                                Identifier: 'resolved'
                                Identifier: 'packageId'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            Debug'
                    Identifier: 'assert'
                  BinaryExpression
                    BinaryExpression
                      Identifier: 'resolution'
                      ExclamationEqualsEqualsToken
                      Identifier: ' undefined'
                    AmpersandAmpersandToken
                    PrefixUnaryExpression
                      PropertyAccessExpression
                        Identifier: 'resolution'
                        Identifier: 'isInvalidated'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            seenNamesInFile'
                    Identifier: 'set'
                  Identifier: 'name'
                  Identifier: ' mode'
                  TrueKeyword
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            resolvedModules'
                    Identifier: 'push'
                  Identifier: 'resolution'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        reusedNames'
                QuestionDotToken
                Identifier: 'forEach'
              ArrowFunction
                Parameter
                  Identifier: 'entry'
                EqualsGreaterThanToken
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            seenNamesInFile'
                    Identifier: 'set'
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                loader'
                        Identifier: 'nameAndMode'
                      Identifier: 'getName'
                    Identifier: 'entry'
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                loader'
                        Identifier: 'nameAndMode'
                      Identifier: 'getMode'
                    Identifier: 'entry'
                    Identifier: ' containingSourceFile'
                    BinaryExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' redirectedReference'
                          QuestionDotToken
                          Identifier: 'commandLine'
                        Identifier: 'options'
                      BarBarToken
                      Identifier: ' options'
                  TrueKeyword
          IfStatement
            BinaryExpression
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionsInFile'
                  Identifier: 'size'
              ExclamationEqualsEqualsToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' seenNamesInFile'
                  Identifier: 'size'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            // Stop watching and remove the unused name
            resolutionsInFile'
                    Identifier: 'forEach'
                  ArrowFunction
                    Parameter
                      Identifier: 'resolution'
                    Parameter
                      Identifier: ' name'
                    Parameter
                      Identifier: ' mode'
                    EqualsGreaterThanToken
                    Block
                      IfStatement
                        PrefixUnaryExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: 'seenNamesInFile'
                              Identifier: 'has'
                            Identifier: 'name'
                            Identifier: ' mode'
                        Block
                          ExpressionStatement
                            CallExpression
                              Identifier: '
                    stopWatchFailedLookupLocationOfResolution'
                              Identifier: 'resolution'
                              Identifier: ' path'
                              Identifier: ' getResolutionWithResolvedFileName'
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                Identifier: '
                    resolutionsInFile'
                                Identifier: 'delete'
                              Identifier: 'name'
                              Identifier: ' mode'
          ReturnStatement
            Identifier: ' resolvedModules'
          FunctionDeclaration
            Identifier: ' resolutionIsEqualTo'
            Parameter
              Identifier: 'oldResolution'
              UnionType
                TypeReference
                  Identifier: ' T'
                UndefinedKeyword
            Parameter
              Identifier: ' newResolution'
              UnionType
                TypeReference
                  Identifier: ' T'
                UndefinedKeyword
            BooleanKeyword
            Block
              IfStatement
                BinaryExpression
                  Identifier: 'oldResolution'
                  EqualsEqualsEqualsToken
                  Identifier: ' newResolution'
                Block
                  ReturnStatement
                    TrueKeyword
              IfStatement
                BinaryExpression
                  PrefixUnaryExpression
                    Identifier: 'oldResolution'
                  BarBarToken
                  PrefixUnaryExpression
                    Identifier: 'newResolution'
                Block
                  ReturnStatement
                    FalseKeyword
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' oldResult'
                    CallExpression
                      Identifier: ' getResolutionWithResolvedFileName'
                      Identifier: 'oldResolution'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' newResult'
                    CallExpression
                      Identifier: ' getResolutionWithResolvedFileName'
                      Identifier: 'newResolution'
              IfStatement
                BinaryExpression
                  Identifier: 'oldResult'
                  EqualsEqualsEqualsToken
                  Identifier: ' newResult'
                Block
                  ReturnStatement
                    TrueKeyword
              IfStatement
                BinaryExpression
                  PrefixUnaryExpression
                    Identifier: 'oldResult'
                  BarBarToken
                  PrefixUnaryExpression
                    Identifier: 'newResult'
                Block
                  ReturnStatement
                    FalseKeyword
              ReturnStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: ' oldResult'
                    Identifier: 'resolvedFileName'
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    Identifier: ' newResult'
                    Identifier: 'resolvedFileName'
      FunctionDeclaration
        Identifier: ' resolveTypeReferenceDirectiveReferences'
        TypeParameter
          Identifier: 'T'
          UnionType
            TypeReference
              Identifier: ' FileReference'
            StringKeyword
        Parameter
          Identifier: '
        typeDirectiveReferences'
          TypeOperator
            ArrayType
              TypeReference
                Identifier: ' T'
        Parameter
          Identifier: '
        containingFile'
          StringKeyword
        Parameter
          Identifier: '
        redirectedReference'
          UnionType
            TypeReference
              Identifier: ' ResolvedProjectReference'
            UndefinedKeyword
        Parameter
          Identifier: '
        options'
          TypeReference
            Identifier: ' CompilerOptions'
        Parameter
          Identifier: '
        containingSourceFile'
          UnionType
            TypeReference
              Identifier: ' SourceFile'
            UndefinedKeyword
        Parameter
          Identifier: '
        reusedNames'
          UnionType
            TypeOperator
              ArrayType
                TypeReference
                  Identifier: ' T'
            UndefinedKeyword
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' ResolvedTypeReferenceDirectiveWithFailedLookupLocations'
        Block
          ReturnStatement
            CallExpression
              Identifier: ' resolveNamesWithLocalCache'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            entries'
                  Identifier: ' typeDirectiveReferences'
                ShorthandPropertyAssignment
                  Identifier: '
            containingFile'
                ShorthandPropertyAssignment
                  Identifier: '
            containingSourceFile'
                ShorthandPropertyAssignment
                  Identifier: '
            redirectedReference'
                ShorthandPropertyAssignment
                  Identifier: '
            options'
                ShorthandPropertyAssignment
                  Identifier: '
            reusedNames'
                PropertyAssignment
                  Identifier: '
            perFileCache'
                  Identifier: ' resolvedTypeReferenceDirectives'
                PropertyAssignment
                  Identifier: '
            loader'
                  CallExpression
                    Identifier: ' createTypeReferenceResolutionLoader'
                    Identifier: '
                containingFile'
                    Identifier: '
                redirectedReference'
                    Identifier: '
                options'
                    CallExpression
                      Identifier: '
                getModuleResolutionHost'
                      Identifier: 'resolutionHost'
                    Identifier: '
                typeReferenceDirectiveResolutionCache'
                PropertyAssignment
                  Identifier: '
            getResolutionWithResolvedFileName'
                  Identifier: ' getResolvedTypeReferenceDirectiveFromResolution'
                PropertyAssignment
                  Identifier: '
            shouldRetryResolution'
                  ArrowFunction
                    Parameter
                      Identifier: ' resolution'
                    EqualsGreaterThanToken
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: ' resolution'
                        Identifier: 'resolvedTypeReferenceDirective'
                      EqualsEqualsEqualsToken
                      Identifier: ' undefined'
                PropertyAssignment
                  Identifier: '
            deferWatchingNonRelativeResolution'
                  FalseKeyword
      FunctionDeclaration
        Identifier: ' resolveModuleNameLiterals'
        Parameter
          Identifier: '
        moduleLiterals'
          TypeOperator
            ArrayType
              TypeReference
                Identifier: ' StringLiteralLike'
        Parameter
          Identifier: '
        containingFile'
          StringKeyword
        Parameter
          Identifier: '
        redirectedReference'
          UnionType
            TypeReference
              Identifier: ' ResolvedProjectReference'
            UndefinedKeyword
        Parameter
          Identifier: '
        options'
          TypeReference
            Identifier: ' CompilerOptions'
        Parameter
          Identifier: '
        containingSourceFile'
          TypeReference
            Identifier: ' SourceFile'
        Parameter
          Identifier: '
        reusedNames'
          UnionType
            TypeOperator
              ArrayType
                TypeReference
                  Identifier: ' StringLiteralLike'
            UndefinedKeyword
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' ResolvedModuleWithFailedLookupLocations'
        Block
          ReturnStatement
            CallExpression
              Identifier: ' resolveNamesWithLocalCache'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            entries'
                  Identifier: ' moduleLiterals'
                ShorthandPropertyAssignment
                  Identifier: '
            containingFile'
                ShorthandPropertyAssignment
                  Identifier: '
            containingSourceFile'
                ShorthandPropertyAssignment
                  Identifier: '
            redirectedReference'
                ShorthandPropertyAssignment
                  Identifier: '
            options'
                ShorthandPropertyAssignment
                  Identifier: '
            reusedNames'
                PropertyAssignment
                  Identifier: '
            perFileCache'
                  Identifier: ' resolvedModuleNames'
                PropertyAssignment
                  Identifier: '
            loader'
                  CallExpression
                    Identifier: ' createModuleResolutionLoaderUsingGlobalCache'
                    Identifier: '
                containingFile'
                    Identifier: '
                redirectedReference'
                    Identifier: '
                options'
                    Identifier: '
                resolutionHost'
                    Identifier: '
                moduleResolutionCache'
                PropertyAssignment
                  Identifier: '
            getResolutionWithResolvedFileName'
                  Identifier: ' getResolvedModuleFromResolution'
                PropertyAssignment
                  Identifier: '
            shouldRetryResolution'
                  ArrowFunction
                    Parameter
                      Identifier: ' resolution'
                    EqualsGreaterThanToken
                    BinaryExpression
                      PrefixUnaryExpression
                        PropertyAccessExpression
                          Identifier: 'resolution'
                          Identifier: 'resolvedModule'
                      BarBarToken
                      PrefixUnaryExpression
                        CallExpression
                          Identifier: 'resolutionExtensionIsTSOrJson'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: 'resolution'
                              Identifier: 'resolvedModule'
                            Identifier: 'extension'
                PropertyAssignment
                  Identifier: '
            logChanges'
                  Identifier: ' logChangesWhenResolvingModule'
                PropertyAssignment
                  Identifier: '
            deferWatchingNonRelativeResolution'
                  TrueKeyword
      FunctionDeclaration
        Identifier: ' resolveLibrary'
        Parameter
          Identifier: '
        libraryName'
          StringKeyword
        Parameter
          Identifier: '
        resolveFrom'
          StringKeyword
        Parameter
          Identifier: '
        options'
          TypeReference
            Identifier: ' CompilerOptions'
        Parameter
          Identifier: '
        libFileName'
          StringKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' host'
                CallExpression
                  Identifier: ' getModuleResolutionHost'
                  Identifier: 'resolutionHost'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolution'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolvedLibraries'
                    QuestionDotToken
                    Identifier: 'get'
                  Identifier: 'libFileName'
          IfStatement
            BinaryExpression
              PrefixUnaryExpression
                Identifier: 'resolution'
              BarBarToken
              PropertyAccessExpression
                Identifier: ' resolution'
                Identifier: 'isInvalidated'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' existingResolution'
                    Identifier: ' resolution'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            resolution'
                  EqualsToken
                  CallExpression
                    Identifier: ' ts_resolveLibrary'
                    Identifier: 'libraryName'
                    Identifier: ' resolveFrom'
                    Identifier: ' options'
                    Identifier: ' host'
                    Identifier: ' libraryResolutionCache'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' path'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' resolutionHost'
                        Identifier: 'toPath'
                      Identifier: 'resolveFrom'
              ExpressionStatement
                CallExpression
                  Identifier: '
            watchFailedLookupLocationsOfExternalModuleResolutions'
                  Identifier: 'libraryName'
                  Identifier: ' resolution'
                  Identifier: ' path'
                  Identifier: ' getResolvedModuleFromResolution'
                  FalseKeyword
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            resolvedLibraries'
                    Identifier: 'set'
                  Identifier: 'libFileName'
                  Identifier: ' resolution'
              IfStatement
                Identifier: 'existingResolution'
                Block
                  ExpressionStatement
                    CallExpression
                      Identifier: '
                stopWatchFailedLookupLocationOfResolution'
                      Identifier: 'existingResolution'
                      Identifier: ' path'
                      Identifier: ' getResolvedModuleFromResolution'
            Block
              IfStatement
                CallExpression
                  Identifier: 'isTraceEnabled'
                  Identifier: 'options'
                  Identifier: ' host'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' resolved'
                        CallExpression
                          Identifier: ' getResolvedModuleFromResolution'
                          Identifier: 'resolution'
                  ExpressionStatement
                    CallExpression
                      Identifier: '
                trace'
                      Identifier: '
                    host'
                      ConditionalExpression
                        PropertyAccessExpression
                          Identifier: '
                    resolved'
                          QuestionDotToken
                          Identifier: 'resolvedFileName'
                        QuestionToken
                        ConditionalExpression
                          PropertyAccessExpression
                            Identifier: '
                        resolved'
                            Identifier: 'packageId'
                          QuestionToken
                          PropertyAccessExpression
                            Identifier: '
                            Diagnostics'
                            Identifier: 'Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3'
                          ColonToken
                          PropertyAccessExpression
                            Identifier: '
                            Diagnostics'
                            Identifier: 'Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2'
                        ColonToken
                        PropertyAccessExpression
                          Identifier: '
                        Diagnostics'
                          Identifier: 'Reusing_resolution_of_module_0_from_1_of_old_program_it_was_not_resolved'
                      Identifier: '
                    libraryName'
                      Identifier: '
                    resolveFrom'
                      PropertyAccessExpression
                        Identifier: '
                    resolved'
                        QuestionDotToken
                        Identifier: 'resolvedFileName'
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: '
                    resolved'
                          QuestionDotToken
                          Identifier: 'packageId'
                        AmpersandAmpersandToken
                        CallExpression
                          Identifier: ' packageIdToString'
                          PropertyAccessExpression
                            Identifier: 'resolved'
                            Identifier: 'packageId'
          ReturnStatement
            Identifier: ' resolution'
      FunctionDeclaration
        Identifier: ' resolveSingleModuleNameWithoutWatching'
        Parameter
          Identifier: 'moduleName'
          StringKeyword
        Parameter
          Identifier: ' containingFile'
          StringKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' path'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'toPath'
                  Identifier: 'containingFile'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolutionsInFile'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolvedModuleNames'
                    Identifier: 'get'
                  Identifier: 'path'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolution'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionsInFile'
                    QuestionDotToken
                    Identifier: 'get'
                  Identifier: 'moduleName'
                  Identifier: ' /*mode*/ undefined'
          IfStatement
            BinaryExpression
              Identifier: 'resolution'
              AmpersandAmpersandToken
              PrefixUnaryExpression
                PropertyAccessExpression
                  Identifier: 'resolution'
                  Identifier: 'isInvalidated'
            ReturnStatement
              Identifier: ' resolution'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' data'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'beforeResolveSingleModuleNameWithoutWatching'
                  QuestionDotToken
                  Identifier: 'moduleResolutionCache'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' host'
                CallExpression
                  Identifier: ' getModuleResolutionHost'
                  Identifier: 'resolutionHost'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' result'
                CallExpression
                  Identifier: ' ts_resolveModuleName'
                  Identifier: '
            moduleName'
                  Identifier: '
            containingFile'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: '
            resolutionHost'
                      Identifier: 'getCompilationSettings'
                  Identifier: '
            host'
                  Identifier: '
            moduleResolutionCache'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolutionHost'
                Identifier: 'afterResolveSingleModuleNameWithoutWatching'
              QuestionDotToken
              Identifier: 'moduleResolutionCache'
              Identifier: ' moduleName'
              Identifier: ' containingFile'
              Identifier: ' result'
              Identifier: ' data'
          ReturnStatement
            Identifier: ' result'
      FunctionDeclaration
        Identifier: ' isNodeModulesAtTypesDirectory'
        Parameter
          Identifier: 'dirPath'
          TypeReference
            Identifier: ' Path'
        Block
          ReturnStatement
            CallExpression
              Identifier: ' endsWith'
              Identifier: 'dirPath'
              StringLiteral
      FunctionDeclaration
        Identifier: ' watchFailedLookupLocationsOfExternalModuleResolutions'
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        TypeParameter
          Identifier: ' R'
          TypeReference
            Identifier: ' ResolutionWithResolvedFileName'
        Parameter
          Identifier: '
        name'
          StringKeyword
        Parameter
          Identifier: '
        resolution'
          TypeReference
            Identifier: ' T'
        Parameter
          Identifier: '
        filePath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: '
        getResolutionWithResolvedFileName'
          TypeReference
            Identifier: ' GetResolutionWithResolvedFileName'
            TypeReference
              Identifier: 'T'
            TypeReference
              Identifier: ' R'
        Parameter
          Identifier: '
        deferWatchingNonRelativeResolution'
          BooleanKeyword
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                ParenthesizedExpression
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: 'resolution'
                      Identifier: 'files'
                    QuestionQuestionEqualsToken
                    NewExpression
                      Identifier: ' Set'
                Identifier: 'add'
              Identifier: 'filePath'
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: 'resolution'
                  Identifier: 'files'
                Identifier: 'size'
              ExclamationEqualsEqualsToken
              NumericLiteral
            ReturnStatement
          IfStatement
            BinaryExpression
              PrefixUnaryExpression
                Identifier: 'deferWatchingNonRelativeResolution'
              BarBarToken
              CallExpression
                Identifier: ' isExternalModuleNameRelative'
                Identifier: 'name'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            watchFailedLookupLocationOfResolution'
                  Identifier: 'resolution'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            nonRelativeExternalModuleResolutions'
                    Identifier: 'add'
                  Identifier: 'resolution'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolved'
                CallExpression
                  Identifier: ' getResolutionWithResolvedFileName'
                  Identifier: 'resolution'
          IfStatement
            BinaryExpression
              Identifier: 'resolved'
              AmpersandAmpersandToken
              PropertyAccessExpression
                Identifier: ' resolved'
                Identifier: 'resolvedFileName'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' key'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' resolutionHost'
                        Identifier: 'toPath'
                      PropertyAccessExpression
                        Identifier: 'resolved'
                        Identifier: 'resolvedFileName'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' resolutions'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' resolvedFileToResolution'
                        Identifier: 'get'
                      Identifier: 'key'
              IfStatement
                PrefixUnaryExpression
                  Identifier: 'resolutions'
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' resolvedFileToResolution'
                      Identifier: 'set'
                    Identifier: 'key'
                    BinaryExpression
                      Identifier: ' resolutions'
                      EqualsToken
                      NewExpression
                        Identifier: ' Set'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            resolutions'
                    Identifier: 'add'
                  Identifier: 'resolution'
      FunctionDeclaration
        Identifier: ' watchFailedLookupLocation'
        Parameter
          Identifier: 'failedLookupLocation'
          StringKeyword
        Parameter
          Identifier: ' setAtRoot'
          BooleanKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' failedLookupLocationPath'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'toPath'
                  Identifier: 'failedLookupLocation'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' toWatch'
                CallExpression
                  Identifier: ' getDirectoryToWatchFailedLookupLocation'
                  Identifier: '
            failedLookupLocation'
                  Identifier: '
            failedLookupLocationPath'
                  Identifier: '
            rootDir'
                  Identifier: '
            rootPath'
                  Identifier: '
            rootPathComponents'
                  Identifier: '
            isRootWatchable'
                  Identifier: '
            getCurrentDirectory'
                  PropertyAccessExpression
                    Identifier: '
            resolutionHost'
                    Identifier: 'preferNonRecursiveWatch'
          IfStatement
            Identifier: 'toWatch'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    ObjectBindingPattern
                      BindingElement
                        Identifier: ' dir'
                      BindingElement
                        Identifier: ' dirPath'
                      BindingElement
                        Identifier: ' nonRecursive'
                      BindingElement
                        Identifier: ' packageDir'
                      BindingElement
                        Identifier: ' packageDirPath'
                    Identifier: ' toWatch'
              IfStatement
                BinaryExpression
                  Identifier: 'dirPath'
                  EqualsEqualsEqualsToken
                  Identifier: ' rootPath'
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                Debug'
                        Identifier: 'assert'
                      Identifier: 'nonRecursive'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                Debug'
                        Identifier: 'assert'
                      PrefixUnaryExpression
                        Identifier: 'packageDir'
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                setAtRoot'
                      EqualsToken
                      TrueKeyword
                Block
                  ExpressionStatement
                    CallExpression
                      Identifier: '
                setDirectoryWatcher'
                      Identifier: 'dir'
                      Identifier: ' dirPath'
                      Identifier: ' packageDir'
                      Identifier: ' packageDirPath'
                      Identifier: ' nonRecursive'
          ReturnStatement
            Identifier: ' setAtRoot'
      FunctionDeclaration
        Identifier: ' watchFailedLookupLocationOfResolution'
        Parameter
          Identifier: 'resolution'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        Debug'
                Identifier: 'assert'
              PrefixUnaryExpression
                PrefixUnaryExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: 'resolution'
                      Identifier: 'files'
                    QuestionDotToken
                    Identifier: 'size'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                ObjectBindingPattern
                  BindingElement
                    Identifier: ' failedLookupLocations'
                  BindingElement
                    Identifier: ' affectingLocations'
                  BindingElement
                    Identifier: ' alternateResult'
                Identifier: ' resolution'
          IfStatement
            BinaryExpression
              BinaryExpression
                PrefixUnaryExpression
                  PropertyAccessExpression
                    Identifier: 'failedLookupLocations'
                    QuestionDotToken
                    Identifier: 'length'
                AmpersandAmpersandToken
                PrefixUnaryExpression
                  PropertyAccessExpression
                    Identifier: 'affectingLocations'
                    QuestionDotToken
                    Identifier: 'length'
              AmpersandAmpersandToken
              PrefixUnaryExpression
                Identifier: 'alternateResult'
            ReturnStatement
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'failedLookupLocations'
                QuestionDotToken
                Identifier: 'length'
              BarBarToken
              Identifier: ' alternateResult'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: ' resolutionsWithFailedLookups'
                  Identifier: 'add'
                Identifier: 'resolution'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' setAtRoot'
                FalseKeyword
          IfStatement
            Identifier: 'failedLookupLocations'
            Block
              ForOfStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' failedLookupLocation'
                Identifier: ' failedLookupLocations'
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                setAtRoot'
                      EqualsToken
                      CallExpression
                        Identifier: ' watchFailedLookupLocation'
                        Identifier: 'failedLookupLocation'
                        Identifier: ' setAtRoot'
          IfStatement
            Identifier: 'alternateResult'
            ExpressionStatement
              BinaryExpression
                Identifier: ' setAtRoot'
                EqualsToken
                CallExpression
                  Identifier: ' watchFailedLookupLocation'
                  Identifier: 'alternateResult'
                  Identifier: ' setAtRoot'
          IfStatement
            Identifier: 'setAtRoot'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            // This is always non recursive
            setDirectoryWatcher'
                  Identifier: 'rootDir'
                  Identifier: ' rootPath'
                  Identifier: ' /*packageDir*/ undefined'
                  Identifier: ' /*packageDirPath*/ undefined'
                  TrueKeyword
          ExpressionStatement
            CallExpression
              Identifier: '
        watchAffectingLocationsOfResolution'
              Identifier: 'resolution'
              BinaryExpression
                PrefixUnaryExpression
                  PropertyAccessExpression
                    Identifier: 'failedLookupLocations'
                    QuestionDotToken
                    Identifier: 'length'
                AmpersandAmpersandToken
                PrefixUnaryExpression
                  Identifier: 'alternateResult'
      FunctionDeclaration
        Identifier: ' watchAffectingLocationsOfResolution'
        Parameter
          Identifier: 'resolution'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        Parameter
          Identifier: ' addToResolutionsWithOnlyAffectingLocations'
          BooleanKeyword
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        Debug'
                Identifier: 'assert'
              PrefixUnaryExpression
                PrefixUnaryExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: 'resolution'
                      Identifier: 'files'
                    QuestionDotToken
                    Identifier: 'size'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                ObjectBindingPattern
                  BindingElement
                    Identifier: ' affectingLocations'
                Identifier: ' resolution'
          IfStatement
            PrefixUnaryExpression
              PropertyAccessExpression
                Identifier: 'affectingLocations'
                QuestionDotToken
                Identifier: 'length'
            ReturnStatement
          IfStatement
            Identifier: 'addToResolutionsWithOnlyAffectingLocations'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: ' resolutionsWithOnlyAffectingLocations'
                  Identifier: 'add'
                Identifier: 'resolution'
          ForOfStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' affectingLocation'
            Identifier: ' affectingLocations'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            createFileWatcherOfAffectingLocation'
                  Identifier: 'affectingLocation'
                  TrueKeyword
      FunctionDeclaration
        Identifier: ' createFileWatcherOfAffectingLocation'
        Parameter
          Identifier: 'affectingLocation'
          StringKeyword
        Parameter
          Identifier: ' forResolution'
          BooleanKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' fileWatcher'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' fileWatchesOfAffectingLocations'
                    Identifier: 'get'
                  Identifier: 'affectingLocation'
          IfStatement
            Identifier: 'fileWatcher'
            Block
              IfStatement
                Identifier: 'forResolution'
                ExpressionStatement
                  PostfixUnaryExpression
                    PropertyAccessExpression
                      Identifier: ' fileWatcher'
                      Identifier: 'resolutions'
                ExpressionStatement
                  PostfixUnaryExpression
                    PropertyAccessExpression
                      Identifier: ' fileWatcher'
                      Identifier: 'files'
              ReturnStatement
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' locationToWatch'
                Identifier: ' affectingLocation'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' isSymlink'
                FalseKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' symlinkWatcher'
                UnionType
                  TypeReference
                    Identifier: ' FileWatcherOfAffectingLocation'
                  UndefinedKeyword
          IfStatement
            PropertyAccessExpression
              Identifier: 'resolutionHost'
              Identifier: 'realpath'
            Block
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            locationToWatch'
                  EqualsToken
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' resolutionHost'
                      Identifier: 'realpath'
                    Identifier: 'affectingLocation'
              IfStatement
                BinaryExpression
                  Identifier: 'affectingLocation'
                  ExclamationEqualsEqualsToken
                  Identifier: ' locationToWatch'
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                isSymlink'
                      EqualsToken
                      TrueKeyword
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                symlinkWatcher'
                      EqualsToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' fileWatchesOfAffectingLocations'
                          Identifier: 'get'
                        Identifier: 'locationToWatch'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolutions'
                ConditionalExpression
                  Identifier: ' forResolution'
                  QuestionToken
                  NumericLiteral
                  ColonToken
                  NumericLiteral
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' files'
                ConditionalExpression
                  Identifier: ' forResolution'
                  QuestionToken
                  NumericLiteral
                  ColonToken
                  NumericLiteral
          IfStatement
            BinaryExpression
              PrefixUnaryExpression
                Identifier: 'isSymlink'
              BarBarToken
              PrefixUnaryExpression
                Identifier: 'symlinkWatcher'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' watcher'
                    TypeReference
                      Identifier: ' FileWatcherOfAffectingLocation'
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: '
                watcher'
                        ConditionalExpression
                          CallExpression
                            Identifier: ' canWatchAffectingLocation'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: 'resolutionHost'
                                Identifier: 'toPath'
                              Identifier: 'locationToWatch'
                          QuestionToken
                          CallExpression
                            PropertyAccessExpression
                              Identifier: '
                    resolutionHost'
                              Identifier: 'watchAffectingFileLocation'
                            Identifier: 'locationToWatch'
                            ArrowFunction
                              Parameter
                                Identifier: 'fileName'
                              Parameter
                                Identifier: ' eventKind'
                              EqualsGreaterThanToken
                              Block
                                ExpressionStatement
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: '
                        cachedDirectoryStructureHost'
                                      QuestionDotToken
                                      Identifier: 'addOrDeleteFile'
                                    Identifier: 'fileName'
                                    CallExpression
                                      PropertyAccessExpression
                                        Identifier: ' resolutionHost'
                                        Identifier: 'toPath'
                                      Identifier: 'locationToWatch'
                                    Identifier: ' eventKind'
                                ExpressionStatement
                                  CallExpression
                                    Identifier: '
                        invalidateAffectingFileWatcher'
                                    Identifier: 'locationToWatch'
                                    CallExpression
                                      PropertyAccessExpression
                                        CallExpression
                                          PropertyAccessExpression
                                            Identifier: ' moduleResolutionCache'
                                            Identifier: 'getPackageJsonInfoCache'
                                        Identifier: 'getInternalMap'
                                ExpressionStatement
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: '
                        resolutionHost'
                                      Identifier: 'scheduleInvalidateResolutionsOfFailedLookupLocations'
                          ColonToken
                          Identifier: ' noopFileWatcher'
                      PropertyAssignment
                        Identifier: '
                resolutions'
                        ConditionalExpression
                          Identifier: ' isSymlink'
                          QuestionToken
                          NumericLiteral
                          ColonToken
                          Identifier: ' resolutions'
                      PropertyAssignment
                        Identifier: '
                files'
                        ConditionalExpression
                          Identifier: ' isSymlink'
                          QuestionToken
                          NumericLiteral
                          ColonToken
                          Identifier: ' files'
                      PropertyAssignment
                        Identifier: '
                symlinks'
                        Identifier: ' undefined'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            fileWatchesOfAffectingLocations'
                    Identifier: 'set'
                  Identifier: 'locationToWatch'
                  Identifier: ' watcher'
              IfStatement
                Identifier: 'isSymlink'
                ExpressionStatement
                  BinaryExpression
                    Identifier: ' symlinkWatcher'
                    EqualsToken
                    Identifier: ' watcher'
          IfStatement
            Identifier: 'isSymlink'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            Debug'
                    Identifier: 'assert'
                  PrefixUnaryExpression
                    PrefixUnaryExpression
                      Identifier: 'symlinkWatcher'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' watcher'
                    TypeReference
                      Identifier: ' FileWatcherOfAffectingLocation'
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: '
                watcher'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                    close'
                            ArrowFunction
                              EqualsGreaterThanToken
                              Block
                                VariableStatement
                                  VariableDeclarationList
                                    VariableDeclaration
                                      Identifier: ' symlinkWatcher'
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: ' fileWatchesOfAffectingLocations'
                                          Identifier: 'get'
                                        Identifier: 'locationToWatch'
                                IfStatement
                                  BinaryExpression
                                    BinaryExpression
                                      BinaryExpression
                                        CallExpression
                                          PropertyAccessExpression
                                            PropertyAccessExpression
                                              Identifier: 'symlinkWatcher'
                                              QuestionDotToken
                                              Identifier: 'symlinks'
                                            QuestionDotToken
                                            Identifier: 'delete'
                                          Identifier: 'affectingLocation'
                                        AmpersandAmpersandToken
                                        PrefixUnaryExpression
                                          PropertyAccessExpression
                                            PropertyAccessExpression
                                              Identifier: 'symlinkWatcher'
                                              Identifier: 'symlinks'
                                            Identifier: 'size'
                                      AmpersandAmpersandToken
                                      PrefixUnaryExpression
                                        PropertyAccessExpression
                                          Identifier: 'symlinkWatcher'
                                          Identifier: 'resolutions'
                                    AmpersandAmpersandToken
                                    PrefixUnaryExpression
                                      PropertyAccessExpression
                                        Identifier: 'symlinkWatcher'
                                        Identifier: 'files'
                                  Block
                                    ExpressionStatement
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: '
                            fileWatchesOfAffectingLocations'
                                          Identifier: 'delete'
                                        Identifier: 'locationToWatch'
                                    ExpressionStatement
                                      CallExpression
                                        PropertyAccessExpression
                                          PropertyAccessExpression
                                            Identifier: '
                            symlinkWatcher'
                                            Identifier: 'watcher'
                                          Identifier: 'close'
                      ShorthandPropertyAssignment
                        Identifier: '
                resolutions'
                      ShorthandPropertyAssignment
                        Identifier: '
                files'
                      PropertyAssignment
                        Identifier: '
                symlinks'
                        Identifier: ' undefined'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            fileWatchesOfAffectingLocations'
                    Identifier: 'set'
                  Identifier: 'affectingLocation'
                  Identifier: ' watcher'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    ParenthesizedExpression
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: 'symlinkWatcher'
                          Identifier: 'symlinks'
                        QuestionQuestionEqualsToken
                        NewExpression
                          Identifier: ' Set'
                    Identifier: 'add'
                  Identifier: 'affectingLocation'
      FunctionDeclaration
        Identifier: ' invalidateAffectingFileWatcher'
        Parameter
          Identifier: 'path'
          StringKeyword
        Parameter
          Identifier: ' packageJsonMap'
          UnionType
            TypeReference
              Identifier: ' Map'
              TypeReference
                Identifier: 'Path'
              TypeReference
                Identifier: ' PackageJsonInfoCacheEntry'
            UndefinedKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' watcher'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' fileWatchesOfAffectingLocations'
                    Identifier: 'get'
                  Identifier: 'path'
          IfStatement
            PropertyAccessExpression
              Identifier: 'watcher'
              QuestionDotToken
              Identifier: 'resolutions'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  ParenthesizedExpression
                    BinaryExpression
                      Identifier: 'affectingPathChecks'
                      QuestionQuestionEqualsToken
                      NewExpression
                        Identifier: ' Set'
                  Identifier: 'add'
                Identifier: 'path'
          IfStatement
            PropertyAccessExpression
              Identifier: 'watcher'
              QuestionDotToken
              Identifier: 'files'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  ParenthesizedExpression
                    BinaryExpression
                      Identifier: 'affectingPathChecksForFile'
                      QuestionQuestionEqualsToken
                      NewExpression
                        Identifier: ' Set'
                  Identifier: 'add'
                Identifier: 'path'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
        watcher'
                  QuestionDotToken
                  Identifier: 'symlinks'
                QuestionDotToken
                Identifier: 'forEach'
              ArrowFunction
                Parameter
                  Identifier: 'path'
                EqualsGreaterThanToken
                CallExpression
                  Identifier: ' invalidateAffectingFileWatcher'
                  Identifier: 'path'
                  Identifier: ' packageJsonMap'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        packageJsonMap'
                QuestionDotToken
                Identifier: 'delete'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'toPath'
                Identifier: 'path'
      FunctionDeclaration
        Identifier: ' watchFailedLookupLocationOfNonRelativeModuleResolutions'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        nonRelativeExternalModuleResolutions'
                Identifier: 'forEach'
              Identifier: 'watchFailedLookupLocationOfResolution'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        nonRelativeExternalModuleResolutions'
                Identifier: 'clear'
      FunctionDeclaration
        Identifier: ' createDirectoryWatcherForPackageDir'
        Parameter
          Identifier: '
        dir'
          StringKeyword
        Parameter
          Identifier: '
        dirPath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: '
        packageDir'
          StringKeyword
        Parameter
          Identifier: '
        packageDirPath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: '
        nonRecursive'
          UnionType
            BooleanKeyword
            UndefinedKeyword
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        Debug'
                Identifier: 'assert'
              PrefixUnaryExpression
                Identifier: 'nonRecursive'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' isSymlink'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' isSymlinkCache'
                    Identifier: 'get'
                  Identifier: 'packageDirPath'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' packageDirWatcher'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' packageDirWatchers'
                    Identifier: 'get'
                  Identifier: 'packageDirPath'
          IfStatement
            BinaryExpression
              Identifier: 'isSymlink'
              EqualsEqualsEqualsToken
              Identifier: ' undefined'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' realPath'
                    CallExpression
                      NonNullExpression
                        PropertyAccessExpression
                          Identifier: ' resolutionHost'
                          Identifier: 'realpath'
                      Identifier: 'packageDir'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            isSymlink'
                  EqualsToken
                  BinaryExpression
                    BinaryExpression
                      Identifier: ' realPath'
                      ExclamationEqualsEqualsToken
                      Identifier: ' packageDir'
                    AmpersandAmpersandToken
                    BinaryExpression
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' resolutionHost'
                          Identifier: 'toPath'
                        Identifier: 'realPath'
                      ExclamationEqualsEqualsToken
                      Identifier: ' packageDirPath'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            isSymlinkCache'
                    Identifier: 'set'
                  Identifier: 'packageDirPath'
                  Identifier: ' isSymlink'
              IfStatement
                PrefixUnaryExpression
                  Identifier: 'packageDirWatcher'
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                packageDirWatchers'
                        Identifier: 'set'
                      Identifier: '
                    packageDirPath'
                      BinaryExpression
                        Identifier: '
                    packageDirWatcher'
                        EqualsToken
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                        dirPathToWatcher'
                            NewExpression
                              Identifier: ' Map'
                          ShorthandPropertyAssignment
                            Identifier: '
                        isSymlink'
                IfStatement
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: 'packageDirWatcher'
                      Identifier: 'isSymlink'
                    ExclamationEqualsEqualsToken
                    Identifier: ' isSymlink'
                  Block
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '
                // Handle the change
                packageDirWatcher'
                            Identifier: 'dirPathToWatcher'
                          Identifier: 'forEach'
                        ArrowFunction
                          Parameter
                            Identifier: 'watcher'
                          EqualsGreaterThanToken
                          Block
                            ExpressionStatement
                              CallExpression
                                Identifier: '
                    removeDirectoryWatcher'
                                ConditionalExpression
                                  PropertyAccessExpression
                                    NonNullExpression
                                      Identifier: 'packageDirWatcher'
                                    Identifier: 'isSymlink'
                                  QuestionToken
                                  Identifier: ' packageDirPath'
                                  ColonToken
                                  Identifier: ' dirPath'
                            ExpressionStatement
                              BinaryExpression
                                PropertyAccessExpression
                                  Identifier: '
                    watcher'
                                  Identifier: 'watcher'
                                EqualsToken
                                CallExpression
                                  Identifier: ' createDirPathToWatcher'
                    ExpressionStatement
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: '
                packageDirWatcher'
                          Identifier: 'isSymlink'
                        EqualsToken
                        Identifier: ' isSymlink'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            Debug'
                    Identifier: 'assertIsDefined'
                  Identifier: 'packageDirWatcher'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            Debug'
                    Identifier: 'assert'
                  BinaryExpression
                    Identifier: 'isSymlink'
                    EqualsEqualsEqualsToken
                    PropertyAccessExpression
                      Identifier: ' packageDirWatcher'
                      Identifier: 'isSymlink'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' forDirPath'
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' packageDirWatcher'
                      Identifier: 'dirPathToWatcher'
                    Identifier: 'get'
                  Identifier: 'dirPath'
          IfStatement
            Identifier: 'forDirPath'
            Block
              ExpressionStatement
                PostfixUnaryExpression
                  PropertyAccessExpression
                    Identifier: '
            forDirPath'
                    Identifier: 'refCount'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: '
            packageDirWatcher'
                      Identifier: 'dirPathToWatcher'
                    Identifier: 'set'
                  Identifier: 'dirPath'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: '
                watcher'
                      CallExpression
                        Identifier: ' createDirPathToWatcher'
                    PropertyAssignment
                      Identifier: '
                refCount'
                      NumericLiteral
              IfStatement
                Identifier: 'isSymlink'
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' dirPathToSymlinkPackageRefCount'
                      Identifier: 'set'
                    Identifier: 'dirPath'
                    BinaryExpression
                      ParenthesizedExpression
                        BinaryExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: 'dirPathToSymlinkPackageRefCount'
                              Identifier: 'get'
                            Identifier: 'dirPath'
                          QuestionQuestionToken
                          NumericLiteral
                      PlusToken
                      NumericLiteral
          FunctionDeclaration
            Identifier: ' createDirPathToWatcher'
            Block
              ReturnStatement
                ConditionalExpression
                  Identifier: ' isSymlink'
                  QuestionToken
                  CallExpression
                    Identifier: '
                createOrAddRefToDirectoryWatchOfFailedLookups'
                    Identifier: 'packageDir'
                    Identifier: ' packageDirPath'
                    Identifier: ' nonRecursive'
                  ColonToken
                  CallExpression
                    Identifier: '
                createOrAddRefToDirectoryWatchOfFailedLookups'
                    Identifier: 'dir'
                    Identifier: ' dirPath'
                    Identifier: ' nonRecursive'
      FunctionDeclaration
        Identifier: ' setDirectoryWatcher'
        Parameter
          Identifier: '
        dir'
          StringKeyword
        Parameter
          Identifier: '
        dirPath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: '
        packageDir'
          UnionType
            StringKeyword
            UndefinedKeyword
        Parameter
          Identifier: '
        packageDirPath'
          UnionType
            TypeReference
              Identifier: ' Path'
            UndefinedKeyword
        Parameter
          Identifier: '
        nonRecursive'
          UnionType
            BooleanKeyword
            UndefinedKeyword
        Block
          IfStatement
            BinaryExpression
              PrefixUnaryExpression
                Identifier: 'packageDirPath'
              BarBarToken
              PrefixUnaryExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'realpath'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            createOrAddRefToDirectoryWatchOfFailedLookups'
                  Identifier: 'dir'
                  Identifier: ' dirPath'
                  Identifier: ' nonRecursive'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            createDirectoryWatcherForPackageDir'
                  Identifier: 'dir'
                  Identifier: ' dirPath'
                  NonNullExpression
                    Identifier: ' packageDir'
                  Identifier: ' packageDirPath'
                  Identifier: ' nonRecursive'
      FunctionDeclaration
        Identifier: ' createOrAddRefToDirectoryWatchOfFailedLookups'
        Parameter
          Identifier: 'dir'
          StringKeyword
        Parameter
          Identifier: ' dirPath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: ' nonRecursive'
          UnionType
            BooleanKeyword
            UndefinedKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' dirWatcher'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' directoryWatchesOfFailedLookups'
                    Identifier: 'get'
                  Identifier: 'dirPath'
          IfStatement
            Identifier: 'dirWatcher'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            Debug'
                    Identifier: 'assert'
                  BinaryExpression
                    PrefixUnaryExpression
                      PrefixUnaryExpression
                        Identifier: 'nonRecursive'
                    EqualsEqualsEqualsToken
                    PrefixUnaryExpression
                      PrefixUnaryExpression
                        PropertyAccessExpression
                          Identifier: 'dirWatcher'
                          Identifier: 'nonRecursive'
              ExpressionStatement
                PostfixUnaryExpression
                  PropertyAccessExpression
                    Identifier: '
            dirWatcher'
                    Identifier: 'refCount'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            directoryWatchesOfFailedLookups'
                    Identifier: 'set'
                  Identifier: 'dirPath'
                  BinaryExpression
                    Identifier: ' dirWatcher'
                    EqualsToken
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: ' watcher'
                        CallExpression
                          Identifier: ' createDirectoryWatcher'
                          Identifier: 'dir'
                          Identifier: ' dirPath'
                          Identifier: ' nonRecursive'
                      PropertyAssignment
                        Identifier: ' refCount'
                        NumericLiteral
                      ShorthandPropertyAssignment
                        Identifier: ' nonRecursive'
          ReturnStatement
            Identifier: ' dirWatcher'
      FunctionDeclaration
        Identifier: ' stopWatchFailedLookupLocation'
        Parameter
          Identifier: 'failedLookupLocation'
          StringKeyword
        Parameter
          Identifier: ' removeAtRoot'
          BooleanKeyword
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' failedLookupLocationPath'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'toPath'
                  Identifier: 'failedLookupLocation'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' toWatch'
                CallExpression
                  Identifier: ' getDirectoryToWatchFailedLookupLocation'
                  Identifier: '
            failedLookupLocation'
                  Identifier: '
            failedLookupLocationPath'
                  Identifier: '
            rootDir'
                  Identifier: '
            rootPath'
                  Identifier: '
            rootPathComponents'
                  Identifier: '
            isRootWatchable'
                  Identifier: '
            getCurrentDirectory'
                  PropertyAccessExpression
                    Identifier: '
            resolutionHost'
                    Identifier: 'preferNonRecursiveWatch'
          IfStatement
            Identifier: 'toWatch'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    ObjectBindingPattern
                      BindingElement
                        Identifier: ' dirPath'
                      BindingElement
                        Identifier: ' packageDirPath'
                    Identifier: ' toWatch'
              IfStatement
                BinaryExpression
                  Identifier: 'dirPath'
                  EqualsEqualsEqualsToken
                  Identifier: ' rootPath'
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                removeAtRoot'
                      EqualsToken
                      TrueKeyword
                IfStatement
                  BinaryExpression
                    Identifier: 'packageDirPath'
                    AmpersandAmpersandToken
                    PropertyAccessExpression
                      Identifier: ' resolutionHost'
                      Identifier: 'realpath'
                  Block
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' packageDirWatcher'
                          NonNullExpression
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' packageDirWatchers'
                                Identifier: 'get'
                              Identifier: 'packageDirPath'
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' forDirPath'
                          NonNullExpression
                            CallExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' packageDirWatcher'
                                  Identifier: 'dirPathToWatcher'
                                Identifier: 'get'
                              Identifier: 'dirPath'
                    ExpressionStatement
                      PostfixUnaryExpression
                        PropertyAccessExpression
                          Identifier: '
                forDirPath'
                          Identifier: 'refCount'
                    IfStatement
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: 'forDirPath'
                          Identifier: 'refCount'
                        EqualsEqualsEqualsToken
                        NumericLiteral
                      Block
                        ExpressionStatement
                          CallExpression
                            Identifier: '
                    removeDirectoryWatcher'
                            ConditionalExpression
                              PropertyAccessExpression
                                Identifier: 'packageDirWatcher'
                                Identifier: 'isSymlink'
                              QuestionToken
                              Identifier: ' packageDirPath'
                              ColonToken
                              Identifier: ' dirPath'
                        ExpressionStatement
                          CallExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                Identifier: '
                    packageDirWatcher'
                                Identifier: 'dirPathToWatcher'
                              Identifier: 'delete'
                            Identifier: 'dirPath'
                        IfStatement
                          PropertyAccessExpression
                            Identifier: 'packageDirWatcher'
                            Identifier: 'isSymlink'
                          Block
                            VariableStatement
                              VariableDeclarationList
                                VariableDeclaration
                                  Identifier: ' refCount'
                                  BinaryExpression
                                    NonNullExpression
                                      CallExpression
                                        PropertyAccessExpression
                                          Identifier: ' dirPathToSymlinkPackageRefCount'
                                          Identifier: 'get'
                                        Identifier: 'dirPath'
                                    MinusToken
                                    NumericLiteral
                            IfStatement
                              BinaryExpression
                                Identifier: 'refCount'
                                EqualsEqualsEqualsToken
                                NumericLiteral
                              Block
                                ExpressionStatement
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: '
                            dirPathToSymlinkPackageRefCount'
                                      Identifier: 'delete'
                                    Identifier: 'dirPath'
                              Block
                                ExpressionStatement
                                  CallExpression
                                    PropertyAccessExpression
                                      Identifier: '
                            dirPathToSymlinkPackageRefCount'
                                      Identifier: 'set'
                                    Identifier: 'dirPath'
                                    Identifier: ' refCount'
                  Block
                    ExpressionStatement
                      CallExpression
                        Identifier: '
                removeDirectoryWatcher'
                        Identifier: 'dirPath'
          ReturnStatement
            Identifier: ' removeAtRoot'
      FunctionDeclaration
        Identifier: ' stopWatchFailedLookupLocationOfResolution'
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        TypeParameter
          Identifier: ' R'
          TypeReference
            Identifier: ' ResolutionWithResolvedFileName'
        Parameter
          Identifier: '
        resolution'
          TypeReference
            Identifier: ' T'
        Parameter
          Identifier: '
        filePath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: '
        getResolutionWithResolvedFileName'
          TypeReference
            Identifier: ' GetResolutionWithResolvedFileName'
            TypeReference
              Identifier: 'T'
            TypeReference
              Identifier: ' R'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        Debug'
                    Identifier: 'checkDefined'
                  PropertyAccessExpression
                    Identifier: 'resolution'
                    Identifier: 'files'
                Identifier: 'delete'
              Identifier: 'filePath'
          IfStatement
            PropertyAccessExpression
              NonNullExpression
                PropertyAccessExpression
                  Identifier: 'resolution'
                  Identifier: 'files'
              Identifier: 'size'
            ReturnStatement
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        resolution'
                Identifier: 'files'
              EqualsToken
              Identifier: ' undefined'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolved'
                CallExpression
                  Identifier: ' getResolutionWithResolvedFileName'
                  Identifier: 'resolution'
          IfStatement
            BinaryExpression
              Identifier: 'resolved'
              AmpersandAmpersandToken
              PropertyAccessExpression
                Identifier: ' resolved'
                Identifier: 'resolvedFileName'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' key'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' resolutionHost'
                        Identifier: 'toPath'
                      PropertyAccessExpression
                        Identifier: 'resolved'
                        Identifier: 'resolvedFileName'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' resolutions'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' resolvedFileToResolution'
                        Identifier: 'get'
                      Identifier: 'key'
              IfStatement
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'resolutions'
                      QuestionDotToken
                      Identifier: 'delete'
                    Identifier: 'resolution'
                  AmpersandAmpersandToken
                  PrefixUnaryExpression
                    PropertyAccessExpression
                      Identifier: 'resolutions'
                      Identifier: 'size'
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' resolvedFileToResolution'
                      Identifier: 'delete'
                    Identifier: 'key'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                ObjectBindingPattern
                  BindingElement
                    Identifier: ' failedLookupLocations'
                  BindingElement
                    Identifier: ' affectingLocations'
                  BindingElement
                    Identifier: ' alternateResult'
                Identifier: ' resolution'
          IfStatement
            CallExpression
              PropertyAccessExpression
                Identifier: 'resolutionsWithFailedLookups'
                Identifier: 'delete'
              Identifier: 'resolution'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' removeAtRoot'
                    FalseKeyword
              IfStatement
                Identifier: 'failedLookupLocations'
                Block
                  ForOfStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' failedLookupLocation'
                    Identifier: ' failedLookupLocations'
                    Block
                      ExpressionStatement
                        BinaryExpression
                          Identifier: '
                    removeAtRoot'
                          EqualsToken
                          CallExpression
                            Identifier: ' stopWatchFailedLookupLocation'
                            Identifier: 'failedLookupLocation'
                            Identifier: ' removeAtRoot'
              IfStatement
                Identifier: 'alternateResult'
                ExpressionStatement
                  BinaryExpression
                    Identifier: ' removeAtRoot'
                    EqualsToken
                    CallExpression
                      Identifier: ' stopWatchFailedLookupLocation'
                      Identifier: 'alternateResult'
                      Identifier: ' removeAtRoot'
              IfStatement
                Identifier: 'removeAtRoot'
                ExpressionStatement
                  CallExpression
                    Identifier: ' removeDirectoryWatcher'
                    Identifier: 'rootPath'
            IfStatement
              PropertyAccessExpression
                Identifier: 'affectingLocations'
                QuestionDotToken
                Identifier: 'length'
              Block
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: '
            resolutionsWithOnlyAffectingLocations'
                      Identifier: 'delete'
                    Identifier: 'resolution'
          IfStatement
            Identifier: 'affectingLocations'
            Block
              ForOfStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' affectingLocation'
                Identifier: ' affectingLocations'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' watcher'
                        NonNullExpression
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' fileWatchesOfAffectingLocations'
                              Identifier: 'get'
                            Identifier: 'affectingLocation'
                  ExpressionStatement
                    PostfixUnaryExpression
                      PropertyAccessExpression
                        Identifier: '
                watcher'
                        Identifier: 'resolutions'
      FunctionDeclaration
        Identifier: ' removeDirectoryWatcher'
        Parameter
          Identifier: 'dirPath'
          TypeReference
            Identifier: ' Path'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' dirWatcher'
                NonNullExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' directoryWatchesOfFailedLookups'
                      Identifier: 'get'
                    Identifier: 'dirPath'
          ExpressionStatement
            PostfixUnaryExpression
              PropertyAccessExpression
                Identifier: '
        // Do not close the watcher yet since it might be needed by other failed lookup locations.
        dirWatcher'
                Identifier: 'refCount'
      FunctionDeclaration
        Identifier: ' createDirectoryWatcher'
        Parameter
          Identifier: 'directory'
          StringKeyword
        Parameter
          Identifier: ' dirPath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: ' nonRecursive'
          UnionType
            BooleanKeyword
            UndefinedKeyword
        Block
          ReturnStatement
            CallExpression
              PropertyAccessExpression
                Identifier: ' resolutionHost'
                Identifier: 'watchDirectoryOfFailedLookupLocation'
              Identifier: 'directory'
              ArrowFunction
                Parameter
                  Identifier: ' fileOrDirectory'
                EqualsGreaterThanToken
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' fileOrDirectoryPath'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' resolutionHost'
                            Identifier: 'toPath'
                          Identifier: 'fileOrDirectory'
                  IfStatement
                    Identifier: 'cachedDirectoryStructureHost'
                    Block
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
                // Since the file existence changed, update the sourceFiles cache
                cachedDirectoryStructureHost'
                            Identifier: 'addOrDeleteFileOrDirectory'
                          Identifier: 'fileOrDirectory'
                          Identifier: ' fileOrDirectoryPath'
                  ExpressionStatement
                    CallExpression
                      Identifier: '

            scheduleInvalidateResolutionOfFailedLookupLocation'
                      Identifier: 'fileOrDirectoryPath'
                      BinaryExpression
                        Identifier: ' dirPath'
                        EqualsEqualsEqualsToken
                        Identifier: ' fileOrDirectoryPath'
              ConditionalExpression
                Identifier: ' nonRecursive'
                QuestionToken
                PropertyAccessExpression
                  Identifier: ' WatchDirectoryFlags'
                  Identifier: 'None'
                ColonToken
                PropertyAccessExpression
                  Identifier: ' WatchDirectoryFlags'
                  Identifier: 'Recursive'
      FunctionDeclaration
        Identifier: ' removeResolutionsOfFileFromCache'
        TypeParameter
          Identifier: 'T'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        TypeParameter
          Identifier: ' R'
          TypeReference
            Identifier: ' ResolutionWithResolvedFileName'
        Parameter
          Identifier: '
        cache'
          TypeReference
            Identifier: ' Map'
            StringKeyword
            TypeReference
              Identifier: ' ModeAwareCache'
              TypeReference
                Identifier: 'T'
        Parameter
          Identifier: '
        filePath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: '
        getResolutionWithResolvedFileName'
          TypeReference
            Identifier: ' GetResolutionWithResolvedFileName'
            TypeReference
              Identifier: 'T'
            TypeReference
              Identifier: ' R'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolutions'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' cache'
                    Identifier: 'get'
                  Identifier: 'filePath'
          IfStatement
            Identifier: 'resolutions'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            resolutions'
                    Identifier: 'forEach'
                  ArrowFunction
                    Parameter
                      Identifier: 'resolution'
                    EqualsGreaterThanToken
                    CallExpression
                      Identifier: '
                stopWatchFailedLookupLocationOfResolution'
                      Identifier: '
                    resolution'
                      Identifier: '
                    filePath'
                      Identifier: '
                    getResolutionWithResolvedFileName'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            cache'
                    Identifier: 'delete'
                  Identifier: 'filePath'
      FunctionDeclaration
        Identifier: ' removeResolutionsFromProjectReferenceRedirects'
        Parameter
          Identifier: 'filePath'
          TypeReference
            Identifier: ' Path'
        Block
          IfStatement
            PrefixUnaryExpression
              CallExpression
                Identifier: 'fileExtensionIs'
                Identifier: 'filePath'
                PropertyAccessExpression
                  Identifier: ' Extension'
                  Identifier: 'Json'
            ReturnStatement
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' program'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'getCurrentProgram'
          IfStatement
            PrefixUnaryExpression
              Identifier: 'program'
            ReturnStatement
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' resolvedProjectReference'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' program'
                    Identifier: 'getResolvedProjectReferenceByPath'
                  Identifier: 'filePath'
          IfStatement
            PrefixUnaryExpression
              Identifier: 'resolvedProjectReference'
            ReturnStatement
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: '

        // filePath is for the projectReference and the containing file is from this project reference, invalidate the resolution
        resolvedProjectReference'
                    Identifier: 'commandLine'
                  Identifier: 'fileNames'
                Identifier: 'forEach'
              ArrowFunction
                Parameter
                  Identifier: 'f'
                EqualsGreaterThanToken
                CallExpression
                  Identifier: ' removeResolutionsOfFile'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'resolutionHost'
                      Identifier: 'toPath'
                    Identifier: 'f'
      FunctionDeclaration
        Identifier: ' removeResolutionsOfFile'
        Parameter
          Identifier: 'filePath'
          TypeReference
            Identifier: ' Path'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        removeResolutionsOfFileFromCache'
              Identifier: 'resolvedModuleNames'
              Identifier: ' filePath'
              Identifier: ' getResolvedModuleFromResolution'
          ExpressionStatement
            CallExpression
              Identifier: '
        removeResolutionsOfFileFromCache'
              Identifier: 'resolvedTypeReferenceDirectives'
              Identifier: ' filePath'
              Identifier: ' getResolvedTypeReferenceDirectiveFromResolution'
      FunctionDeclaration
        Identifier: ' invalidateResolutions'
        Parameter
          Identifier: 'resolutions'
          UnionType
            TypeReference
              Identifier: ' Set'
              TypeReference
                Identifier: 'ResolutionWithFailedLookupLocations'
            TypeReference
              Identifier: ' Map'
              StringKeyword
              TypeReference
                Identifier: ' ResolutionWithFailedLookupLocations'
            UndefinedKeyword
        Parameter
          Identifier: ' canInvalidate'
          FunctionType
            Parameter
              Identifier: 'resolution'
              TypeReference
                Identifier: ' ResolutionWithFailedLookupLocations'
            UnionType
              BooleanKeyword
              UndefinedKeyword
        Block
          IfStatement
            PrefixUnaryExpression
              Identifier: 'resolutions'
            ReturnStatement
              FalseKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' invalidated'
                FalseKeyword
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolutions'
                Identifier: 'forEach'
              ArrowFunction
                Parameter
                  Identifier: 'resolution'
                EqualsGreaterThanToken
                Block
                  IfStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'resolution'
                        Identifier: 'isInvalidated'
                      BarBarToken
                      PrefixUnaryExpression
                        CallExpression
                          Identifier: 'canInvalidate'
                          Identifier: 'resolution'
                    ReturnStatement
                  ExpressionStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: '
            resolution'
                        Identifier: 'isInvalidated'
                      EqualsToken
                      BinaryExpression
                        Identifier: ' invalidated'
                        EqualsToken
                        TrueKeyword
                  ForOfStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' containingFilePath'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' Debug'
                        Identifier: 'checkDefined'
                      PropertyAccessExpression
                        Identifier: 'resolution'
                        Identifier: 'files'
                    Block
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            ParenthesizedExpression
                              BinaryExpression
                                Identifier: 'filesWithInvalidatedResolutions'
                                QuestionQuestionEqualsToken
                                NewExpression
                                  Identifier: ' Set'
                            Identifier: 'add'
                          Identifier: 'containingFilePath'
                      ExpressionStatement
                        BinaryExpression
                          Identifier: '
                // When its a file with inferred types resolution, invalidate type reference directive resolution
                hasChangedAutomaticTypeDirectiveNames'
                          EqualsToken
                          BinaryExpression
                            Identifier: ' hasChangedAutomaticTypeDirectiveNames'
                            BarBarToken
                            CallExpression
                              Identifier: ' endsWith'
                              Identifier: 'containingFilePath'
                              Identifier: ' inferredTypesContainingFile'
          ReturnStatement
            Identifier: ' invalidated'
      FunctionDeclaration
        Identifier: ' invalidateResolutionOfFile'
        Parameter
          Identifier: 'filePath'
          TypeReference
            Identifier: ' Path'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        removeResolutionsOfFile'
              Identifier: 'filePath'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' prevHasChangedAutomaticTypeDirectiveNames'
                Identifier: ' hasChangedAutomaticTypeDirectiveNames'
          IfStatement
            BinaryExpression
              BinaryExpression
                CallExpression
                  Identifier: '
            invalidateResolutions'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'resolvedFileToResolution'
                      Identifier: 'get'
                    Identifier: 'filePath'
                  Identifier: ' returnTrue'
                AmpersandAmpersandToken
                Identifier: '
            hasChangedAutomaticTypeDirectiveNames'
              AmpersandAmpersandToken
              PrefixUnaryExpression
                Identifier: 'prevHasChangedAutomaticTypeDirectiveNames'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            resolutionHost'
                    Identifier: 'onChangedAutomaticTypeDirectiveNames'
      FunctionDeclaration
        Identifier: ' setFilesWithInvalidatedNonRelativeUnresolvedImports'
        Parameter
          Identifier: 'filesMap'
          TypeReference
            Identifier: ' ReadonlyMap'
            TypeReference
              Identifier: 'Path'
            TypeOperator
              ArrayType
                StringKeyword
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        Debug'
                Identifier: 'assert'
              BinaryExpression
                BinaryExpression
                  Identifier: 'filesWithInvalidatedNonRelativeUnresolvedImports'
                  EqualsEqualsEqualsToken
                  Identifier: ' filesMap'
                BarBarToken
                BinaryExpression
                  Identifier: ' filesWithInvalidatedNonRelativeUnresolvedImports'
                  EqualsEqualsEqualsToken
                  Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        filesWithInvalidatedNonRelativeUnresolvedImports'
              EqualsToken
              Identifier: ' filesMap'
      FunctionDeclaration
        Identifier: ' scheduleInvalidateResolutionOfFailedLookupLocation'
        Parameter
          Identifier: 'fileOrDirectoryPath'
          TypeReference
            Identifier: ' Path'
        Parameter
          Identifier: ' isCreatingWatchedDirectory'
          BooleanKeyword
        Block
          IfStatement
            Identifier: 'isCreatingWatchedDirectory'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    ParenthesizedExpression
                      BinaryExpression
                        Identifier: 'isInDirectoryChecks'
                        BarBarEqualsToken
                        NewExpression
                          Identifier: ' Set'
                    Identifier: 'add'
                  Identifier: 'fileOrDirectoryPath'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' updatedPath'
                    CallExpression
                      Identifier: ' removeIgnoredPath'
                      Identifier: 'fileOrDirectoryPath'
              IfStatement
                PrefixUnaryExpression
                  Identifier: 'updatedPath'
                ReturnStatement
                  FalseKeyword
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            fileOrDirectoryPath'
                  EqualsToken
                  Identifier: ' updatedPath'
              IfStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: 'resolutionHost'
                    Identifier: 'fileIsOpen'
                  Identifier: 'fileOrDirectoryPath'
                Block
                  ReturnStatement
                    FalseKeyword
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' dirOfFileOrDirectory'
                    CallExpression
                      Identifier: ' getDirectoryPath'
                      Identifier: 'fileOrDirectoryPath'
              IfStatement
                BinaryExpression
                  BinaryExpression
                    BinaryExpression
                      CallExpression
                        Identifier: '
                isNodeModulesAtTypesDirectory'
                        Identifier: 'fileOrDirectoryPath'
                      BarBarToken
                      CallExpression
                        Identifier: ' isNodeModulesDirectory'
                        Identifier: 'fileOrDirectoryPath'
                    BarBarToken
                    CallExpression
                      Identifier: '
                isNodeModulesAtTypesDirectory'
                      Identifier: 'dirOfFileOrDirectory'
                  BarBarToken
                  CallExpression
                    Identifier: ' isNodeModulesDirectory'
                    Identifier: 'dirOfFileOrDirectory'
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        ParenthesizedExpression
                          BinaryExpression
                            Identifier: 'failedLookupChecks'
                            BarBarEqualsToken
                            NewExpression
                              Identifier: ' Set'
                        Identifier: 'add'
                      Identifier: 'fileOrDirectoryPath'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        ParenthesizedExpression
                          BinaryExpression
                            Identifier: 'startsWithPathChecks'
                            BarBarEqualsToken
                            NewExpression
                              Identifier: ' Set'
                        Identifier: 'add'
                      Identifier: 'fileOrDirectoryPath'
                Block
                  IfStatement
                    CallExpression
                      Identifier: 'isEmittedFileOfProgram'
                      CallExpression
                        PropertyAccessExpression
                          Identifier: 'resolutionHost'
                          Identifier: 'getCurrentProgram'
                      Identifier: ' fileOrDirectoryPath'
                    Block
                      ReturnStatement
                        FalseKeyword
                  IfStatement
                    CallExpression
                      Identifier: 'fileExtensionIs'
                      Identifier: 'fileOrDirectoryPath'
                      StringLiteral
                    Block
                      ReturnStatement
                        FalseKeyword
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        ParenthesizedExpression
                          BinaryExpression
                            Identifier: 'failedLookupChecks'
                            BarBarEqualsToken
                            NewExpression
                              Identifier: ' Set'
                        Identifier: 'add'
                      Identifier: 'fileOrDirectoryPath'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        ParenthesizedExpression
                          BinaryExpression
                            Identifier: 'startsWithPathChecks'
                            BarBarEqualsToken
                            NewExpression
                              Identifier: ' Set'
                        Identifier: 'add'
                      Identifier: 'fileOrDirectoryPath'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' packagePath'
                        CallExpression
                          Identifier: ' parseNodeModuleFromPath'
                          Identifier: 'fileOrDirectoryPath'
                          TrueKeyword
                  IfStatement
                    Identifier: 'packagePath'
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          ParenthesizedExpression
                            BinaryExpression
                              Identifier: 'startsWithPathChecks'
                              BarBarEqualsToken
                              NewExpression
                                Identifier: ' Set'
                          Identifier: 'add'
                        AsExpression
                          Identifier: 'packagePath'
                          TypeReference
                            Identifier: ' Path'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        resolutionHost'
                Identifier: 'scheduleInvalidateResolutionsOfFailedLookupLocations'
      FunctionDeclaration
        Identifier: ' invalidatePackageJsonMap'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' packageJsonMap'
                CallExpression
                  PropertyAccessExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' moduleResolutionCache'
                        Identifier: 'getPackageJsonInfoCache'
                    Identifier: 'getInternalMap'
          IfStatement
            BinaryExpression
              Identifier: 'packageJsonMap'
              AmpersandAmpersandToken
              ParenthesizedExpression
                BinaryExpression
                  BinaryExpression
                    Identifier: 'failedLookupChecks'
                    BarBarToken
                    Identifier: ' startsWithPathChecks'
                  BarBarToken
                  Identifier: ' isInDirectoryChecks'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            packageJsonMap'
                    Identifier: 'forEach'
                  ArrowFunction
                    Parameter
                      Identifier: '_value'
                    Parameter
                      Identifier: ' path'
                    EqualsGreaterThanToken
                    ConditionalExpression
                      CallExpression
                        Identifier: ' isInvalidatedFailedLookup'
                        Identifier: 'path'
                      QuestionToken
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' packageJsonMap'
                          Identifier: 'delete'
                        Identifier: 'path'
                      ColonToken
                      Identifier: ' undefined'
      FunctionDeclaration
        Identifier: ' invalidateResolutionsOfFailedLookupLocations'
        Block
          IfStatement
            Identifier: 'allModuleAndTypeResolutionsAreInvalidated'
            Block
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            affectingPathChecksForFile'
                  EqualsToken
                  Identifier: ' undefined'
              ExpressionStatement
                CallExpression
                  Identifier: '
            invalidatePackageJsonMap'
              IfStatement
                BinaryExpression
                  BinaryExpression
                    BinaryExpression
                      Identifier: 'failedLookupChecks'
                      BarBarToken
                      Identifier: ' startsWithPathChecks'
                    BarBarToken
                    Identifier: ' isInDirectoryChecks'
                  BarBarToken
                  Identifier: ' affectingPathChecks'
                Block
                  ExpressionStatement
                    CallExpression
                      Identifier: '
                invalidateResolutions'
                      Identifier: 'resolvedLibraries'
                      Identifier: ' canInvalidateFailedLookupResolution'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            failedLookupChecks'
                  EqualsToken
                  Identifier: ' undefined'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            startsWithPathChecks'
                  EqualsToken
                  Identifier: ' undefined'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            isInDirectoryChecks'
                  EqualsToken
                  Identifier: ' undefined'
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            affectingPathChecks'
                  EqualsToken
                  Identifier: ' undefined'
              ReturnStatement
                TrueKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' invalidated'
                FalseKeyword
          IfStatement
            Identifier: 'affectingPathChecksForFile'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    CallExpression
                      PropertyAccessExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: '
            resolutionHost'
                            Identifier: 'getCurrentProgram'
                        QuestionDotToken
                        Identifier: 'getSourceFiles'
                    Identifier: 'forEach'
                  ArrowFunction
                    Parameter
                      Identifier: 'f'
                    EqualsGreaterThanToken
                    Block
                      IfStatement
                        CallExpression
                          Identifier: 'some'
                          PropertyAccessExpression
                            Identifier: 'f'
                            Identifier: 'packageJsonLocations'
                          ArrowFunction
                            Parameter
                              Identifier: ' location'
                            EqualsGreaterThanToken
                            CallExpression
                              PropertyAccessExpression
                                NonNullExpression
                                  Identifier: ' affectingPathChecksForFile'
                                Identifier: 'has'
                              Identifier: 'location'
                        Block
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                ParenthesizedExpression
                                  BinaryExpression
                                    Identifier: 'filesWithInvalidatedResolutions'
                                    QuestionQuestionEqualsToken
                                    NewExpression
                                      Identifier: ' Set'
                                Identifier: 'add'
                              PropertyAccessExpression
                                Identifier: 'f'
                                Identifier: 'path'
                          ExpressionStatement
                            BinaryExpression
                              Identifier: '
                    invalidated'
                              EqualsToken
                              TrueKeyword
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            affectingPathChecksForFile'
                  EqualsToken
                  Identifier: ' undefined'
          IfStatement
            BinaryExpression
              BinaryExpression
                BinaryExpression
                  PrefixUnaryExpression
                    Identifier: 'failedLookupChecks'
                  AmpersandAmpersandToken
                  PrefixUnaryExpression
                    Identifier: 'startsWithPathChecks'
                AmpersandAmpersandToken
                PrefixUnaryExpression
                  Identifier: 'isInDirectoryChecks'
              AmpersandAmpersandToken
              PrefixUnaryExpression
                Identifier: 'affectingPathChecks'
            Block
              ReturnStatement
                Identifier: ' invalidated'
          ExpressionStatement
            BinaryExpression
              Identifier: '

        invalidated'
              EqualsToken
              BinaryExpression
                CallExpression
                  Identifier: ' invalidateResolutions'
                  Identifier: 'resolutionsWithFailedLookups'
                  Identifier: ' canInvalidateFailedLookupResolution'
                BarBarToken
                Identifier: ' invalidated'
          ExpressionStatement
            CallExpression
              Identifier: '
        invalidatePackageJsonMap'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        failedLookupChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        startsWithPathChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        isInDirectoryChecks'
              EqualsToken
              Identifier: ' undefined'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        invalidated'
              EqualsToken
              BinaryExpression
                CallExpression
                  Identifier: ' invalidateResolutions'
                  Identifier: 'resolutionsWithOnlyAffectingLocations'
                  Identifier: ' canInvalidatedFailedLookupResolutionWithAffectingLocation'
                BarBarToken
                Identifier: ' invalidated'
          ExpressionStatement
            BinaryExpression
              Identifier: '
        affectingPathChecks'
              EqualsToken
              Identifier: ' undefined'
          ReturnStatement
            Identifier: ' invalidated'
      FunctionDeclaration
        Identifier: ' canInvalidateFailedLookupResolution'
        Parameter
          Identifier: 'resolution'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        Block
          IfStatement
            CallExpression
              Identifier: 'canInvalidatedFailedLookupResolutionWithAffectingLocation'
              Identifier: 'resolution'
            ReturnStatement
              TrueKeyword
          IfStatement
            BinaryExpression
              BinaryExpression
                PrefixUnaryExpression
                  Identifier: 'failedLookupChecks'
                AmpersandAmpersandToken
                PrefixUnaryExpression
                  Identifier: 'startsWithPathChecks'
              AmpersandAmpersandToken
              PrefixUnaryExpression
                Identifier: 'isInDirectoryChecks'
            ReturnStatement
              FalseKeyword
          ReturnStatement
            BinaryExpression
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' resolution'
                    Identifier: 'failedLookupLocations'
                  QuestionDotToken
                  Identifier: 'some'
                ArrowFunction
                  Parameter
                    Identifier: 'location'
                  EqualsGreaterThanToken
                  CallExpression
                    Identifier: ' isInvalidatedFailedLookup'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'resolutionHost'
                        Identifier: 'toPath'
                      Identifier: 'location'
              BarBarToken
              ParenthesizedExpression
                BinaryExpression
                  PrefixUnaryExpression
                    PrefixUnaryExpression
                      PropertyAccessExpression
                        Identifier: 'resolution'
                        Identifier: 'alternateResult'
                  AmpersandAmpersandToken
                  CallExpression
                    Identifier: ' isInvalidatedFailedLookup'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'resolutionHost'
                        Identifier: 'toPath'
                      PropertyAccessExpression
                        Identifier: 'resolution'
                        Identifier: 'alternateResult'
      FunctionDeclaration
        Identifier: ' isInvalidatedFailedLookup'
        Parameter
          Identifier: 'locationPath'
          TypeReference
            Identifier: ' Path'
        Block
          ReturnStatement
            BinaryExpression
              BinaryExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' failedLookupChecks'
                    QuestionDotToken
                    Identifier: 'has'
                  Identifier: 'locationPath'
                BarBarToken
                CallExpression
                  Identifier: '
            firstDefinedIterator'
                  BinaryExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'startsWithPathChecks'
                        QuestionDotToken
                        Identifier: 'keys'
                    BarBarToken
                    ArrayLiteralExpression
                  ArrowFunction
                    Parameter
                      Identifier: ' fileOrDirectoryPath'
                    EqualsGreaterThanToken
                    ConditionalExpression
                      CallExpression
                        Identifier: ' startsWith'
                        Identifier: 'locationPath'
                        Identifier: ' fileOrDirectoryPath'
                      QuestionToken
                      TrueKeyword
                      ColonToken
                      Identifier: ' undefined'
              BarBarToken
              CallExpression
                Identifier: '
            firstDefinedIterator'
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'isInDirectoryChecks'
                      QuestionDotToken
                      Identifier: 'keys'
                  BarBarToken
                  ArrayLiteralExpression
                ArrowFunction
                  Parameter
                    Identifier: ' dirPath'
                  EqualsGreaterThanToken
                  ConditionalExpression
                    BinaryExpression
                      BinaryExpression
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: '
                locationPath'
                            Identifier: 'length'
                          GreaterThanToken
                          PropertyAccessExpression
                            Identifier: ' dirPath'
                            Identifier: 'length'
                        AmpersandAmpersandToken
                        CallExpression
                          Identifier: '
                    startsWith'
                          Identifier: 'locationPath'
                          Identifier: ' dirPath'
                      AmpersandAmpersandToken
                      ParenthesizedExpression
                        BinaryExpression
                          CallExpression
                            Identifier: 'isDiskPathRoot'
                            Identifier: 'dirPath'
                          BarBarToken
                          BinaryExpression
                            ElementAccessExpression
                              Identifier: ' locationPath'
                              PropertyAccessExpression
                                Identifier: 'dirPath'
                                Identifier: 'length'
                            EqualsEqualsEqualsToken
                            Identifier: ' directorySeparator'
                    QuestionToken
                    TrueKeyword
                    ColonToken
                    Identifier: ' undefined'
      FunctionDeclaration
        Identifier: ' canInvalidatedFailedLookupResolutionWithAffectingLocation'
        Parameter
          Identifier: 'resolution'
          TypeReference
            Identifier: ' ResolutionWithFailedLookupLocations'
        Block
          ReturnStatement
            BinaryExpression
              PrefixUnaryExpression
                PrefixUnaryExpression
                  Identifier: 'affectingPathChecks'
              AmpersandAmpersandToken
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' resolution'
                    Identifier: 'affectingLocations'
                  QuestionDotToken
                  Identifier: 'some'
                ArrowFunction
                  Parameter
                    Identifier: 'location'
                  EqualsGreaterThanToken
                  CallExpression
                    PropertyAccessExpression
                      NonNullExpression
                        Identifier: ' affectingPathChecks'
                      Identifier: 'has'
                    Identifier: 'location'
      FunctionDeclaration
        Identifier: ' closeTypeRootsWatch'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        clearMap'
              Identifier: 'typeRootsWatches'
              Identifier: ' closeFileWatcher'
      FunctionDeclaration
        Identifier: ' createTypeRootsWatch'
        Parameter
          Identifier: 'typeRoot'
          StringKeyword
        TypeReference
          Identifier: ' FileWatcher'
        Block
          ReturnStatement
            ConditionalExpression
              CallExpression
                Identifier: ' canWatchTypeRootPath'
                Identifier: 'typeRoot'
              QuestionToken
              CallExpression
                PropertyAccessExpression
                  Identifier: '
            resolutionHost'
                  Identifier: 'watchTypeRootsDirectory'
                Identifier: 'typeRoot'
                ArrowFunction
                  Parameter
                    Identifier: ' fileOrDirectory'
                  EqualsGreaterThanToken
                  Block
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' fileOrDirectoryPath'
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' resolutionHost'
                              Identifier: 'toPath'
                            Identifier: 'fileOrDirectory'
                    IfStatement
                      Identifier: 'cachedDirectoryStructureHost'
                      Block
                        ExpressionStatement
                          CallExpression
                            PropertyAccessExpression
                              Identifier: '
                    // Since the file existence changed, update the sourceFiles cache
                    cachedDirectoryStructureHost'
                              Identifier: 'addOrDeleteFileOrDirectory'
                            Identifier: 'fileOrDirectory'
                            Identifier: ' fileOrDirectoryPath'
                    ExpressionStatement
                      BinaryExpression
                        Identifier: '

                // For now just recompile
                // We could potentially store more data here about whether it was/would be really be used or not
                // and with that determine to trigger compilation but for now this is enough
                hasChangedAutomaticTypeDirectiveNames'
                        EqualsToken
                        TrueKeyword
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          Identifier: '
                resolutionHost'
                          Identifier: 'onChangedAutomaticTypeDirectiveNames'
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' dirPath'
                          CallExpression
                            Identifier: ' getDirectoryToWatchFailedLookupLocationFromTypeRoot'
                            Identifier: '
                    typeRoot'
                            CallExpression
                              PropertyAccessExpression
                                Identifier: '
                    resolutionHost'
                                Identifier: 'toPath'
                              Identifier: 'typeRoot'
                            Identifier: '
                    rootPath'
                            Identifier: '
                    rootPathComponents'
                            Identifier: '
                    isRootWatchable'
                            Identifier: '
                    getCurrentDirectory'
                            PropertyAccessExpression
                              Identifier: '
                    resolutionHost'
                              Identifier: 'preferNonRecursiveWatch'
                            ArrowFunction
                              Parameter
                                Identifier: '
                    dirPath'
                              EqualsGreaterThanToken
                              BinaryExpression
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' directoryWatchesOfFailedLookups'
                                    Identifier: 'has'
                                  Identifier: 'dirPath'
                                BarBarToken
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' dirPathToSymlinkPackageRefCount'
                                    Identifier: 'has'
                                  Identifier: 'dirPath'
                    IfStatement
                      Identifier: 'dirPath'
                      Block
                        ExpressionStatement
                          CallExpression
                            Identifier: '
                    scheduleInvalidateResolutionOfFailedLookupLocation'
                            Identifier: 'fileOrDirectoryPath'
                            BinaryExpression
                              Identifier: ' dirPath'
                              EqualsEqualsEqualsToken
                              Identifier: ' fileOrDirectoryPath'
                PropertyAccessExpression
                  Identifier: ' WatchDirectoryFlags'
                  Identifier: 'Recursive'
              ColonToken
              Identifier: '
            noopFileWatcher'
      FunctionDeclaration
        Identifier: ' updateTypeRootsWatch'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' options'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' resolutionHost'
                    Identifier: 'getCompilationSettings'
          IfStatement
            PropertyAccessExpression
              Identifier: 'options'
              Identifier: 'types'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            // No need to do any watch since resolution cache is going to handle the failed lookups
            // for the types added by this
            closeTypeRootsWatch'
              ReturnStatement
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' typeRoots'
                CallExpression
                  Identifier: ' getEffectiveTypeRoots'
                  Identifier: 'options'
                  ObjectLiteralExpression
                    ShorthandPropertyAssignment
                      Identifier: ' getCurrentDirectory'
          IfStatement
            Identifier: 'typeRoots'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            mutateMap'
                  Identifier: '
                typeRootsWatches'
                  NewExpression
                    Identifier: ' Set'
                    Identifier: 'typeRoots'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: '
                    createNewValue'
                      Identifier: ' createTypeRootsWatch'
                    PropertyAssignment
                      Identifier: '
                    onDeleteValue'
                      Identifier: ' closeFileWatcher'
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
            closeTypeRootsWatch'
      FunctionDeclaration
        Identifier: ' canWatchTypeRootPath'
        Parameter
          Identifier: 'typeRoot'
          StringKeyword
        Block
          IfStatement
            PropertyAccessExpression
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'getCompilationSettings'
              Identifier: 'typeRoots'
            ReturnStatement
              TrueKeyword
          ReturnStatement
            CallExpression
              Identifier: ' canWatchAtTypes'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'resolutionHost'
                  Identifier: 'toPath'
                Identifier: 'typeRoot'
  FunctionDeclaration
    Identifier: ' resolutionIsSymlink'
    Parameter
      Identifier: 'resolution'
      TypeReference
        Identifier: ' ResolutionWithFailedLookupLocations'
    Block
      ReturnStatement
        PrefixUnaryExpression
          PrefixUnaryExpression
            ParenthesizedExpression
              BinaryExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ParenthesizedExpression
                      AsExpression
                        Identifier: 'resolution'
                        TypeReference
                          Identifier: ' ResolvedModuleWithFailedLookupLocations'
                    Identifier: 'resolvedModule'
                  QuestionDotToken
                  Identifier: 'originalPath'
                BarBarToken
                PropertyAccessExpression
                  PropertyAccessExpression
                    ParenthesizedExpression
                      AsExpression
                        Identifier: 'resolution'
                        TypeReference
                          Identifier: ' ResolvedTypeReferenceDirectiveWithFailedLookupLocations'
                    Identifier: 'resolvedTypeReferenceDirective'
                  QuestionDotToken
                  Identifier: 'originalPath'
