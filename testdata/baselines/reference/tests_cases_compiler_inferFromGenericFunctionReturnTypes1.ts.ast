SourceFile
  ClassDeclaration
    Identifier: ' SetOf'
    TypeParameter
      Identifier: 'A'
    PropertyDeclaration
      Identifier: '
  _store'
      ArrayType
        TypeReference
          Identifier: ' A'
    MethodDeclaration
      Identifier: '

  add'
      Parameter
        Identifier: 'a'
        TypeReference
          Identifier: ' A'
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: '_store'
              Identifier: 'push'
            Identifier: 'a'
    MethodDeclaration
      Identifier: '

  transform'
      TypeParameter
        Identifier: 'B'
      Parameter
        Identifier: 'transformer'
        FunctionType
          Parameter
            Identifier: 'a'
            TypeReference
              Identifier: ' SetOf'
              TypeReference
                Identifier: 'A'
          TypeReference
            Identifier: ' SetOf'
            TypeReference
              Identifier: 'B'
      TypeReference
        Identifier: ' SetOf'
        TypeReference
          Identifier: 'B'
      Block
        ReturnStatement
          CallExpression
            Identifier: ' transformer'
            ThisKeyword
    MethodDeclaration
      Identifier: '

  forEach'
      Parameter
        Identifier: 'fn'
        FunctionType
          Parameter
            Identifier: 'a'
            TypeReference
              Identifier: ' A'
          Parameter
            Identifier: ' index'
            NumberKeyword
          VoidKeyword
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: '_store'
              Identifier: 'forEach'
            ArrowFunction
              Parameter
                Identifier: 'a'
              Parameter
                Identifier: ' i'
              EqualsGreaterThanToken
              CallExpression
                Identifier: ' fn'
                Identifier: 'a'
                Identifier: ' i'
  FunctionDeclaration
    Identifier: ' compose'
    TypeParameter
      Identifier: 'A'
    TypeParameter
      Identifier: ' B'
    TypeParameter
      Identifier: ' C'
    TypeParameter
      Identifier: ' D'
    TypeParameter
      Identifier: ' E'
    Parameter
      Identifier: '
  fnA'
      FunctionType
        Parameter
          Identifier: 'a'
          TypeReference
            Identifier: ' SetOf'
            TypeReference
              Identifier: 'A'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'B'
    Parameter
      Identifier: ' 
  fnB'
      FunctionType
        Parameter
          Identifier: 'b'
          TypeReference
            Identifier: ' SetOf'
            TypeReference
              Identifier: 'B'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'C'
    Parameter
      Identifier: ' 
  fnC'
      FunctionType
        Parameter
          Identifier: 'c'
          TypeReference
            Identifier: ' SetOf'
            TypeReference
              Identifier: 'C'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'D'
    Parameter
      Identifier: '
  fnD'
      FunctionType
        Parameter
          Identifier: 'c'
          TypeReference
            Identifier: ' SetOf'
            TypeReference
              Identifier: 'D'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'E'
    FunctionType
      Parameter
        Identifier: 'x'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'A'
      TypeReference
        Identifier: ' SetOf'
        TypeReference
          Identifier: 'E'
  FunctionDeclaration
    Identifier: ' compose'
    TypeParameter
      Identifier: 'T'
    Parameter
      DotDotDotToken
      Identifier: 'fns'
      ArrayType
        ParenthesizedType
          FunctionType
            Parameter
              Identifier: 'x'
              TypeReference
                Identifier: ' T'
            TypeReference
              Identifier: ' T'
    FunctionType
      Parameter
        Identifier: 'x'
        TypeReference
          Identifier: ' T'
      TypeReference
        Identifier: ' T'
    Block
      ReturnStatement
        ArrowFunction
          Parameter
            Identifier: 'x'
            TypeReference
              Identifier: ' T'
          EqualsGreaterThanToken
          CallExpression
            PropertyAccessExpression
              Identifier: ' fns'
              Identifier: 'reduce'
            ArrowFunction
              Parameter
                Identifier: 'prev'
              Parameter
                Identifier: ' fn'
              EqualsGreaterThanToken
              CallExpression
                Identifier: ' fn'
                Identifier: 'prev'
            Identifier: ' x'
  FunctionDeclaration
    Identifier: ' map'
    TypeParameter
      Identifier: 'A'
    TypeParameter
      Identifier: ' B'
    Parameter
      Identifier: 'fn'
      FunctionType
        Parameter
          Identifier: 'a'
          TypeReference
            Identifier: ' A'
        TypeReference
          Identifier: ' B'
    FunctionType
      Parameter
        Identifier: 's'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'A'
      TypeReference
        Identifier: ' SetOf'
        TypeReference
          Identifier: 'B'
    Block
      ReturnStatement
        ArrowFunction
          Parameter
            Identifier: 'a'
            TypeReference
              Identifier: ' SetOf'
              TypeReference
                Identifier: 'A'
          EqualsGreaterThanToken
          Block
            VariableStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' b'
                  TypeReference
                    Identifier: ' SetOf'
                    TypeReference
                      Identifier: 'B'
                  NewExpression
                    Identifier: ' SetOf'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: '
    a'
                  Identifier: 'forEach'
                ArrowFunction
                  Parameter
                    Identifier: 'x'
                  EqualsGreaterThanToken
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' b'
                      Identifier: 'add'
                    CallExpression
                      Identifier: 'fn'
                      Identifier: 'x'
            ReturnStatement
              Identifier: ' b'
  FunctionDeclaration
    Identifier: ' filter'
    TypeParameter
      Identifier: 'A'
    Parameter
      Identifier: 'predicate'
      FunctionType
        Parameter
          Identifier: 'a'
          TypeReference
            Identifier: ' A'
        BooleanKeyword
    FunctionType
      Parameter
        Identifier: 's'
        TypeReference
          Identifier: ' SetOf'
          TypeReference
            Identifier: 'A'
      TypeReference
        Identifier: ' SetOf'
        TypeReference
          Identifier: 'A'
    Block
      ReturnStatement
        ArrowFunction
          Parameter
            Identifier: 'a'
            TypeReference
              Identifier: ' SetOf'
              TypeReference
                Identifier: 'A'
          EqualsGreaterThanToken
          Block
            VariableStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' result'
                  NewExpression
                    Identifier: ' SetOf'
                    TypeReference
                      Identifier: 'A'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: '
    a'
                  Identifier: 'forEach'
                ArrowFunction
                  Parameter
                    Identifier: 'x'
                  EqualsGreaterThanToken
                  Block
                    IfStatement
                      CallExpression
                        Identifier: 'predicate'
                        Identifier: 'x'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' result'
                            Identifier: 'add'
                          Identifier: 'x'
            ReturnStatement
              Identifier: ' result'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' testSet'
        NewExpression
          Identifier: ' SetOf'
          NumberKeyword
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '
testSet'
        Identifier: 'add'
      NumericLiteral
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '
testSet'
        Identifier: 'add'
      NumericLiteral
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '
testSet'
        Identifier: 'add'
      NumericLiteral
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '

testSet'
        Identifier: 'transform'
      CallExpression
        Identifier: '
  compose'
        CallExpression
          Identifier: '
    filter'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            BinaryExpression
              BinaryExpression
                Identifier: ' x'
                PercentToken
                NumericLiteral
              EqualsEqualsEqualsToken
              NumericLiteral
        CallExpression
          Identifier: '
    map'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            BinaryExpression
              Identifier: ' x'
              PlusToken
              Identifier: ' x'
        CallExpression
          Identifier: '
    map'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            BinaryExpression
              Identifier: ' x'
              PlusToken
              StringLiteral
        CallExpression
          Identifier: '
    map'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' x'
                Identifier: 'toUpperCase'
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '

testSet'
        Identifier: 'transform'
      CallExpression
        Identifier: '
  compose'
        CallExpression
          Identifier: '
    filter'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            BinaryExpression
              BinaryExpression
                Identifier: ' x'
                PercentToken
                NumericLiteral
              EqualsEqualsEqualsToken
              NumericLiteral
        CallExpression
          Identifier: '
    map'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            BinaryExpression
              Identifier: ' x'
              PlusToken
              Identifier: ' x'
        CallExpression
          Identifier: '
    map'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            NumericLiteral
        CallExpression
          Identifier: '  // Whoops a bug
    map'
          ArrowFunction
            Parameter
              Identifier: 'x'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' x'
                Identifier: 'toUpperCase'
