SourceFile
  ClassDeclaration
    Identifier: ' NumClass'
    TypeParameter
      Identifier: 'T'
      NumberKeyword
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' value'
      ExclamationToken
      TypeReference
        Identifier: ' T'
    MethodDeclaration
      PublicKeyword
      Identifier: ' get'
      TypeReference
        Identifier: ' T'
      Block
        ReturnStatement
          PropertyAccessExpression
            ThisKeyword
            Identifier: 'value'
    MethodDeclaration
      PublicKeyword
      Identifier: ' numExclusive'
      Block
  ClassDeclaration
    Identifier: ' StrClass'
    TypeParameter
      Identifier: 'T'
      StringKeyword
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' value'
      ExclamationToken
      TypeReference
        Identifier: ' T'
    MethodDeclaration
      PublicKeyword
      Identifier: ' get'
      TypeReference
        Identifier: ' T'
      Block
        ReturnStatement
          PropertyAccessExpression
            ThisKeyword
            Identifier: 'value'
    MethodDeclaration
      PublicKeyword
      Identifier: ' strExclusive'
      Block
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' isNumClass'
        ArrowFunction
          TypeParameter
            Identifier: 'Item'
            UnionType
              TypeReference
                Identifier: ' NumClass'
                NumberKeyword
              TypeReference
                Identifier: ' StrClass'
                StringKeyword
          Parameter
            Identifier: '
        item'
            TypeReference
              Identifier: ' Item'
          TypePredicate
            Identifier: ' item'
            TypeReference
              Identifier: ' Extract'
              TypeReference
                Identifier: 'Item'
              TypeReference
                Identifier: ' NumClass'
                AnyKeyword
          EqualsGreaterThanToken
          Block
            ReturnStatement
              ParenthesizedExpression
                BinaryExpression
                  Identifier: 'item'
                  InstanceOfKeyword
                  Identifier: ' NumClass'
  ClassDeclaration
    Identifier: ' SimpleStore'
    TypeParameter
      Identifier: 'Entries'
      TypeLiteral
        IndexSignature
          Parameter
            Identifier: 'index'
            StringKeyword
          UnionType
            TypeReference
              Identifier: ' NumClass'
              NumberKeyword
            TypeReference
              Identifier: ' StrClass'
              StringKeyword
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' entries'
      AsExpression
        ObjectLiteralExpression
        TypeReference
          Identifier: ' Entries'
    MethodDeclaration
      PublicKeyword
      Identifier: ' get'
      TypeParameter
        Identifier: 'EntryId'
        TypeOperator
          TypeReference
            Identifier: ' Entries'
      Parameter
        Identifier: 'entryId'
        TypeReference
          Identifier: ' EntryId'
      IndexedAccessType
        TypeReference
          Identifier: ' Entries'
        TypeReference
          Identifier: 'EntryId'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' entry'
              ElementAccessExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'entries'
                Identifier: 'entryId'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '

        entry'
              Identifier: 'numExclusive'
        IfStatement
          CallExpression
            Identifier: 'isNumClass'
            Identifier: 'entry'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: '
            entry'
                  Identifier: 'numExclusive'
            ReturnStatement
              Identifier: ' entry'
        ReturnStatement
          Identifier: ' entry'
  TypeAliasDeclaration
    Identifier: ' Slice'
    TypeLiteral
      IndexSignature
        Parameter
          Identifier: 'index'
          StringKeyword
        UnionType
          TypeReference
            Identifier: ' NumClass'
            NumberKeyword
          TypeReference
            Identifier: ' StrClass'
            StringKeyword
  ClassDeclaration
    Identifier: ' ComplexStore'
    TypeParameter
      Identifier: 'Slices'
      TypeLiteral
        IndexSignature
          Parameter
            Identifier: 'index'
            StringKeyword
          TypeReference
            Identifier: ' Slice'
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' slices'
      AsExpression
        ObjectLiteralExpression
        TypeReference
          Identifier: ' Slices'
    MethodDeclaration
      PublicKeyword
      Identifier: ' get'
      TypeParameter
        Identifier: 'SliceId'
        TypeOperator
          TypeReference
            Identifier: ' Slices'
      TypeParameter
        Identifier: ' SliceKey'
        TypeOperator
          IndexedAccessType
            TypeReference
              Identifier: ' Slices'
            TypeReference
              Identifier: 'SliceId'
      Parameter
        Identifier: '
        sliceId'
        TypeReference
          Identifier: ' SliceId'
      Parameter
        Identifier: ' sliceKey'
        TypeReference
          Identifier: ' SliceKey'
      IndexedAccessType
        IndexedAccessType
          TypeReference
            Identifier: ' Slices'
          TypeReference
            Identifier: 'SliceId'
        TypeReference
          Identifier: 'SliceKey'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' item'
              ElementAccessExpression
                ElementAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'slices'
                  Identifier: 'sliceId'
                Identifier: 'sliceKey'
        IfStatement
          CallExpression
            Identifier: 'isNumClass'
            Identifier: 'item'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: '
            item'
                  Identifier: 'numExclusive'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '

        item'
              Identifier: 'get'
        ReturnStatement
          Identifier: ' item'
    MethodDeclaration
      PublicKeyword
      Identifier: ' get2'
      TypeParameter
        Identifier: 'SliceId'
        TypeOperator
          TypeReference
            Identifier: ' Slices'
      TypeParameter
        Identifier: ' SliceKey'
        TypeOperator
          IndexedAccessType
            TypeReference
              Identifier: ' Slices'
            TypeReference
              Identifier: 'SliceId'
      Parameter
        Identifier: '
        sliceId'
        TypeReference
          Identifier: ' SliceId'
      Parameter
        Identifier: ' sliceKey'
        TypeReference
          Identifier: ' SliceKey'
      IndexedAccessType
        IndexedAccessType
          TypeReference
            Identifier: ' Slices'
          TypeReference
            Identifier: 'SliceId'
        TypeReference
          Identifier: 'SliceKey'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' item'
              ElementAccessExpression
                ElementAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'slices'
                  Identifier: 'sliceId'
                Identifier: 'sliceKey'
        IfStatement
          CallExpression
            Identifier: 'isNumClass'
            Identifier: 'item'
          Block
            ReturnStatement
              Identifier: ' item'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
        // it seems like the compiler asumes the above condition is always
        // truthy

        item'
              Identifier: 'get'
        ReturnStatement
          Identifier: ' item'
  InterfaceDeclaration
    Identifier: ' BuilderProgram'
    MethodSignature
      Identifier: '
    getProgram'
      TypeReference
        Identifier: ' Program'
  InterfaceDeclaration
    Identifier: ' Program'
    PropertySignature
      Identifier: '
    state'
      AnyKeyword
  FunctionDeclaration
    DeclareKeyword
    Identifier: ' isBuilderProgram'
    TypeParameter
      Identifier: 'T'
      TypeReference
        Identifier: ' BuilderProgram'
    Parameter
      Identifier: 'program'
      UnionType
        TypeReference
          Identifier: ' Program'
        TypeReference
          Identifier: ' T'
    TypePredicate
      Identifier: ' program'
      TypeReference
        Identifier: ' T'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' listFiles'
    TypeParameter
      Identifier: 'T'
      TypeReference
        Identifier: ' BuilderProgram'
    Parameter
      Identifier: 'program'
      UnionType
        TypeReference
          Identifier: ' Program'
        TypeReference
          Identifier: ' T'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' x'
            TypeReference
              Identifier: ' Program'
            ConditionalExpression
              CallExpression
                Identifier: ' isBuilderProgram'
                Identifier: 'program'
              QuestionToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' program'
                  Identifier: 'getProgram'
              ColonToken
              Identifier: ' program'
