SourceFile
  FunctionDeclaration
    Identifier: ' foo'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            PropertyAccessExpression
              Identifier: ' x'
              Identifier: 'length'
        Block
          ReturnStatement
            PostfixUnaryExpression
              Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo2'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              NumericLiteral
          ReturnStatement
            Identifier: ' x'
        Block
          ReturnStatement
            Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo3'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              StringLiteral
          ReturnStatement
            Identifier: ' x'
        Block
          ReturnStatement
            Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo4'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            Identifier: ' x'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              NumericLiteral
          ReturnStatement
            Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo5'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            Identifier: ' x'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              StringLiteral
          ReturnStatement
            Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo6'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              NumericLiteral
          ReturnStatement
            Identifier: ' x'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              StringLiteral
          ReturnStatement
            Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo7'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
        BooleanKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            BinaryExpression
              Identifier: ' x'
              EqualsEqualsEqualsToken
              StringLiteral
        IfStatement
          BinaryExpression
            TypeOfExpression
              Identifier: ' x'
            EqualsEqualsEqualsToken
            StringLiteral
          Block
            ReturnStatement
              Identifier: ' x'
          Block
            ReturnStatement
              BinaryExpression
                Identifier: ' x'
                EqualsEqualsToken
                NumericLiteral
  FunctionDeclaration
    Identifier: ' foo8'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
        BooleanKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            BinaryExpression
              Identifier: ' x'
              EqualsEqualsEqualsToken
              StringLiteral
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' b'
                UnionType
                  NumberKeyword
                  BooleanKeyword
                Identifier: ' x'
          IfStatement
            BinaryExpression
              TypeOfExpression
                Identifier: ' x'
              EqualsEqualsEqualsToken
              StringLiteral
            Block
              ReturnStatement
                Identifier: ' x'
            Block
              ReturnStatement
                BinaryExpression
                  Identifier: ' x'
                  EqualsEqualsToken
                  NumericLiteral
  FunctionDeclaration
    Identifier: ' foo9'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' y'
            NumericLiteral
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        // usage of x or assignment to separate variable shouldn't cause narrowing of type to stop
        y'
              EqualsToken
              PropertyAccessExpression
                Identifier: ' x'
                Identifier: 'length'
          ReturnStatement
            BinaryExpression
              Identifier: ' x'
              EqualsEqualsEqualsToken
              StringLiteral
        Block
          ReturnStatement
            BinaryExpression
              Identifier: ' x'
              EqualsEqualsToken
              NumericLiteral
  FunctionDeclaration
    Identifier: ' foo10'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
        BooleanKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            BinaryExpression
              Identifier: ' x'
              EqualsEqualsEqualsToken
              StringLiteral
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' y'
                UnionType
                  BooleanKeyword
                  StringKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' b'
                Identifier: ' x'
          ReturnStatement
            ConditionalExpression
              BinaryExpression
                TypeOfExpression
                  Identifier: ' x'
                EqualsEqualsEqualsToken
                StringLiteral
              QuestionToken
              BinaryExpression
                Identifier: ' x'
                EqualsEqualsEqualsToken
                NumericLiteral
              ColonToken
              Identifier: ' x'
  FunctionDeclaration
    Identifier: ' foo11'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
        BooleanKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            Identifier: ' x'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' y'
                UnionType
                  NumberKeyword
                  BooleanKeyword
                  StringKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' b'
                Identifier: ' x'
          ReturnStatement
            ConditionalExpression
              BinaryExpression
                TypeOfExpression
                  Identifier: ' x'
                EqualsEqualsEqualsToken
                StringLiteral
              QuestionToken
              ParenthesizedExpression
                BinaryExpression
                  Identifier: '
            // change value of x
            x'
                  EqualsToken
                  BinaryExpression
                    NumericLiteral
                    AmpersandAmpersandToken
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' x'
                        Identifier: 'toString'
              ColonToken
              ParenthesizedExpression
                BinaryExpression
                  Identifier: '
            // do not change value
            y'
                  EqualsToken
                  BinaryExpression
                    Identifier: ' x'
                    AmpersandAmpersandToken
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' x'
                        Identifier: 'toString'
  FunctionDeclaration
    Identifier: ' foo12'
    Parameter
      Identifier: 'x'
      UnionType
        NumberKeyword
        StringKeyword
        BooleanKeyword
    Block
      IfStatement
        BinaryExpression
          TypeOfExpression
            Identifier: ' x'
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          ReturnStatement
            CallExpression
              PropertyAccessExpression
                Identifier: ' x'
                Identifier: 'toString'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        x'
              EqualsToken
              NumericLiteral
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' b'
                Identifier: ' x'
          ReturnStatement
            ConditionalExpression
              BinaryExpression
                TypeOfExpression
                  Identifier: ' x'
                EqualsEqualsEqualsToken
                StringLiteral
              QuestionToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' x'
                  Identifier: 'toString'
              ColonToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' x'
                  Identifier: 'toString'
