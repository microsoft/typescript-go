SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    ApplicableRefactorInfo'
        ImportSpecifier
          Identifier: '
    codefix'
        ImportSpecifier
          Identifier: '
    createFutureSourceFile'
        ImportSpecifier
          Identifier: '
    Debug'
        ImportSpecifier
          Identifier: '
    Diagnostics'
        ImportSpecifier
          Identifier: '
    emptyArray'
        ImportSpecifier
          Identifier: '
    findAncestor'
        ImportSpecifier
          Identifier: '
    getLineAndCharacterOfPosition'
        ImportSpecifier
          Identifier: '
    getLocaleSpecificMessage'
        ImportSpecifier
          Identifier: '
    getTokenAtPosition'
        ImportSpecifier
          Identifier: '
    hostGetCanonicalFileName'
        ImportSpecifier
          Identifier: '
    isBlockLike'
        ImportSpecifier
          Identifier: '
    isSourceFile'
        ImportSpecifier
          Identifier: '
    LanguageServiceHost'
        ImportSpecifier
          Identifier: '
    last'
        ImportSpecifier
          Identifier: '
    ModuleKind'
        ImportSpecifier
          Identifier: '
    Program'
        ImportSpecifier
          Identifier: '
    RefactorContext'
        ImportSpecifier
          Identifier: '
    RefactorEditInfo'
        ImportSpecifier
          Identifier: '
    SourceFile'
        ImportSpecifier
          Identifier: '
    textChanges'
        ImportSpecifier
          Identifier: '
    UserPreferences'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    addNewFileToTsconfig'
        ImportSpecifier
          Identifier: '
    createNewFileName'
        ImportSpecifier
          Identifier: '
    getNewStatementsAndRemoveFromOldFile'
        ImportSpecifier
          Identifier: '
    getStatementsToMove'
        ImportSpecifier
          Identifier: '
    getUsageInfo'
        ImportSpecifier
          Identifier: '
    registerRefactor'
        ImportSpecifier
          Identifier: '
    ToMove'
    StringLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' refactorName'
        StringLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' description'
        CallExpression
          Identifier: ' getLocaleSpecificMessage'
          PropertyAccessExpression
            Identifier: 'Diagnostics'
            Identifier: 'Move_to_a_new_file'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' moveToNewFileAction'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
    name'
            Identifier: ' refactorName'
          ShorthandPropertyAssignment
            Identifier: '
    description'
          PropertyAssignment
            Identifier: '
    kind'
            StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '
registerRefactor'
      Identifier: 'refactorName'
      ObjectLiteralExpression
        PropertyAssignment
          Identifier: '
    kinds'
          ArrayLiteralExpression
            PropertyAccessExpression
              Identifier: 'moveToNewFileAction'
              Identifier: 'kind'
        PropertyAssignment
          Identifier: '
    getAvailableActions'
          FunctionExpression
            Identifier: ' getRefactorActionsToMoveToNewFile'
            Parameter
              Identifier: 'context'
            TypeOperator
              ArrayType
                TypeReference
                  Identifier: ' ApplicableRefactorInfo'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' statements'
                    CallExpression
                      Identifier: ' getStatementsToMove'
                      Identifier: 'context'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' file'
                    PropertyAccessExpression
                      Identifier: ' context'
                      Identifier: 'file'
              IfStatement
                BinaryExpression
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: 'context'
                      Identifier: 'triggerReason'
                    EqualsEqualsEqualsToken
                    StringLiteral
                  AmpersandAmpersandToken
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: ' context'
                      Identifier: 'endPosition'
                    ExclamationEqualsEqualsToken
                    Identifier: ' undefined'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' startNodeAncestor'
                        CallExpression
                          Identifier: ' findAncestor'
                          CallExpression
                            Identifier: 'getTokenAtPosition'
                            Identifier: 'file'
                            PropertyAccessExpression
                              Identifier: ' context'
                              Identifier: 'startPosition'
                          Identifier: ' isBlockLike'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' endNodeAncestor'
                        CallExpression
                          Identifier: ' findAncestor'
                          CallExpression
                            Identifier: 'getTokenAtPosition'
                            Identifier: 'file'
                            PropertyAccessExpression
                              Identifier: ' context'
                              Identifier: 'endPosition'
                          Identifier: ' isBlockLike'
                  IfStatement
                    BinaryExpression
                      BinaryExpression
                        BinaryExpression
                          Identifier: 'startNodeAncestor'
                          AmpersandAmpersandToken
                          PrefixUnaryExpression
                            CallExpression
                              Identifier: 'isSourceFile'
                              Identifier: 'startNodeAncestor'
                        AmpersandAmpersandToken
                        Identifier: ' endNodeAncestor'
                      AmpersandAmpersandToken
                      PrefixUnaryExpression
                        CallExpression
                          Identifier: 'isSourceFile'
                          Identifier: 'endNodeAncestor'
                    Block
                      ReturnStatement
                        Identifier: ' emptyArray'
              IfStatement
                BinaryExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: 'context'
                      Identifier: 'preferences'
                    Identifier: 'allowTextChangesInNewFiles'
                  AmpersandAmpersandToken
                  Identifier: ' statements'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' file'
                        PropertyAccessExpression
                          Identifier: ' context'
                          Identifier: 'file'
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' affectedTextRange'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
                start'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' line'
                                PropertyAccessExpression
                                  CallExpression
                                    Identifier: ' getLineAndCharacterOfPosition'
                                    Identifier: 'file'
                                    CallExpression
                                      PropertyAccessExpression
                                        ElementAccessExpression
                                          PropertyAccessExpression
                                            Identifier: ' statements'
                                            Identifier: 'all'
                                          NumericLiteral
                                        Identifier: 'getStart'
                                      Identifier: 'file'
                                  Identifier: 'line'
                              PropertyAssignment
                                Identifier: ' offset'
                                PropertyAccessExpression
                                  CallExpression
                                    Identifier: ' getLineAndCharacterOfPosition'
                                    Identifier: 'file'
                                    CallExpression
                                      PropertyAccessExpression
                                        ElementAccessExpression
                                          PropertyAccessExpression
                                            Identifier: ' statements'
                                            Identifier: 'all'
                                          NumericLiteral
                                        Identifier: 'getStart'
                                      Identifier: 'file'
                                  Identifier: 'character'
                          PropertyAssignment
                            Identifier: '
                end'
                            ObjectLiteralExpression
                              PropertyAssignment
                                Identifier: ' line'
                                PropertyAccessExpression
                                  CallExpression
                                    Identifier: ' getLineAndCharacterOfPosition'
                                    Identifier: 'file'
                                    PropertyAccessExpression
                                      CallExpression
                                        Identifier: ' last'
                                        PropertyAccessExpression
                                          Identifier: 'statements'
                                          Identifier: 'all'
                                      Identifier: 'end'
                                  Identifier: 'line'
                              PropertyAssignment
                                Identifier: ' offset'
                                PropertyAccessExpression
                                  CallExpression
                                    Identifier: ' getLineAndCharacterOfPosition'
                                    Identifier: 'file'
                                    PropertyAccessExpression
                                      CallExpression
                                        Identifier: ' last'
                                        PropertyAccessExpression
                                          Identifier: 'statements'
                                          Identifier: 'all'
                                      Identifier: 'end'
                                  Identifier: 'character'
                  ReturnStatement
                    ArrayLiteralExpression
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: ' name'
                          Identifier: ' refactorName'
                        ShorthandPropertyAssignment
                          Identifier: ' description'
                        PropertyAssignment
                          Identifier: ' actions'
                          ArrayLiteralExpression
                            ObjectLiteralExpression
                              SpreadAssignment
                                Identifier: 'moveToNewFileAction'
                              PropertyAssignment
                                Identifier: ' range'
                                Identifier: ' affectedTextRange'
              IfStatement
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: 'context'
                    Identifier: 'preferences'
                  Identifier: 'provideRefactorNotApplicableReason'
                Block
                  ReturnStatement
                    ArrayLiteralExpression
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: ' name'
                          Identifier: ' refactorName'
                        ShorthandPropertyAssignment
                          Identifier: ' description'
                        PropertyAssignment
                          Identifier: ' actions'
                          ArrayLiteralExpression
                            ObjectLiteralExpression
                              SpreadAssignment
                                Identifier: 'moveToNewFileAction'
                              PropertyAssignment
                                Identifier: ' notApplicableReason'
                                CallExpression
                                  Identifier: ' getLocaleSpecificMessage'
                                  PropertyAccessExpression
                                    Identifier: 'Diagnostics'
                                    Identifier: 'Selection_is_not_a_valid_statement_or_statements'
              ReturnStatement
                Identifier: ' emptyArray'
        PropertyAssignment
          Identifier: '
    getEditsForAction'
          FunctionExpression
            Identifier: ' getRefactorEditsToMoveToNewFile'
            Parameter
              Identifier: 'context'
            Parameter
              Identifier: ' actionName'
            TypeReference
              Identifier: ' RefactorEditInfo'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        Debug'
                    Identifier: 'assert'
                  BinaryExpression
                    Identifier: 'actionName'
                    EqualsEqualsEqualsToken
                    Identifier: ' refactorName'
                  StringLiteral
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' statements'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' Debug'
                        Identifier: 'checkDefined'
                      CallExpression
                        Identifier: 'getStatementsToMove'
                        Identifier: 'context'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' edits'
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' textChanges'
                          Identifier: 'ChangeTracker'
                        Identifier: 'with'
                      Identifier: 'context'
                      ArrowFunction
                        Parameter
                          Identifier: ' t'
                        EqualsGreaterThanToken
                        CallExpression
                          Identifier: ' doChange'
                          PropertyAccessExpression
                            Identifier: 'context'
                            Identifier: 'file'
                          PropertyAccessExpression
                            Identifier: ' context'
                            Identifier: 'program'
                          Identifier: ' statements'
                          Identifier: ' t'
                          PropertyAccessExpression
                            Identifier: ' context'
                            Identifier: 'host'
                          Identifier: ' context'
                          PropertyAccessExpression
                            Identifier: ' context'
                            Identifier: 'preferences'
              ReturnStatement
                ObjectLiteralExpression
                  ShorthandPropertyAssignment
                    Identifier: ' edits'
                  PropertyAssignment
                    Identifier: ' renameFilename'
                    Identifier: ' undefined'
                  PropertyAssignment
                    Identifier: ' renameLocation'
                    Identifier: ' undefined'
  FunctionDeclaration
    Identifier: ' doChange'
    Parameter
      Identifier: 'oldFile'
      TypeReference
        Identifier: ' SourceFile'
    Parameter
      Identifier: ' program'
      TypeReference
        Identifier: ' Program'
    Parameter
      Identifier: ' toMove'
      TypeReference
        Identifier: ' ToMove'
    Parameter
      Identifier: ' changes'
      TypeReference
        QualifiedName
          Identifier: ' textChanges'
          Identifier: 'ChangeTracker'
    Parameter
      Identifier: ' host'
      TypeReference
        Identifier: ' LanguageServiceHost'
    Parameter
      Identifier: ' context'
      TypeReference
        Identifier: ' RefactorContext'
    Parameter
      Identifier: ' preferences'
      TypeReference
        Identifier: ' UserPreferences'
    VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' checker'
            CallExpression
              PropertyAccessExpression
                Identifier: ' program'
                Identifier: 'getTypeChecker'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' usage'
            CallExpression
              Identifier: ' getUsageInfo'
              Identifier: 'oldFile'
              PropertyAccessExpression
                Identifier: ' toMove'
                Identifier: 'all'
              Identifier: ' checker'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' newFilename'
            CallExpression
              Identifier: ' createNewFileName'
              Identifier: 'oldFile'
              Identifier: ' program'
              Identifier: ' host'
              Identifier: ' toMove'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' newSourceFile'
            CallExpression
              Identifier: ' createFutureSourceFile'
              Identifier: 'newFilename'
              ConditionalExpression
                PropertyAccessExpression
                  Identifier: ' oldFile'
                  Identifier: 'externalModuleIndicator'
                QuestionToken
                PropertyAccessExpression
                  Identifier: ' ModuleKind'
                  Identifier: 'ESNext'
                ColonToken
                ConditionalExpression
                  PropertyAccessExpression
                    Identifier: ' oldFile'
                    Identifier: 'commonJsModuleIndicator'
                  QuestionToken
                  PropertyAccessExpression
                    Identifier: ' ModuleKind'
                    Identifier: 'CommonJS'
                  ColonToken
                  Identifier: ' undefined'
              Identifier: ' program'
              Identifier: ' host'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' importAdderForOldFile'
            CallExpression
              PropertyAccessExpression
                Identifier: ' codefix'
                Identifier: 'createImportAdder'
              Identifier: 'oldFile'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'program'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'preferences'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'host'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' importAdderForNewFile'
            CallExpression
              PropertyAccessExpression
                Identifier: ' codefix'
                Identifier: 'createImportAdder'
              Identifier: 'newSourceFile'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'program'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'preferences'
              PropertyAccessExpression
                Identifier: ' context'
                Identifier: 'host'
      ExpressionStatement
        CallExpression
          Identifier: '
    getNewStatementsAndRemoveFromOldFile'
          Identifier: 'oldFile'
          Identifier: ' newSourceFile'
          Identifier: ' usage'
          Identifier: ' changes'
          Identifier: ' toMove'
          Identifier: ' program'
          Identifier: ' host'
          Identifier: ' preferences'
          Identifier: ' importAdderForNewFile'
          Identifier: ' importAdderForOldFile'
      ExpressionStatement
        CallExpression
          Identifier: '
    addNewFileToTsconfig'
          Identifier: 'program'
          Identifier: ' changes'
          PropertyAccessExpression
            Identifier: ' oldFile'
            Identifier: 'fileName'
          Identifier: ' newFilename'
          CallExpression
            Identifier: ' hostGetCanonicalFileName'
            Identifier: 'host'
