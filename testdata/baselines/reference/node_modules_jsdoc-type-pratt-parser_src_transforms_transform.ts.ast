SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' KeyValueResult'
        ImportSpecifier
          Identifier: ' NonRootResult'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' FunctionResult'
        ImportSpecifier
          Identifier: ' RootResult'
    StringLiteral
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TransformFunction'
    TypeParameter
      Identifier: 'TransformResult'
    FunctionType
      Parameter
        Identifier: 'parseResult'
        TypeReference
          Identifier: ' NonRootResult'
      TypeReference
        Identifier: ' TransformResult'
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TransformRule'
    TypeParameter
      Identifier: 'TransformResult'
    TypeParameter
      Identifier: ' InputType'
      TypeReference
        Identifier: ' NonRootResult'
    FunctionType
      Parameter
        Identifier: 'parseResult'
        TypeReference
          Identifier: ' InputType'
      Parameter
        Identifier: ' transform'
        TypeReference
          Identifier: ' TransformFunction'
          TypeReference
            Identifier: 'TransformResult'
      TypeReference
        Identifier: ' TransformResult'
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TransformRules'
    TypeParameter
      Identifier: 'TransformResult'
    MappedType
      TypeParameter
        Identifier: 'P'
        TypeReference
          Identifier: ' NonRootResult'
      IndexedAccessType
        TypeReference
          Identifier: ' P'
        LiteralType
          StringLiteral
      TypeReference
        Identifier: ' TransformRule'
        TypeReference
          Identifier: 'TransformResult'
        TypeReference
          Identifier: ' P'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' transform'
    TypeParameter
      Identifier: 'TransformResult'
    Parameter
      Identifier: 'rules'
      TypeReference
        Identifier: ' TransformRules'
        TypeReference
          Identifier: 'TransformResult'
    Parameter
      Identifier: ' parseResult'
      TypeReference
        Identifier: ' NonRootResult'
    TypeReference
      Identifier: ' TransformResult'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' rule'
            AsExpression
              ElementAccessExpression
                Identifier: ' rules'
                PropertyAccessExpression
                  Identifier: 'parseResult'
                  Identifier: 'type'
              TypeReference
                Identifier: ' TransformRule'
                TypeReference
                  Identifier: 'TransformResult'
                TypeReference
                  Identifier: ' NonRootResult'
      IfStatement
        BinaryExpression
          Identifier: 'rule'
          EqualsEqualsEqualsToken
          Identifier: ' undefined'
        Block
          ThrowStatement
            NewExpression
              Identifier: ' Error'
              TemplateExpression
                TemplateHead
                TemplateSpan
                  PropertyAccessExpression
                    Identifier: 'parseResult'
                    Identifier: 'type'
                  TemplateTail
      ReturnStatement
        CallExpression
          Identifier: ' rule'
          Identifier: 'parseResult'
          ArrowFunction
            Parameter
              Identifier: ' aParseResult'
            EqualsGreaterThanToken
            CallExpression
              Identifier: ' transform'
              Identifier: 'rules'
              Identifier: ' aParseResult'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' notAvailableTransform'
    TypeParameter
      Identifier: 'TransformResult'
    Parameter
      Identifier: 'parseResult'
      TypeReference
        Identifier: ' NonRootResult'
    TypeReference
      Identifier: ' TransformResult'
    Block
      ThrowStatement
        NewExpression
          Identifier: ' Error'
          StringLiteral
  InterfaceDeclaration
    Identifier: ' SpecialFunctionParams'
    PropertySignature
      Identifier: '
  params'
      TypeReference
        Identifier: ' Array'
        UnionType
          TypeReference
            Identifier: 'RootResult'
          TypeReference
            Identifier: ' KeyValueResult'
    PropertySignature
      Identifier: '
  this'
      QuestionToken
      TypeReference
        Identifier: ' RootResult'
    PropertySignature
      Identifier: '
  new'
      QuestionToken
      TypeReference
        Identifier: ' RootResult'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' extractSpecialParams'
    Parameter
      Identifier: 'source'
      TypeReference
        Identifier: ' FunctionResult'
    TypeReference
      Identifier: ' SpecialFunctionParams'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' result'
            TypeReference
              Identifier: ' SpecialFunctionParams'
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
    params'
                ArrayLiteralExpression
      ForOfStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' param'
        PropertyAccessExpression
          Identifier: ' source'
          Identifier: 'parameters'
        Block
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'param'
                Identifier: 'type'
              EqualsEqualsEqualsToken
              StringLiteral
            Block
              IfStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: 'param'
                    Identifier: 'key'
                  EqualsEqualsEqualsToken
                  StringLiteral
                Block
                  ExpressionStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: '
        result'
                        Identifier: 'this'
                      EqualsToken
                      PropertyAccessExpression
                        Identifier: ' param'
                        Identifier: 'right'
                IfStatement
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: 'param'
                      Identifier: 'key'
                    EqualsEqualsEqualsToken
                    StringLiteral
                  Block
                    ExpressionStatement
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: '
        result'
                          Identifier: 'new'
                        EqualsToken
                        PropertyAccessExpression
                          Identifier: ' param'
                          Identifier: 'right'
                  Block
                    ExpressionStatement
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: '
        result'
                            Identifier: 'params'
                          Identifier: 'push'
                        Identifier: 'param'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: '
      result'
                      Identifier: 'params'
                    Identifier: 'push'
                  Identifier: 'param'
      ReturnStatement
        Identifier: ' result'
