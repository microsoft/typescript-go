SourceFile
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' Harness'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' ts'
    StringLiteral
  ExpressionStatement
    CallExpression
      Identifier: '

describe'
      StringLiteral
      ArrowFunction
        EqualsGreaterThanToken
        Block
          FunctionDeclaration
            Identifier: ' testLSWithFiles'
            Parameter
              Identifier: 'settings'
              TypeReference
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'CompilerOptions'
            Parameter
              Identifier: ' files'
              ArrayType
                TypeReference
                  QualifiedName
                    QualifiedName
                      Identifier: ' Harness'
                      Identifier: 'Compiler'
                    Identifier: 'TestFile'
            Block
              FunctionDeclaration
                Identifier: ' snapFor'
                Parameter
                  Identifier: 'path'
                  StringKeyword
                UnionType
                  TypeReference
                    QualifiedName
                      Identifier: ' ts'
                      Identifier: 'IScriptSnapshot'
                  UndefinedKeyword
                Block
                  IfStatement
                    BinaryExpression
                      Identifier: 'path'
                      EqualsEqualsEqualsToken
                      StringLiteral
                    Block
                      ReturnStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'ScriptSnapshot'
                            Identifier: 'fromString'
                          StringLiteral
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' result'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'find'
                          Identifier: 'files'
                          ArrowFunction
                            Parameter
                              Identifier: ' f'
                            EqualsGreaterThanToken
                            BinaryExpression
                              PropertyAccessExpression
                                Identifier: ' f'
                                Identifier: 'unitName'
                              EqualsEqualsEqualsToken
                              Identifier: ' path'
                  ReturnStatement
                    BinaryExpression
                      Identifier: ' result'
                      AmpersandAmpersandToken
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'ScriptSnapshot'
                          Identifier: 'fromString'
                        PropertyAccessExpression
                          Identifier: 'result'
                          Identifier: 'content'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' lshost'
                    TypeReference
                      QualifiedName
                        Identifier: ' ts'
                        Identifier: 'LanguageServiceHost'
                    ObjectLiteralExpression
                      PropertyAssignment
                        Identifier: '
            getCompilationSettings'
                        ArrowFunction
                          EqualsGreaterThanToken
                          Identifier: ' settings'
                      PropertyAssignment
                        Identifier: '
            getScriptFileNames'
                        ArrowFunction
                          EqualsGreaterThanToken
                          CallExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'map'
                            Identifier: 'files'
                            ArrowFunction
                              Parameter
                                Identifier: ' f'
                              EqualsGreaterThanToken
                              PropertyAccessExpression
                                Identifier: ' f'
                                Identifier: 'unitName'
                      PropertyAssignment
                        Identifier: '
            getScriptVersion'
                        ArrowFunction
                          EqualsGreaterThanToken
                          StringLiteral
                      PropertyAssignment
                        Identifier: '
            getScriptSnapshot'
                        ArrowFunction
                          Parameter
                            Identifier: ' name'
                          EqualsGreaterThanToken
                          CallExpression
                            Identifier: ' snapFor'
                            Identifier: 'name'
                      PropertyAssignment
                        Identifier: '
            getDefaultLibFileName'
                        ArrowFunction
                          EqualsGreaterThanToken
                          StringLiteral
                      PropertyAssignment
                        Identifier: '
            getCurrentDirectory'
                        ArrowFunction
                          EqualsGreaterThanToken
                          StringLiteral
                      PropertyAssignment
                        Identifier: '
            readFile'
                        ArrowFunction
                          Parameter
                            Identifier: ' name'
                          EqualsGreaterThanToken
                          Block
                            VariableStatement
                              VariableDeclarationList
                                VariableDeclaration
                                  Identifier: ' snap'
                                  CallExpression
                                    Identifier: ' snapFor'
                                    Identifier: 'name'
                            IfStatement
                              PrefixUnaryExpression
                                Identifier: 'snap'
                              ReturnStatement
                                Identifier: ' undefined'
                            ReturnStatement
                              CallExpression
                                PropertyAccessExpression
                                  Identifier: ' snap'
                                  Identifier: 'getText'
                                NumericLiteral
                                CallExpression
                                  PropertyAccessExpression
                                    Identifier: ' snap'
                                    Identifier: 'getLength'
                      PropertyAssignment
                        Identifier: '
            fileExists'
                        ArrowFunction
                          Parameter
                            Identifier: ' name'
                          EqualsGreaterThanToken
                          PrefixUnaryExpression
                            PrefixUnaryExpression
                              CallExpression
                                Identifier: 'snapFor'
                                Identifier: 'name'
              ReturnStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'createLanguageService'
                  Identifier: 'lshost'
          FunctionDeclaration
            Identifier: ' verifyNewLines'
            Parameter
              Identifier: 'content'
              StringKeyword
            Parameter
              Identifier: ' options'
              TypeReference
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'CompilerOptions'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' ls'
                    CallExpression
                      Identifier: ' testLSWithFiles'
                      Identifier: 'options'
                      ArrayLiteralExpression
                        ObjectLiteralExpression
                          ShorthandPropertyAssignment
                            Identifier: '
            content'
                          PropertyAssignment
                            Identifier: '
            fileOptions'
                            ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            unitName'
                            StringLiteral
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' result'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' ls'
                        Identifier: 'getEmitOutput'
                      StringLiteral
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  PrefixUnaryExpression
                    PropertyAccessExpression
                      Identifier: 'result'
                      Identifier: 'emitSkipped'
                  StringLiteral
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  BinaryExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: 'result'
                        Identifier: 'outputFiles'
                      Identifier: 'length'
                    EqualsEqualsEqualsToken
                    NumericLiteral
                  StringLiteral
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  BinaryExpression
                    PropertyAccessExpression
                      ElementAccessExpression
                        PropertyAccessExpression
                          Identifier: 'result'
                          Identifier: 'outputFiles'
                        NumericLiteral
                      Identifier: 'name'
                    EqualsEqualsEqualsToken
                    StringLiteral
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      PropertyAccessExpression
                        ElementAccessExpression
                          PropertyAccessExpression
                            Identifier: 'result'
                            Identifier: 'outputFiles'
                          NumericLiteral
                        Identifier: 'name'
                      TemplateTail
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        ElementAccessExpression
                          PropertyAccessExpression
                            Identifier: 'result'
                            Identifier: 'outputFiles'
                          NumericLiteral
                        Identifier: 'text'
                      Identifier: 'match'
                    ConditionalExpression
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: 'options'
                          Identifier: 'newLine'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'NewLineKind'
                          Identifier: 'CarriageReturnLineFeed'
                      QuestionToken
                      RegularExpressionLiteral
                      ColonToken
                      RegularExpressionLiteral
                  StringLiteral
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  PrefixUnaryExpression
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          ElementAccessExpression
                            PropertyAccessExpression
                              Identifier: 'result'
                              Identifier: 'outputFiles'
                            NumericLiteral
                          Identifier: 'text'
                        Identifier: 'match'
                      ConditionalExpression
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: 'options'
                            Identifier: 'newLine'
                          EqualsEqualsEqualsToken
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'NewLineKind'
                            Identifier: 'CarriageReturnLineFeed'
                        QuestionToken
                        RegularExpressionLiteral
                        ColonToken
                        RegularExpressionLiteral
                  StringLiteral
          FunctionDeclaration
            Identifier: ' verifyBothNewLines'
            Parameter
              Identifier: 'content'
              StringKeyword
            Block
              ExpressionStatement
                CallExpression
                  Identifier: '
        verifyNewLines'
                  Identifier: 'content'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: ' newLine'
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'NewLineKind'
                        Identifier: 'CarriageReturnLineFeed'
              ExpressionStatement
                CallExpression
                  Identifier: '
        verifyNewLines'
                  Identifier: 'content'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: ' newLine'
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'NewLineKind'
                        Identifier: 'LineFeed'
          FunctionDeclaration
            Identifier: ' verifyOutliningSpanNewLines'
            Parameter
              Identifier: 'content'
              StringKeyword
            Parameter
              Identifier: ' options'
              TypeReference
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'CompilerOptions'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' ls'
                    CallExpression
                      Identifier: ' testLSWithFiles'
                      Identifier: 'options'
                      ArrayLiteralExpression
                        ObjectLiteralExpression
                          ShorthandPropertyAssignment
                            Identifier: '
            content'
                          PropertyAssignment
                            Identifier: '
            fileOptions'
                            ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: '
            unitName'
                            StringLiteral
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' span'
                    ElementAccessExpression
                      CallExpression
                        PropertyAccessExpression
                          Identifier: ' ls'
                          Identifier: 'getOutliningSpans'
                        StringLiteral
                      NumericLiteral
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' textAfterSpanCollapse'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' content'
                        Identifier: 'substring'
                      BinaryExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: 'span'
                            Identifier: 'textSpan'
                          Identifier: 'start'
                        PlusToken
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' span'
                            Identifier: 'textSpan'
                          Identifier: 'length'
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'textAfterSpanCollapse'
                      Identifier: 'match'
                    ConditionalExpression
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: 'options'
                          Identifier: 'newLine'
                        EqualsEqualsEqualsToken
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'NewLineKind'
                          Identifier: 'CarriageReturnLineFeed'
                      QuestionToken
                      RegularExpressionLiteral
                      ColonToken
                      RegularExpressionLiteral
                  StringLiteral
              ExpressionStatement
                CallExpression
                  Identifier: '
        assert'
                  PrefixUnaryExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'textAfterSpanCollapse'
                        Identifier: 'match'
                      ConditionalExpression
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: 'options'
                            Identifier: 'newLine'
                          EqualsEqualsEqualsToken
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'NewLineKind'
                            Identifier: 'CarriageReturnLineFeed'
                        QuestionToken
                        RegularExpressionLiteral
                        ColonToken
                        RegularExpressionLiteral
                  StringLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        verifyBothNewLines'
                      NoSubstitutionTemplateLiteral
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        verifyOutliningSpanNewLines'
                      StringLiteral
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: ' newLine'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'NewLineKind'
                            Identifier: 'CarriageReturnLineFeed'
          ExpressionStatement
            CallExpression
              Identifier: '

    it'
              StringLiteral
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ExpressionStatement
                    CallExpression
                      Identifier: '
        verifyOutliningSpanNewLines'
                      StringLiteral
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: ' newLine'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: ' ts'
                              Identifier: 'NewLineKind'
                            Identifier: 'LineFeed'
