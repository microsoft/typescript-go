SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' execFileSync'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' fs'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' path'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    combinePaths'
        ImportSpecifier
          Identifier: '
    createGetCanonicalFileName'
        ImportSpecifier
          Identifier: '
    getDirectoryPath'
        ImportSpecifier
          Identifier: '
    MapLike'
        ImportSpecifier
          Identifier: '
    normalizePath'
        ImportSpecifier
          Identifier: '
    normalizeSlashes'
        ImportSpecifier
          Identifier: '
    sys'
        ImportSpecifier
          Identifier: '
    toPath'
        ImportSpecifier
          Identifier: '
    version'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' ts'
    StringLiteral
  ClassDeclaration
    Identifier: ' FileLog'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'typingsInstaller'
          Identifier: 'Log'
    Constructor
      Parameter
        PrivateKeyword
        Identifier: ' logFile'
        UnionType
          StringKeyword
          UndefinedKeyword
      Block
    PropertyDeclaration
      Identifier: '

    isEnabled'
      ArrowFunction
        EqualsGreaterThanToken
        Block
          ReturnStatement
            BinaryExpression
              TypeOfExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'logFile'
              EqualsEqualsEqualsToken
              StringLiteral
    PropertyDeclaration
      Identifier: '
    writeLine'
      ArrowFunction
        Parameter
          Identifier: 'text'
          StringKeyword
        EqualsGreaterThanToken
        Block
          IfStatement
            BinaryExpression
              TypeOfExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'logFile'
              ExclamationEqualsEqualsToken
              StringLiteral
            ReturnStatement
          TryStatement
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            fs'
                    Identifier: 'appendFileSync'
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'logFile'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: 'ts'
                            Identifier: 'server'
                          Identifier: 'nowString'
                      TemplateMiddle
                    TemplateSpan
                      Identifier: 'text'
                      TemplateMiddle
                    TemplateSpan
                      PropertyAccessExpression
                        Identifier: 'sys'
                        Identifier: 'newLine'
                      TemplateTail
            CatchClause
              Block
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'logFile'
                    EqualsToken
                    Identifier: ' undefined'
  FunctionDeclaration
    Identifier: ' getDefaultNPMLocation'
    Parameter
      Identifier: 'processName'
      StringKeyword
    Parameter
      Identifier: ' validateDefaultNpmLocation'
      BooleanKeyword
    Parameter
      Identifier: ' host'
      TypeReference
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'InstallTypingHost'
    StringKeyword
    Block
      IfStatement
        BinaryExpression
          CallExpression
            PropertyAccessExpression
              CallExpression
                PropertyAccessExpression
                  Identifier: 'path'
                  Identifier: 'basename'
                Identifier: 'processName'
              Identifier: 'indexOf'
            StringLiteral
          EqualsEqualsEqualsToken
          NumericLiteral
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' npmPath'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' path'
                    Identifier: 'join'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'path'
                      Identifier: 'dirname'
                    ElementAccessExpression
                      PropertyAccessExpression
                        Identifier: 'process'
                        Identifier: 'argv'
                      NumericLiteral
                  StringLiteral
          IfStatement
            PrefixUnaryExpression
              Identifier: 'validateDefaultNpmLocation'
            Block
              ReturnStatement
                Identifier: ' npmPath'
          IfStatement
            CallExpression
              PropertyAccessExpression
                Identifier: 'host'
                Identifier: 'fileExists'
              Identifier: 'npmPath'
            Block
              ReturnStatement
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    Identifier: 'npmPath'
                    TemplateTail
      ReturnStatement
        StringLiteral
  InterfaceDeclaration
    Identifier: ' TypesRegistryFile'
    PropertySignature
      Identifier: '
    entries'
      TypeReference
        Identifier: ' MapLike'
        TypeReference
          Identifier: 'MapLike'
          StringKeyword
  FunctionDeclaration
    Identifier: ' loadTypesRegistryFile'
    Parameter
      Identifier: 'typesRegistryFilePath'
      StringKeyword
    Parameter
      Identifier: ' host'
      TypeReference
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'InstallTypingHost'
    Parameter
      Identifier: ' log'
      TypeReference
        QualifiedName
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'typingsInstaller'
          Identifier: 'Log'
    TypeReference
      Identifier: ' Map'
      StringKeyword
      TypeReference
        Identifier: ' MapLike'
        StringKeyword
    Block
      IfStatement
        PrefixUnaryExpression
          CallExpression
            PropertyAccessExpression
              Identifier: 'host'
              Identifier: 'fileExists'
            Identifier: 'typesRegistryFilePath'
        Block
          IfStatement
            CallExpression
              PropertyAccessExpression
                Identifier: 'log'
                Identifier: 'isEnabled'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            log'
                    Identifier: 'writeLine'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      Identifier: 'typesRegistryFilePath'
                      TemplateTail
          ReturnStatement
            NewExpression
              Identifier: ' Map'
              StringKeyword
              TypeReference
                Identifier: ' MapLike'
                StringKeyword
      TryStatement
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' content'
                AsExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' JSON'
                      Identifier: 'parse'
                    NonNullExpression
                      CallExpression
                        PropertyAccessExpression
                          Identifier: 'host'
                          Identifier: 'readFile'
                        Identifier: 'typesRegistryFilePath'
                  TypeReference
                    Identifier: ' TypesRegistryFile'
          ReturnStatement
            NewExpression
              Identifier: ' Map'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'Object'
                  Identifier: 'entries'
                PropertyAccessExpression
                  Identifier: 'content'
                  Identifier: 'entries'
        CatchClause
          VariableDeclaration
            Identifier: 'e'
          Block
            IfStatement
              CallExpression
                PropertyAccessExpression
                  Identifier: 'log'
                  Identifier: 'isEnabled'
              Block
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: '
            log'
                      Identifier: 'writeLine'
                    TemplateExpression
                      TemplateHead
                      TemplateSpan
                        Identifier: 'typesRegistryFilePath'
                        TemplateMiddle
                      TemplateSpan
                        PropertyAccessExpression
                          ParenthesizedExpression
                            AsExpression
                              Identifier: 'e'
                              TypeReference
                                Identifier: ' Error'
                          Identifier: 'message'
                        TemplateMiddle
                      TemplateSpan
                        PropertyAccessExpression
                          ParenthesizedExpression
                            AsExpression
                              Identifier: 'e'
                              TypeReference
                                Identifier: ' Error'
                          Identifier: 'stack'
                        TemplateTail
            ReturnStatement
              NewExpression
                Identifier: ' Map'
                StringKeyword
                TypeReference
                  Identifier: ' MapLike'
                  StringKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' typesRegistryPackageName'
        StringLiteral
  FunctionDeclaration
    Identifier: ' getTypesRegistryFileLocation'
    Parameter
      Identifier: 'globalTypingsCacheLocation'
      StringKeyword
    StringKeyword
    Block
      ReturnStatement
        CallExpression
          Identifier: ' combinePaths'
          CallExpression
            Identifier: 'normalizeSlashes'
            Identifier: 'globalTypingsCacheLocation'
          TemplateExpression
            TemplateHead
            TemplateSpan
              Identifier: 'typesRegistryPackageName'
              TemplateTail
  InterfaceDeclaration
    Identifier: ' ExecSyncOptions'
    PropertySignature
      Identifier: '
    cwd'
      StringKeyword
    PropertySignature
      Identifier: '
    encoding'
      LiteralType
        StringLiteral
  ClassDeclaration
    Identifier: ' NodeTypingsInstaller'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'typingsInstaller'
          Identifier: 'TypingsInstaller'
    PropertyDeclaration
      PrivateKeyword
      ReadonlyKeyword
      Identifier: ' npmPath'
      StringKeyword
    PropertyDeclaration
      ReadonlyKeyword
      Identifier: ' typesRegistry'
      TypeReference
        Identifier: ' Map'
        StringKeyword
        TypeReference
          Identifier: ' MapLike'
          StringKeyword
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' delayedInitializationError'
      UnionType
        TypeReference
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'InitializationFailedResponse'
        UndefinedKeyword
    Constructor
      Parameter
        Identifier: 'globalTypingsCacheLocation'
        StringKeyword
      Parameter
        Identifier: ' typingSafeListLocation'
        StringKeyword
      Parameter
        Identifier: ' typesMapLocation'
        StringKeyword
      Parameter
        Identifier: ' npmLocation'
        UnionType
          StringKeyword
          UndefinedKeyword
      Parameter
        Identifier: ' validateDefaultNpmLocation'
        BooleanKeyword
      Parameter
        Identifier: ' throttleLimit'
        NumberKeyword
      Parameter
        Identifier: ' log'
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'typingsInstaller'
            Identifier: 'Log'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' libDirectory'
              CallExpression
                Identifier: ' getDirectoryPath'
                CallExpression
                  Identifier: 'normalizePath'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'sys'
                      Identifier: 'getExecutingFilePath'
        ExpressionStatement
          CallExpression
            SuperKeyword
            Identifier: '
            sys'
            Identifier: '
            globalTypingsCacheLocation'
            ConditionalExpression
              Identifier: '
            typingSafeListLocation'
              QuestionToken
              CallExpression
                Identifier: ' toPath'
                Identifier: 'typingSafeListLocation'
                StringLiteral
                CallExpression
                  Identifier: ' createGetCanonicalFileName'
                  PropertyAccessExpression
                    Identifier: 'sys'
                    Identifier: 'useCaseSensitiveFileNames'
              ColonToken
              CallExpression
                Identifier: ' toPath'
                StringLiteral
                Identifier: ' libDirectory'
                CallExpression
                  Identifier: ' createGetCanonicalFileName'
                  PropertyAccessExpression
                    Identifier: 'sys'
                    Identifier: 'useCaseSensitiveFileNames'
            ConditionalExpression
              Identifier: '
            typesMapLocation'
              QuestionToken
              CallExpression
                Identifier: ' toPath'
                Identifier: 'typesMapLocation'
                StringLiteral
                CallExpression
                  Identifier: ' createGetCanonicalFileName'
                  PropertyAccessExpression
                    Identifier: 'sys'
                    Identifier: 'useCaseSensitiveFileNames'
              ColonToken
              CallExpression
                Identifier: ' toPath'
                StringLiteral
                Identifier: ' libDirectory'
                CallExpression
                  Identifier: ' createGetCanonicalFileName'
                  PropertyAccessExpression
                    Identifier: 'sys'
                    Identifier: 'useCaseSensitiveFileNames'
            Identifier: '
            throttleLimit'
            Identifier: '
            log'
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'npmPath'
            EqualsToken
            ConditionalExpression
              BinaryExpression
                Identifier: ' npmLocation'
                ExclamationEqualsEqualsToken
                Identifier: ' undefined'
              QuestionToken
              Identifier: ' npmLocation'
              ColonToken
              CallExpression
                Identifier: ' getDefaultNPMLocation'
                ElementAccessExpression
                  PropertyAccessExpression
                    Identifier: 'process'
                    Identifier: 'argv'
                  NumericLiteral
                Identifier: ' validateDefaultNpmLocation'
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'installTypingHost'
        IfStatement
          BinaryExpression
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'npmPath'
                Identifier: 'includes'
              StringLiteral
            AmpersandAmpersandToken
            BinaryExpression
              ElementAccessExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'npmPath'
                NumericLiteral
              ExclamationEqualsEqualsToken
              NoSubstitutionTemplateLiteral
          Block
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'npmPath'
                EqualsToken
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'npmPath'
                    TemplateTail
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
              Identifier: 'isEnabled'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    PropertyAccessExpression
                      Identifier: 'process'
                      Identifier: 'pid'
                    TemplateTail
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'npmPath'
                    TemplateMiddle
                  TemplateSpan
                    PropertyAccessExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: 'ts'
                          Identifier: 'server'
                        Identifier: 'Arguments'
                      Identifier: 'NpmLocation'
                    TemplateMiddle
                  TemplateSpan
                    ConditionalExpression
                      BinaryExpression
                        Identifier: 'npmLocation'
                        EqualsEqualsEqualsToken
                        Identifier: ' undefined'
                      QuestionToken
                      StringLiteral
                      ColonToken
                      StringLiteral
                    TemplateTail
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    Identifier: 'validateDefaultNpmLocation'
                    TemplateTail
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'ensurePackageDirectoryExists'
            Identifier: 'globalTypingsCacheLocation'
        TryStatement
          Block
            IfStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'isEnabled'
              Block
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        ThisKeyword
                        Identifier: 'log'
                      Identifier: 'writeLine'
                    TemplateExpression
                      TemplateHead
                      TemplateSpan
                        Identifier: 'typesRegistryPackageName'
                        TemplateTail
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'execSyncAndLog'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'npmPath'
                    TemplateMiddle
                  TemplateSpan
                    Identifier: 'typesRegistryPackageName'
                    TemplateMiddle
                  TemplateSpan
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'latestDistTag'
                    TemplateTail
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: ' cwd'
                    Identifier: ' globalTypingsCacheLocation'
            IfStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'isEnabled'
              Block
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        ThisKeyword
                        Identifier: 'log'
                      Identifier: 'writeLine'
                    TemplateExpression
                      TemplateHead
                      TemplateSpan
                        Identifier: 'typesRegistryPackageName'
                        TemplateTail
          CatchClause
            VariableDeclaration
              Identifier: 'e'
            Block
              IfStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'log'
                    Identifier: 'isEnabled'
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          ThisKeyword
                          Identifier: 'log'
                        Identifier: 'writeLine'
                      TemplateExpression
                        TemplateHead
                        TemplateSpan
                          Identifier: 'typesRegistryPackageName'
                          TemplateMiddle
                        TemplateSpan
                          PropertyAccessExpression
                            ParenthesizedExpression
                              AsExpression
                                Identifier: 'e'
                                TypeReference
                                  Identifier: ' Error'
                            Identifier: 'message'
                          TemplateTail
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'delayedInitializationError'
                  EqualsToken
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: '
                kind'
                      StringLiteral
                    PropertyAssignment
                      Identifier: '
                message'
                      PropertyAccessExpression
                        ParenthesizedExpression
                          AsExpression
                            Identifier: 'e'
                            TypeReference
                              Identifier: ' Error'
                        Identifier: 'message'
                    PropertyAssignment
                      Identifier: '
                stack'
                      PropertyAccessExpression
                        ParenthesizedExpression
                          AsExpression
                            Identifier: 'e'
                            TypeReference
                              Identifier: ' Error'
                        Identifier: 'stack'
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'typesRegistry'
            EqualsToken
            CallExpression
              Identifier: ' loadTypesRegistryFile'
              CallExpression
                Identifier: 'getTypesRegistryFileLocation'
                Identifier: 'globalTypingsCacheLocation'
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'installTypingHost'
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
    MethodDeclaration
      OverrideKeyword
      Identifier: ' handleRequest'
      Parameter
        Identifier: 'req'
        TypeReference
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'TypingInstallerRequestUnion'
      VoidKeyword
      Block
        IfStatement
          PropertyAccessExpression
            ThisKeyword
            Identifier: 'delayedInitializationError'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'sendResponse'
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'delayedInitializationError'
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'delayedInitializationError'
                EqualsToken
                Identifier: ' undefined'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              SuperKeyword
              Identifier: 'handleRequest'
            Identifier: 'req'
    MethodDeclaration
      ProtectedKeyword
      Identifier: ' sendResponse'
      Parameter
        Identifier: 'response'
        TypeReference
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'TypingInstallerResponseUnion'
      VoidKeyword
      Block
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
              Identifier: 'isEnabled'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: 'ts'
                          Identifier: 'server'
                        Identifier: 'stringifyIndented'
                      Identifier: 'response'
                    TemplateTail
        ExpressionStatement
          CallExpression
            NonNullExpression
              PropertyAccessExpression
                Identifier: '
        process'
                Identifier: 'send'
            Identifier: 'response'
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
              Identifier: 'isEnabled'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                NoSubstitutionTemplateLiteral
    MethodDeclaration
      ProtectedKeyword
      Identifier: ' installWorker'
      Parameter
        Identifier: 'requestId'
        NumberKeyword
      Parameter
        Identifier: ' packageNames'
        ArrayType
          StringKeyword
      Parameter
        Identifier: ' cwd'
        StringKeyword
      Parameter
        Identifier: ' onRequestCompleted'
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'typingsInstaller'
            Identifier: 'RequestCompletedAction'
      VoidKeyword
      Block
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
              Identifier: 'isEnabled'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    Identifier: 'requestId'
                    TemplateMiddle
                  TemplateSpan
                    Identifier: 'cwd'
                    TemplateMiddle
                  TemplateSpan
                    CallExpression
                      PropertyAccessExpression
                        Identifier: 'JSON'
                        Identifier: 'stringify'
                      Identifier: 'packageNames'
                    TemplateTail
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' start'
              CallExpression
                PropertyAccessExpression
                  Identifier: ' Date'
                  Identifier: 'now'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' hasError'
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'server'
                    Identifier: 'typingsInstaller'
                  Identifier: 'installNpmPackages'
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'npmPath'
                Identifier: ' version'
                Identifier: ' packageNames'
                ArrowFunction
                  Parameter
                    Identifier: ' command'
                  EqualsGreaterThanToken
                  CallExpression
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'execSyncAndLog'
                    Identifier: 'command'
                    ObjectLiteralExpression
                      ShorthandPropertyAssignment
                        Identifier: ' cwd'
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
              Identifier: 'isEnabled'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    Identifier: 'requestId'
                    TemplateMiddle
                  TemplateSpan
                    BinaryExpression
                      CallExpression
                        PropertyAccessExpression
                          Identifier: 'Date'
                          Identifier: 'now'
                      MinusToken
                      Identifier: ' start'
                    TemplateTail
        ExpressionStatement
          CallExpression
            Identifier: '
        onRequestCompleted'
            PrefixUnaryExpression
              Identifier: 'hasError'
    MethodDeclaration
      PrivateKeyword
      Identifier: ' execSyncAndLog'
      Parameter
        Identifier: 'command'
        StringKeyword
      Parameter
        Identifier: ' options'
        TypeReference
          Identifier: ' Pick'
          TypeReference
            Identifier: 'ExecSyncOptions'
          LiteralType
            StringLiteral
      BooleanKeyword
      Block
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'log'
              Identifier: 'isEnabled'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'writeLine'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    Identifier: 'command'
                    TemplateTail
        TryStatement
          Block
            VariableStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' stdout'
                  CallExpression
                    Identifier: ' execFileSync'
                    Identifier: 'command'
                    ObjectLiteralExpression
                      SpreadAssignment
                        Identifier: 'options'
                      PropertyAssignment
                        Identifier: ' encoding'
                        StringLiteral
            IfStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'log'
                  Identifier: 'isEnabled'
              Block
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        ThisKeyword
                        Identifier: 'log'
                      Identifier: 'writeLine'
                    TemplateExpression
                      TemplateHead
                      TemplateSpan
                        CallExpression
                          Identifier: 'indent'
                          PropertyAccessExpression
                            Identifier: 'sys'
                            Identifier: 'newLine'
                          Identifier: ' stdout'
                        TemplateTail
            ReturnStatement
              FalseKeyword
          CatchClause
            VariableDeclaration
              Identifier: 'error'
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    ObjectBindingPattern
                      BindingElement
                        Identifier: ' stdout'
                      BindingElement
                        Identifier: ' stderr'
                    Identifier: ' error'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'log'
                    Identifier: 'writeLine'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      CallExpression
                        Identifier: 'indent'
                        PropertyAccessExpression
                          Identifier: 'sys'
                          Identifier: 'newLine'
                        Identifier: ' stdout'
                      TemplateMiddle
                    TemplateSpan
                      PropertyAccessExpression
                        Identifier: 'sys'
                        Identifier: 'newLine'
                      TemplateMiddle
                    TemplateSpan
                      CallExpression
                        Identifier: 'indent'
                        PropertyAccessExpression
                          Identifier: 'sys'
                          Identifier: 'newLine'
                        Identifier: ' stderr'
                      TemplateTail
              ReturnStatement
                TrueKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' logFilePath'
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'findArgument'
          PropertyAccessExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'server'
              Identifier: 'Arguments'
            Identifier: 'LogFile'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' globalTypingsCacheLocation'
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'findArgument'
          PropertyAccessExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'server'
              Identifier: 'Arguments'
            Identifier: 'GlobalCacheLocation'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' typingSafeListLocation'
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'findArgument'
          PropertyAccessExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'server'
              Identifier: 'Arguments'
            Identifier: 'TypingSafeListLocation'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' typesMapLocation'
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'findArgument'
          PropertyAccessExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'server'
              Identifier: 'Arguments'
            Identifier: 'TypesMapLocation'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' npmLocation'
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'findArgument'
          PropertyAccessExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'server'
              Identifier: 'Arguments'
            Identifier: 'NpmLocation'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' validateDefaultNpmLocation'
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'hasArgument'
          PropertyAccessExpression
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: 'ts'
                Identifier: 'server'
              Identifier: 'Arguments'
            Identifier: 'ValidateDefaultNpmLocation'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' log'
        NewExpression
          Identifier: ' FileLog'
          Identifier: 'logFilePath'
  IfStatement
    CallExpression
      PropertyAccessExpression
        Identifier: 'log'
        Identifier: 'isEnabled'
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    process'
            Identifier: 'on'
          StringLiteral
          ArrowFunction
            Parameter
              Identifier: 'e'
              TypeReference
                Identifier: ' Error'
            EqualsGreaterThanToken
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        log'
                    Identifier: 'writeLine'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      Identifier: 'e'
                      TemplateMiddle
                    TemplateSpan
                      PropertyAccessExpression
                        Identifier: 'e'
                        Identifier: 'stack'
                      TemplateTail
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '
process'
        Identifier: 'on'
      StringLiteral
      ArrowFunction
        EqualsGreaterThanToken
        Block
          IfStatement
            CallExpression
              PropertyAccessExpression
                Identifier: 'log'
                Identifier: 'isEnabled'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        log'
                    Identifier: 'writeLine'
                  NoSubstitutionTemplateLiteral
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
    process'
                Identifier: 'exit'
              NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' installer'
        UnionType
          TypeReference
            Identifier: ' NodeTypingsInstaller'
          UndefinedKeyword
  ExpressionStatement
    CallExpression
      PropertyAccessExpression
        Identifier: '
process'
        Identifier: 'on'
      StringLiteral
      ArrowFunction
        Parameter
          Identifier: 'req'
          TypeReference
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'TypingInstallerRequestUnion'
        EqualsGreaterThanToken
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
    installer'
              QuestionQuestionEqualsToken
              NewExpression
                Identifier: ' NodeTypingsInstaller'
                NonNullExpression
                  Identifier: 'globalTypingsCacheLocation'
                NonNullExpression
                  Identifier: ' typingSafeListLocation'
                NonNullExpression
                  Identifier: ' typesMapLocation'
                Identifier: ' npmLocation'
                Identifier: ' validateDefaultNpmLocation'
                NumericLiteral
                Identifier: ' log'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: ' // TODO: GH#18217
    installer'
                Identifier: 'handleRequest'
              Identifier: 'req'
  FunctionDeclaration
    Identifier: ' indent'
    Parameter
      Identifier: 'newline'
      StringKeyword
    Parameter
      Identifier: ' str'
      UnionType
        StringKeyword
        UndefinedKeyword
    StringKeyword
    Block
      ReturnStatement
        ConditionalExpression
          BinaryExpression
            Identifier: ' str'
            AmpersandAmpersandToken
            PropertyAccessExpression
              Identifier: ' str'
              Identifier: 'length'
          QuestionToken
          BinaryExpression
            TemplateExpression
              TemplateHead
              TemplateSpan
                Identifier: 'newline'
                TemplateTail
            PlusToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' str'
                Identifier: 'replace'
              RegularExpressionLiteral
              TemplateExpression
                TemplateHead
                TemplateSpan
                  Identifier: 'newline'
                  TemplateTail
          ColonToken
          StringLiteral
