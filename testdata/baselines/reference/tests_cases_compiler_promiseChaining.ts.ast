SourceFile
  ClassDeclaration
    Identifier: ' Chain'
    TypeParameter
      Identifier: 'T'
    Constructor
      Parameter
        PublicKeyword
        Identifier: ' value'
        TypeReference
          Identifier: ' T'
      Block
    MethodDeclaration
      Identifier: '
    then'
      TypeParameter
        Identifier: 'S'
      Parameter
        Identifier: 'cb'
        FunctionType
          Parameter
            Identifier: 'x'
            TypeReference
              Identifier: ' T'
          TypeReference
            Identifier: ' S'
      TypeReference
        Identifier: ' Chain'
        TypeReference
          Identifier: 'S'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' result'
              CallExpression
                Identifier: ' cb'
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'value'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' z'
              CallExpression
                PropertyAccessExpression
                  CallExpression
                    PropertyAccessExpression
                      CallExpression
                        PropertyAccessExpression
                          ThisKeyword
                          Identifier: 'then'
                        ArrowFunction
                          Parameter
                            Identifier: 'x'
                          EqualsGreaterThanToken
                          Identifier: ' result'
                      Identifier: 'then'
                    ArrowFunction
                      Parameter
                        Identifier: 'x'
                      EqualsGreaterThanToken
                      StringLiteral
                  Identifier: 'then'
                ArrowFunction
                  Parameter
                    Identifier: 'x'
                  EqualsGreaterThanToken
                  PropertyAccessExpression
                    Identifier: ' x'
                    Identifier: 'length'
        ReturnStatement
          NewExpression
            Identifier: ' Chain'
            Identifier: 'result'
