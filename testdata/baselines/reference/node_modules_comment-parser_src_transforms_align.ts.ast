SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Transform'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' BlockMarkers'
        ImportSpecifier
          Identifier: ' Block'
        ImportSpecifier
          Identifier: ' Line'
        ImportSpecifier
          Identifier: ' Markers'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' rewireSource'
    StringLiteral
  InterfaceDeclaration
    Identifier: ' Width'
    PropertySignature
      Identifier: '
  start'
      NumberKeyword
    PropertySignature
      Identifier: '
  tag'
      NumberKeyword
    PropertySignature
      Identifier: '
  type'
      NumberKeyword
    PropertySignature
      Identifier: '
  name'
      NumberKeyword
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' zeroWidth'
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
  start'
            NumericLiteral
          PropertyAssignment
            Identifier: '
  tag'
            NumericLiteral
          PropertyAssignment
            Identifier: '
  type'
            NumericLiteral
          PropertyAssignment
            Identifier: '
  name'
            NumericLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' getWidth'
        ArrowFunction
          Parameter
            Identifier: 'markers'
            Identifier: ' Markers'
          EqualsGreaterThanToken
          ArrowFunction
            Parameter
              Identifier: 'w'
              TypeReference
                Identifier: ' Width'
            Parameter
              ObjectBindingPattern
                BindingElement
                  Identifier: ' tokens'
                  Identifier: ' t'
              TypeReference
                Identifier: ' Line'
            EqualsGreaterThanToken
            ParenthesizedExpression
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
    start'
                  ConditionalExpression
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: ' t'
                        Identifier: 'delimiter'
                      EqualsEqualsEqualsToken
                      PropertyAccessExpression
                        Identifier: ' markers'
                        Identifier: 'start'
                    QuestionToken
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' t'
                        Identifier: 'start'
                      Identifier: 'length'
                    ColonToken
                    PropertyAccessExpression
                      Identifier: ' w'
                      Identifier: 'start'
                PropertyAssignment
                  Identifier: '
    tag'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' Math'
                      Identifier: 'max'
                    PropertyAccessExpression
                      Identifier: 'w'
                      Identifier: 'tag'
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' t'
                        Identifier: 'tag'
                      Identifier: 'length'
                PropertyAssignment
                  Identifier: '
    type'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' Math'
                      Identifier: 'max'
                    PropertyAccessExpression
                      Identifier: 'w'
                      Identifier: 'type'
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' t'
                        Identifier: 'type'
                      Identifier: 'length'
                PropertyAssignment
                  Identifier: '
    name'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' Math'
                      Identifier: 'max'
                    PropertyAccessExpression
                      Identifier: 'w'
                      Identifier: 'name'
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' t'
                        Identifier: 'name'
                      Identifier: 'length'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' space'
        ArrowFunction
          Parameter
            Identifier: 'len'
            NumberKeyword
          EqualsGreaterThanToken
          CallExpression
            PropertyAccessExpression
              StringLiteral
              Identifier: 'padStart'
            Identifier: 'len'
            StringLiteral
  FunctionDeclaration
    ExportKeyword
    DefaultKeyword
    Identifier: ' align'
    Parameter
      Identifier: 'markers'
      Identifier: ' Markers'
    TypeReference
      Identifier: ' Transform'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' intoTags'
            FalseKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' w'
            TypeReference
              Identifier: ' Width'
      FunctionDeclaration
        Identifier: ' update'
        Parameter
          Identifier: 'line'
          TypeReference
            Identifier: ' Line'
        TypeReference
          Identifier: ' Line'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' tokens'
                ObjectLiteralExpression
                  SpreadAssignment
                    PropertyAccessExpression
                      Identifier: 'line'
                      Identifier: 'tokens'
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'tokens'
                Identifier: 'tag'
              ExclamationEqualsEqualsToken
              StringLiteral
            ExpressionStatement
              BinaryExpression
                Identifier: ' intoTags'
                EqualsToken
                TrueKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' isEmpty'
                BinaryExpression
                  BinaryExpression
                    BinaryExpression
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: '
      tokens'
                          Identifier: 'tag'
                        EqualsEqualsEqualsToken
                        StringLiteral
                      AmpersandAmpersandToken
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: '
      tokens'
                          Identifier: 'name'
                        EqualsEqualsEqualsToken
                        StringLiteral
                    AmpersandAmpersandToken
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: '
      tokens'
                        Identifier: 'type'
                      EqualsEqualsEqualsToken
                      StringLiteral
                  AmpersandAmpersandToken
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: '
      tokens'
                      Identifier: 'description'
                    EqualsEqualsEqualsToken
                    StringLiteral
          IfStatement
            BinaryExpression
              BinaryExpression
                PropertyAccessExpression
                  Identifier: 'tokens'
                  Identifier: 'end'
                EqualsEqualsEqualsToken
                PropertyAccessExpression
                  Identifier: ' markers'
                  Identifier: 'end'
              AmpersandAmpersandToken
              Identifier: ' isEmpty'
            Block
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
      tokens'
                    Identifier: 'start'
                  EqualsToken
                  CallExpression
                    Identifier: ' space'
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'w'
                        Identifier: 'start'
                      PlusToken
                      NumericLiteral
              ReturnStatement
                ObjectLiteralExpression
                  SpreadAssignment
                    Identifier: 'line'
                  ShorthandPropertyAssignment
                    Identifier: ' tokens'
          SwitchStatement
            PropertyAccessExpression
              Identifier: 'tokens'
              Identifier: 'delimiter'
            CaseBlock
              CaseClause
                PropertyAccessExpression
                  Identifier: ' markers'
                  Identifier: 'start'
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: '
        tokens'
                      Identifier: 'start'
                    EqualsToken
                    CallExpression
                      Identifier: ' space'
                      PropertyAccessExpression
                        Identifier: 'w'
                        Identifier: 'start'
                BreakStatement
              CaseClause
                PropertyAccessExpression
                  Identifier: ' markers'
                  Identifier: 'delim'
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: '
        tokens'
                      Identifier: 'start'
                    EqualsToken
                    CallExpression
                      Identifier: ' space'
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: 'w'
                          Identifier: 'start'
                        PlusToken
                        NumericLiteral
                BreakStatement
              DefaultClause
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: '
        tokens'
                      Identifier: 'delimiter'
                    EqualsToken
                    StringLiteral
                ExpressionStatement
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: '
        tokens'
                      Identifier: 'start'
                    EqualsToken
                    CallExpression
                      Identifier: ' space'
                      BinaryExpression
                        PropertyAccessExpression
                          Identifier: 'w'
                          Identifier: 'start'
                        PlusToken
                        NumericLiteral
          IfStatement
            PrefixUnaryExpression
              Identifier: 'intoTags'
            Block
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
      tokens'
                    Identifier: 'postDelimiter'
                  EqualsToken
                  ConditionalExpression
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: ' tokens'
                        Identifier: 'description'
                      EqualsEqualsEqualsToken
                      StringLiteral
                    QuestionToken
                    StringLiteral
                    ColonToken
                    StringLiteral
              ReturnStatement
                ObjectLiteralExpression
                  SpreadAssignment
                    Identifier: 'line'
                  ShorthandPropertyAssignment
                    Identifier: ' tokens'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' nothingAfter'
                ObjectLiteralExpression
                  PropertyAssignment
                    Identifier: '
      delim'
                    FalseKeyword
                  PropertyAssignment
                    Identifier: '
      tag'
                    FalseKeyword
                  PropertyAssignment
                    Identifier: '
      type'
                    FalseKeyword
                  PropertyAssignment
                    Identifier: '
      name'
                    FalseKeyword
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'tokens'
                Identifier: 'description'
              EqualsEqualsEqualsToken
              StringLiteral
            Block
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
      nothingAfter'
                    Identifier: 'name'
                  EqualsToken
                  TrueKeyword
              ExpressionStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: '
      tokens'
                    Identifier: 'postName'
                  EqualsToken
                  StringLiteral
              IfStatement
                BinaryExpression
                  PropertyAccessExpression
                    Identifier: 'tokens'
                    Identifier: 'name'
                  EqualsEqualsEqualsToken
                  StringLiteral
                Block
                  ExpressionStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: '
        nothingAfter'
                        Identifier: 'type'
                      EqualsToken
                      TrueKeyword
                  ExpressionStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: '
        tokens'
                        Identifier: 'postType'
                      EqualsToken
                      StringLiteral
                  IfStatement
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'tokens'
                        Identifier: 'type'
                      EqualsEqualsEqualsToken
                      StringLiteral
                    Block
                      ExpressionStatement
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: '
          nothingAfter'
                            Identifier: 'tag'
                          EqualsToken
                          TrueKeyword
                      ExpressionStatement
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: '
          tokens'
                            Identifier: 'postTag'
                          EqualsToken
                          StringLiteral
                      IfStatement
                        BinaryExpression
                          PropertyAccessExpression
                            Identifier: 'tokens'
                            Identifier: 'tag'
                          EqualsEqualsEqualsToken
                          StringLiteral
                        Block
                          ExpressionStatement
                            BinaryExpression
                              PropertyAccessExpression
                                Identifier: '
            nothingAfter'
                                Identifier: 'delim'
                              EqualsToken
                              TrueKeyword
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '

    tokens'
                Identifier: 'postDelimiter'
              EqualsToken
              ConditionalExpression
                PropertyAccessExpression
                  Identifier: ' nothingAfter'
                  Identifier: 'delim'
                QuestionToken
                StringLiteral
                ColonToken
                StringLiteral
          IfStatement
            PrefixUnaryExpression
              PropertyAccessExpression
                Identifier: 'nothingAfter'
                Identifier: 'tag'
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  Identifier: '
      tokens'
                  Identifier: 'postTag'
                EqualsToken
                CallExpression
                  Identifier: ' space'
                  BinaryExpression
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'w'
                        Identifier: 'tag'
                      MinusToken
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' tokens'
                          Identifier: 'tag'
                        Identifier: 'length'
                    PlusToken
                    NumericLiteral
          IfStatement
            PrefixUnaryExpression
              PropertyAccessExpression
                Identifier: 'nothingAfter'
                Identifier: 'type'
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  Identifier: '
      tokens'
                  Identifier: 'postType'
                EqualsToken
                CallExpression
                  Identifier: ' space'
                  BinaryExpression
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'w'
                        Identifier: 'type'
                      MinusToken
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' tokens'
                          Identifier: 'type'
                        Identifier: 'length'
                    PlusToken
                    NumericLiteral
          IfStatement
            PrefixUnaryExpression
              PropertyAccessExpression
                Identifier: 'nothingAfter'
                Identifier: 'name'
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  Identifier: '
      tokens'
                  Identifier: 'postName'
                EqualsToken
                CallExpression
                  Identifier: ' space'
                  BinaryExpression
                    BinaryExpression
                      PropertyAccessExpression
                        Identifier: 'w'
                        Identifier: 'name'
                      MinusToken
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' tokens'
                          Identifier: 'name'
                        Identifier: 'length'
                    PlusToken
                    NumericLiteral
          ReturnStatement
            ObjectLiteralExpression
              SpreadAssignment
                Identifier: 'line'
              ShorthandPropertyAssignment
                Identifier: ' tokens'
      ReturnStatement
        ArrowFunction
          Parameter
            ObjectBindingPattern
              BindingElement
                Identifier: ' source'
              BindingElement
                DotDotDotToken
                Identifier: 'fields'
            TypeReference
              Identifier: ' Block'
          TypeReference
            Identifier: ' Block'
          EqualsGreaterThanToken
          Block
            ExpressionStatement
              BinaryExpression
                Identifier: '
    w'
                EqualsToken
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' source'
                    Identifier: 'reduce'
                  CallExpression
                    Identifier: 'getWidth'
                    Identifier: 'markers'
                  ObjectLiteralExpression
                    SpreadAssignment
                      Identifier: 'zeroWidth'
            ReturnStatement
              CallExpression
                Identifier: ' rewireSource'
                ObjectLiteralExpression
                  SpreadAssignment
                    Identifier: 'fields'
                  PropertyAssignment
                    Identifier: ' source'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' source'
                        Identifier: 'map'
                      Identifier: 'update'
