SourceFile
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Transform'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Block'
        ImportSpecifier
          Identifier: ' Line'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' rewireSource'
    StringLiteral
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' pull'
        ArrowFunction
          Parameter
            Identifier: 'offset'
            NumberKeyword
          EqualsGreaterThanToken
          ArrowFunction
            Parameter
              Identifier: 'str'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                Identifier: ' str'
                Identifier: 'slice'
              Identifier: 'offset'
  VariableStatement
    VariableDeclarationList
      VariableDeclaration
        Identifier: ' push'
        ArrowFunction
          Parameter
            Identifier: 'offset'
            NumberKeyword
          EqualsGreaterThanToken
          Block
            VariableStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' space'
                  CallExpression
                    PropertyAccessExpression
                      StringLiteral
                      Identifier: 'padStart'
                    Identifier: 'offset'
                    StringLiteral
            ReturnStatement
              ArrowFunction
                Parameter
                  Identifier: 'str'
                EqualsGreaterThanToken
                BinaryExpression
                  Identifier: ' str'
                  PlusToken
                  Identifier: ' space'
  FunctionDeclaration
    ExportKeyword
    DefaultKeyword
    Identifier: ' indent'
    Parameter
      Identifier: 'pos'
      NumberKeyword
    TypeReference
      Identifier: ' Transform'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' shift'
            FunctionType
              Parameter
                Identifier: 'string'
                StringKeyword
              StringKeyword
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' pad'
            ArrowFunction
              Parameter
                Identifier: 'start'
                StringKeyword
              EqualsGreaterThanToken
              Block
                IfStatement
                  BinaryExpression
                    Identifier: 'shift'
                    EqualsEqualsEqualsToken
                    Identifier: ' undefined'
                  Block
                    VariableStatement
                      VariableDeclarationList
                        VariableDeclaration
                          Identifier: ' offset'
                          BinaryExpression
                            Identifier: ' pos'
                            MinusToken
                            PropertyAccessExpression
                              Identifier: ' start'
                              Identifier: 'length'
                    ExpressionStatement
                      BinaryExpression
                        Identifier: '
      shift'
                        EqualsToken
                        ConditionalExpression
                          BinaryExpression
                            Identifier: ' offset'
                            GreaterThanToken
                            NumericLiteral
                          QuestionToken
                          CallExpression
                            Identifier: ' push'
                            Identifier: 'offset'
                          ColonToken
                          CallExpression
                            Identifier: ' pull'
                            PrefixUnaryExpression
                              Identifier: 'offset'
                ReturnStatement
                  CallExpression
                    Identifier: ' shift'
                    Identifier: 'start'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' update'
            ArrowFunction
              Parameter
                Identifier: 'line'
                TypeReference
                  Identifier: ' Line'
              TypeReference
                Identifier: ' Line'
              EqualsGreaterThanToken
              ParenthesizedExpression
                ObjectLiteralExpression
                  SpreadAssignment
                    Identifier: 'line'
                  PropertyAssignment
                    Identifier: '
    tokens'
                    ObjectLiteralExpression
                      SpreadAssignment
                        PropertyAccessExpression
                          Identifier: 'line'
                          Identifier: 'tokens'
                      PropertyAssignment
                        Identifier: ' start'
                        CallExpression
                          Identifier: ' pad'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: 'line'
                              Identifier: 'tokens'
                            Identifier: 'start'
      ReturnStatement
        ArrowFunction
          Parameter
            ObjectBindingPattern
              BindingElement
                Identifier: ' source'
              BindingElement
                DotDotDotToken
                Identifier: 'fields'
            TypeReference
              Identifier: ' Block'
          TypeReference
            Identifier: ' Block'
          EqualsGreaterThanToken
          CallExpression
            Identifier: '
    rewireSource'
            ObjectLiteralExpression
              SpreadAssignment
                Identifier: 'fields'
              PropertyAssignment
                Identifier: ' source'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' source'
                    Identifier: 'map'
                  Identifier: 'update'
