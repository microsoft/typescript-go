SourceFile
  ImportDeclaration
    ImportClause
      Identifier: ' path'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' incrementalVerifier'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' patchServiceForStateBaseline'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    createLoggerWithInMemoryLogs'
        ImportSpecifier
          Identifier: '
    LoggerWithInMemoryLogs'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' FileRangesRequestArgs'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' Baseline'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' ts'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' patchHostForBuildInfoReadWrite'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' ensureErrorFreeBuild'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: ' TscWatchCompileChange'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    customTypesMap'
        ImportSpecifier
          Identifier: '
    TestTypingsInstallerAdapter'
        ImportSpecifier
          Identifier: '
    TestTypingsInstallerOptions'
    StringLiteral
  ImportDeclaration
    ImportClause
      NamedImports
        ImportSpecifier
          Identifier: '
    changeToHostTrackingWrittenFiles'
        ImportSpecifier
          Identifier: '
    File'
        ImportSpecifier
          Identifier: '
    FileOrFolderOrSymLink'
        ImportSpecifier
          Identifier: '
    SerializeOutputOrder'
        ImportSpecifier
          Identifier: '
    TestServerHost'
        ImportSpecifier
          Identifier: '
    TestServerHostTrackingWrittenFiles'
    StringLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' baselineTsserverLogs'
    Parameter
      Identifier: 'scenario'
      StringKeyword
    Parameter
      Identifier: ' subScenario'
      StringKeyword
    Parameter
      Identifier: ' sessionOrService'
      TypeLiteral
        PropertySignature
          Identifier: ' logger'
          TypeReference
            Identifier: ' LoggerWithInMemoryLogs'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    Baseline'
            Identifier: 'runBaseline'
          TemplateExpression
            TemplateHead
            TemplateSpan
              Identifier: 'scenario'
              TemplateMiddle
            TemplateSpan
              CallExpression
                PropertyAccessExpression
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'subScenario'
                      Identifier: 'split'
                    StringLiteral
                  Identifier: 'join'
                StringLiteral
              TemplateTail
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' sessionOrService'
                  Identifier: 'logger'
                Identifier: 'logs'
              Identifier: 'join'
            StringLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' toExternalFile'
    Parameter
      Identifier: 'fileName'
      StringKeyword
    TypeReference
      QualifiedName
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'protocol'
        Identifier: 'ExternalFile'
    Block
      ReturnStatement
        ObjectLiteralExpression
          ShorthandPropertyAssignment
            Identifier: ' fileName'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' toExternalFiles'
    Parameter
      Identifier: 'fileNames'
      ArrayType
        StringKeyword
    ArrayType
      TypeReference
        QualifiedName
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'protocol'
          Identifier: 'ExternalFile'
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'map'
          Identifier: 'fileNames'
          Identifier: ' toExternalFile'
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TestSessionAndServiceHost'
    IntersectionType
      TypeReference
        Identifier: ' TestServerHostTrackingWrittenFiles'
      TypeLiteral
        PropertySignature
          Identifier: '
    patched'
          BooleanKeyword
        MethodSignature
          Identifier: '
    baselineHost'
          Parameter
            Identifier: 'title'
            StringKeyword
          VoidKeyword
  FunctionDeclaration
    ExportKeyword
    Identifier: ' patchHostTimeouts'
    Parameter
      Identifier: '
    inputHost'
      TypeReference
        Identifier: ' TestServerHostTrackingWrittenFiles'
    Parameter
      Identifier: '
    session'
      UnionType
        TypeReference
          Identifier: ' TestSession'
        UndefinedKeyword
    Parameter
      Identifier: '
    logger'
      TypeReference
        Identifier: ' LoggerWithInMemoryLogs'
    TypeReference
      Identifier: ' TestSessionAndServiceHost'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' host'
            AsExpression
              Identifier: ' inputHost'
              TypeReference
                Identifier: ' TestSessionAndServiceHost'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    host'
            Identifier: 'service'
          EqualsToken
          CallExpression
            PropertyAccessExpression
              Identifier: ' session'
              QuestionDotToken
              Identifier: 'getProjectService'
      IfStatement
        Identifier: 'session'
        ExpressionStatement
          CallExpression
            Identifier: ' patchServiceForStateBaseline'
            CallExpression
              PropertyAccessExpression
                Identifier: 'session'
                Identifier: 'getProjectService'
      IfStatement
        PropertyAccessExpression
          Identifier: 'host'
          Identifier: 'patched'
        ReturnStatement
          Identifier: ' host'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    host'
            Identifier: 'patched'
          EqualsToken
          TrueKeyword
      IfStatement
        PrefixUnaryExpression
          CallExpression
            PropertyAccessExpression
              Identifier: 'logger'
              Identifier: 'hasLevel'
            PropertyAccessExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'LogLevel'
              Identifier: 'verbose'
        Block
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: '
        host'
                Identifier: 'baselineHost'
              EqualsToken
              PropertyAccessExpression
                Identifier: ' ts'
                Identifier: 'notImplemented'
          ReturnStatement
            Identifier: ' host'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '

    host'
            Identifier: 'switchToBaseliningInvoke'
          Identifier: 'logger'
          PropertyAccessExpression
            Identifier: ' SerializeOutputOrder'
            Identifier: 'None'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    host'
            Identifier: 'baselineHost'
          EqualsToken
          Identifier: ' baselineHost'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    host'
            Identifier: 'patched'
          EqualsToken
          TrueKeyword
      ReturnStatement
        Identifier: ' host'
      FunctionDeclaration
        Identifier: ' baselineHost'
        Parameter
          Identifier: 'title'
          StringKeyword
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        logger'
                Identifier: 'log'
              Identifier: 'title'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        host'
                Identifier: 'serializeState'
              PropertyAccessExpression
                Identifier: 'logger'
                Identifier: 'logs'
              PropertyAccessExpression
                Identifier: ' SerializeOutputOrder'
                Identifier: 'None'
  FunctionDeclaration
    Identifier: ' patchSessionToHandleWatchEvents'
    Parameter
      Identifier: 'session'
      TypeReference
        Identifier: ' TestSession'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' event'
            PropertyAccessExpression
              Identifier: ' session'
              Identifier: 'event'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' idToClose'
            NewExpression
              Identifier: ' Map'
              NumberKeyword
              FunctionType
                VoidKeyword
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    session'
            Identifier: 'event'
          EqualsToken
          ArrowFunction
            Parameter
              Identifier: 'data'
            Parameter
              Identifier: ' eventName'
            EqualsGreaterThanToken
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        event'
                    Identifier: 'call'
                  Identifier: 'session'
                  Identifier: ' data'
                  Identifier: ' eventName'
              SwitchStatement
                Identifier: 'eventName'
                CaseBlock
                  CaseClause
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'server'
                      Identifier: 'CreateFileWatcherEvent'
                    ExpressionStatement
                      CallExpression
                        Identifier: '
                watchFile'
                        AsExpression
                          Identifier: 'data'
                          TypeReference
                            QualifiedName
                              QualifiedName
                                QualifiedName
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CreateFileWatcherEventBody'
                    BreakStatement
                  CaseClause
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'server'
                      Identifier: 'CreateDirectoryWatcherEvent'
                    ExpressionStatement
                      CallExpression
                        Identifier: '
                watchDirectory'
                        AsExpression
                          Identifier: 'data'
                          TypeReference
                            QualifiedName
                              QualifiedName
                                QualifiedName
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CreateDirectoryWatcherEventBody'
                    BreakStatement
                  CaseClause
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'server'
                      Identifier: 'CloseFileWatcherEvent'
                    ExpressionStatement
                      CallExpression
                        Identifier: '
                closeWatcher'
                        AsExpression
                          Identifier: 'data'
                          TypeReference
                            QualifiedName
                              QualifiedName
                                QualifiedName
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CloseFileWatcherEventBody'
                    BreakStatement
                  DefaultClause
                    BreakStatement
      FunctionDeclaration
        Identifier: ' watchFile'
        Parameter
          Identifier: 'event'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'CreateFileWatcherEventBody'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        createWatcher'
              StringLiteral
              Identifier: '
            event'
              ArrowFunction
                Parameter
                  Identifier: '
            recordChange'
                EqualsGreaterThanToken
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                session'
                        Identifier: 'host'
                      Identifier: 'watchUtils'
                    Identifier: 'pollingWatch'
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                    session'
                        Identifier: 'host'
                      Identifier: 'toNormalizedAbsolutePath'
                    PropertyAccessExpression
                      Identifier: 'event'
                      Identifier: 'path'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: '
                        cb'
                      ArrowFunction
                        Parameter
                          Identifier: 'fileName'
                        Parameter
                          Identifier: ' eventKind'
                        EqualsGreaterThanToken
                        CallExpression
                          Identifier: '
                            recordChange'
                          PropertyAccessExpression
                            Identifier: '
                                event'
                            Identifier: 'id'
                          ConditionalExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                Identifier: '
                                session'
                                Identifier: 'host'
                              Identifier: 'windowsStyleRoot'
                            QuestionToken
                            CallExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: '
                                    path'
                                  Identifier: 'win32'
                                Identifier: 'resolve'
                              Identifier: 'fileName'
                            ColonToken
                            CallExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: '
                                    path'
                                  Identifier: 'posix'
                                Identifier: 'resolve'
                              Identifier: 'fileName'
                          ConditionalExpression
                            BinaryExpression
                              Identifier: '
                                eventKind'
                              EqualsEqualsEqualsToken
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'FileWatcherEventKind'
                                Identifier: 'Created'
                            QuestionToken
                            StringLiteral
                            ColonToken
                            ConditionalExpression
                              BinaryExpression
                                Identifier: '
                                    eventKind'
                                EqualsEqualsEqualsToken
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' ts'
                                    Identifier: 'FileWatcherEventKind'
                                  Identifier: 'Deleted'
                              QuestionToken
                              StringLiteral
                              ColonToken
                              StringLiteral
                          FalseKeyword
                    PropertyAssignment
                      Identifier: '
                        pollingInterval'
                      NonNullExpression
                        Identifier: ' undefined'
                    ShorthandPropertyAssignment
                      Identifier: '
                        event'
      FunctionDeclaration
        Identifier: ' watchDirectory'
        Parameter
          Identifier: 'event'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'CreateDirectoryWatcherEventBody'
        Block
          ExpressionStatement
            CallExpression
              Identifier: '
        createWatcher'
              StringLiteral
              Identifier: '
            event'
              ArrowFunction
                Parameter
                  Identifier: '
            recordChange'
                EqualsGreaterThanToken
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                session'
                        Identifier: 'host'
                      Identifier: 'watchUtils'
                    Identifier: 'fsWatch'
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                    session'
                        Identifier: 'host'
                      Identifier: 'toNormalizedAbsolutePath'
                    PropertyAccessExpression
                      Identifier: 'event'
                      Identifier: 'path'
                  PropertyAccessExpression
                    Identifier: '
                    event'
                    Identifier: 'recursive'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: '
                        cb'
                      ArrowFunction
                        Parameter
                          Identifier: 'eventName'
                        Parameter
                          Identifier: ' relativeFileName'
                        EqualsGreaterThanToken
                        Block
                          IfStatement
                            PrefixUnaryExpression
                              Identifier: 'relativeFileName'
                            ReturnStatement
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' fileName'
                                ConditionalExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' session'
                                      Identifier: 'host'
                                    Identifier: 'windowsStyleRoot'
                                  QuestionToken
                                  CallExpression
                                    PropertyAccessExpression
                                      PropertyAccessExpression
                                        Identifier: '
                                path'
                                        Identifier: 'win32'
                                      Identifier: 'join'
                                    PropertyAccessExpression
                                      Identifier: 'event'
                                      Identifier: 'path'
                                    Identifier: ' relativeFileName'
                                  ColonToken
                                  CallExpression
                                    PropertyAccessExpression
                                      PropertyAccessExpression
                                        Identifier: '
                                path'
                                        Identifier: 'posix'
                                      Identifier: 'join'
                                    PropertyAccessExpression
                                      Identifier: 'event'
                                      Identifier: 'path'
                                    Identifier: ' relativeFileName'
                          IfStatement
                            BinaryExpression
                              Identifier: 'eventName'
                              EqualsEqualsEqualsToken
                              StringLiteral
                            Block
                              ExpressionStatement
                                CallExpression
                                  Identifier: '
                                recordChange'
                                  PropertyAccessExpression
                                    Identifier: '
                                    event'
                                    Identifier: 'id'
                                  Identifier: '
                                    fileName'
                                  StringLiteral
                                  PrefixUnaryExpression
                                    PrefixUnaryExpression
                                      PropertyAccessExpression
                                        Identifier: 'event'
                                        Identifier: 'ignoreUpdate'
                            Block
                              ExpressionStatement
                                CallExpression
                                  Identifier: '
                                recordChange'
                                  PropertyAccessExpression
                                    Identifier: '
                                    event'
                                    Identifier: 'id'
                                  Identifier: '
                                    fileName'
                                  ConditionalExpression
                                    BinaryExpression
                                      CallExpression
                                        PropertyAccessExpression
                                          PropertyAccessExpression
                                            Identifier: '
                                    session'
                                            Identifier: 'host'
                                          Identifier: 'fileExists'
                                        Identifier: 'fileName'
                                      BarBarToken
                                      CallExpression
                                        PropertyAccessExpression
                                          PropertyAccessExpression
                                            Identifier: ' session'
                                            Identifier: 'host'
                                          Identifier: 'directoryExists'
                                        Identifier: 'fileName'
                                    QuestionToken
                                    StringLiteral
                                    ColonToken
                                    StringLiteral
                                  PrefixUnaryExpression
                                    PrefixUnaryExpression
                                      PropertyAccessExpression
                                        Identifier: 'event'
                                        Identifier: 'ignoreUpdate'
                    PropertyAssignment
                      Identifier: '
                        inode'
                      Identifier: ' undefined'
                    ShorthandPropertyAssignment
                      Identifier: '
                        event'
      FunctionDeclaration
        Identifier: ' createWatcher'
        Parameter
          Identifier: '
        watchType'
          StringKeyword
        Parameter
          Identifier: '
        event'
          UnionType
            TypeReference
              QualifiedName
                QualifiedName
                  QualifiedName
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'protocol'
                Identifier: 'CreateFileWatcherEventBody'
            TypeReference
              QualifiedName
                QualifiedName
                  QualifiedName
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'protocol'
                Identifier: 'CreateDirectoryWatcherEventBody'
        Parameter
          Identifier: '
        create'
          FunctionType
            Parameter
              Identifier: '
            recordChange'
              FunctionType
                Parameter
                  Identifier: '
                id'
                  NumberKeyword
                Parameter
                  Identifier: '
                file'
                  StringKeyword
                Parameter
                  Identifier: '
                eventType'
                  UnionType
                    LiteralType
                      StringLiteral
                    LiteralType
                      StringLiteral
                    LiteralType
                      StringLiteral
                Parameter
                  Identifier: '
                ignoreUpdate'
                  BooleanKeyword
                VoidKeyword
            TypeReference
              QualifiedName
                Identifier: ' ts'
                Identifier: 'FileWatcher'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
        session'
                  Identifier: 'logger'
                Identifier: 'log'
              TemplateExpression
                TemplateHead
                TemplateSpan
                  Identifier: 'watchType'
                  TemplateMiddle
                TemplateSpan
                  CallExpression
                    PropertyAccessExpression
                      Identifier: 'JSON'
                      Identifier: 'stringify'
                    Identifier: 'event'
                  TemplateTail
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
        ts'
                  Identifier: 'Debug'
                Identifier: 'assert'
              PrefixUnaryExpression
                CallExpression
                  PropertyAccessExpression
                    Identifier: 'idToClose'
                    Identifier: 'has'
                  PropertyAccessExpression
                    Identifier: 'event'
                    Identifier: 'id'
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' result'
                CallExpression
                  Identifier: ' create'
                  ArrowFunction
                    Parameter
                      Identifier: 'id'
                    Parameter
                      Identifier: ' file'
                    Parameter
                      Identifier: ' eventType'
                    Parameter
                      Identifier: ' ignoreUpdate'
                    EqualsGreaterThanToken
                    Block
                      VariableStatement
                        VariableDeclarationList
                          VariableDeclaration
                            Identifier: ' ignored'
                            BinaryExpression
                              BinaryExpression
                                Identifier: ' eventType'
                                EqualsEqualsEqualsToken
                                StringLiteral
                              AmpersandAmpersandToken
                              Identifier: ' ignoreUpdate'
                      ExpressionStatement
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: '
            session'
                              Identifier: 'logger'
                            Identifier: 'log'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'watchType'
                              TemplateMiddle
                            TemplateSpan
                              ConditionalExpression
                                Identifier: 'ignoreUpdate'
                                QuestionToken
                                StringLiteral
                                ColonToken
                                StringLiteral
                              TemplateMiddle
                            TemplateSpan
                              CallExpression
                                PropertyAccessExpression
                                  Identifier: 'JSON'
                                  Identifier: 'stringify'
                                Identifier: 'event'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'file'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'eventType'
                              TemplateTail
                      IfStatement
                        PrefixUnaryExpression
                          Identifier: 'ignored'
                        Block
                          VariableStatement
                            VariableDeclarationList
                              VariableDeclaration
                                Identifier: ' watchChange'
                                CallExpression
                                  PropertyAccessExpression
                                    PropertyAccessExpression
                                      Identifier: ' session'
                                      Identifier: 'watchChanges'
                                    Identifier: 'get'
                                  Identifier: 'id'
                          IfStatement
                            PrefixUnaryExpression
                              Identifier: 'watchChange'
                            ExpressionStatement
                              CallExpression
                                PropertyAccessExpression
                                  PropertyAccessExpression
                                    Identifier: ' session'
                                    Identifier: 'watchChanges'
                                  Identifier: 'set'
                                Identifier: 'id'
                                BinaryExpression
                                  Identifier: ' watchChange'
                                  EqualsToken
                                  ObjectLiteralExpression
                                    ShorthandPropertyAssignment
                                      Identifier: ' id'
                          ExpressionStatement
                            CallExpression
                              PropertyAccessExpression
                                ParenthesizedExpression
                                  BinaryExpression
                                    ElementAccessExpression
                                      Identifier: 'watchChange'
                                      Identifier: 'eventType'
                                    QuestionQuestionEqualsToken
                                    ArrayLiteralExpression
                                Identifier: 'push'
                              Identifier: 'file'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        idToClose'
                Identifier: 'set'
              PropertyAccessExpression
                Identifier: 'event'
                Identifier: 'id'
              ArrowFunction
                EqualsGreaterThanToken
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: '
            session'
                          Identifier: 'logger'
                        Identifier: 'log'
                      TemplateExpression
                        TemplateHead
                        TemplateSpan
                          Identifier: 'watchType'
                          TemplateMiddle
                        TemplateSpan
                          CallExpression
                            PropertyAccessExpression
                              Identifier: 'JSON'
                              Identifier: 'stringify'
                            Identifier: 'event'
                          TemplateTail
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            result'
                        Identifier: 'close'
      FunctionDeclaration
        Identifier: ' closeWatcher'
        Parameter
          Identifier: 'data'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'CloseFileWatcherEventBody'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' close'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' idToClose'
                    Identifier: 'get'
                  PropertyAccessExpression
                    Identifier: 'data'
                    Identifier: 'id'
          IfStatement
            Identifier: 'close'
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
            idToClose'
                    Identifier: 'delete'
                  PropertyAccessExpression
                    Identifier: 'data'
                    Identifier: 'id'
              ExpressionStatement
                CallExpression
                  Identifier: '
            close'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' TestSessionOptions'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'SessionOptions'
      ExpressionWithTypeArguments
        Identifier: ' TestTypingsInstallerOptions'
    PropertySignature
      Identifier: '
    host'
      TypeReference
        Identifier: ' TestServerHost'
    PropertySignature
      Identifier: '
    logger'
      TypeReference
        Identifier: ' LoggerWithInMemoryLogs'
    PropertySignature
      Identifier: '
    disableAutomaticTypingAcquisition'
      QuestionToken
      BooleanKeyword
    PropertySignature
      Identifier: '
    useCancellationToken'
      QuestionToken
      UnionType
        BooleanKeyword
        NumberKeyword
    PropertySignature
      Identifier: '
    regionDiagLineCountThreshold'
      QuestionToken
      NumberKeyword
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TestSessionPartialOptionsAndHost'
    IntersectionType
      TypeReference
        Identifier: ' Partial'
        TypeReference
          Identifier: 'Omit'
          TypeReference
            Identifier: 'TestSessionOptions'
          UnionType
            LiteralType
              StringLiteral
            LiteralType
              StringLiteral
      TypeReference
        Identifier: ' Pick'
        TypeReference
          Identifier: 'TestSessionOptions'
        LiteralType
          StringLiteral
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TestSessionConstructorOptions'
    UnionType
      TypeReference
        Identifier: ' TestServerHost'
      TypeReference
        Identifier: ' TestSessionPartialOptionsAndHost'
  TypeAliasDeclaration
    ExportKeyword
    Identifier: ' TestSessionRequest'
    TypeParameter
      Identifier: 'T'
      TypeReference
        QualifiedName
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'protocol'
          Identifier: 'Request'
    TypeReference
      Identifier: ' Pick'
      TypeReference
        Identifier: 'T'
      UnionType
        LiteralType
          StringLiteral
        LiteralType
          StringLiteral
  FunctionDeclaration
    Identifier: ' getTestSessionPartialOptionsAndHost'
    Parameter
      Identifier: 'optsOrHost'
      TypeReference
        Identifier: ' TestSessionConstructorOptions'
    TypeReference
      Identifier: ' TestSessionPartialOptionsAndHost'
    Block
      ReturnStatement
        ConditionalExpression
          BinaryExpression
            StringLiteral
            InKeyword
            Identifier: ' optsOrHost'
          QuestionToken
          Identifier: '
        optsOrHost'
          ColonToken
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: ' host'
              Identifier: ' optsOrHost'
  ClassDeclaration
    ExportKeyword
    Identifier: ' TestSession'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'Session'
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' seq'
      NumericLiteral
    PropertyDeclaration
      PublicKeyword
      OverrideKeyword
      Identifier: ' host'
      ExclamationToken
      TypeReference
        Identifier: ' TestSessionAndServiceHost'
    PropertyDeclaration
      PublicKeyword
      OverrideKeyword
      Identifier: ' logger'
      ExclamationToken
      TypeReference
        Identifier: ' LoggerWithInMemoryLogs'
    PropertyDeclaration
      PublicKeyword
      OverrideKeyword
      ReadonlyKeyword
      Identifier: ' typingsInstaller'
      ExclamationToken
      TypeReference
        Identifier: ' TestTypingsInstallerAdapter'
    PropertyDeclaration
      PublicKeyword
      Identifier: ' serverCancellationToken'
      TypeReference
        Identifier: ' TestServerCancellationToken'
    PropertyDeclaration
      PublicKeyword
      Identifier: ' watchChanges'
      TypeReference
        Identifier: ' Map'
        NumberKeyword
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'protocol'
            Identifier: 'WatchChangeRequestArgs'
      NewExpression
        Identifier: ' Map'
    Constructor
      Parameter
        Identifier: 'optsOrHost'
        TypeReference
          Identifier: ' TestSessionConstructorOptions'
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' opts'
              CallExpression
                Identifier: ' getTestSessionPartialOptionsAndHost'
                Identifier: 'optsOrHost'
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              Identifier: '
        opts'
              Identifier: 'logger'
            EqualsToken
            BinaryExpression
              PropertyAccessExpression
                Identifier: ' opts'
                Identifier: 'logger'
              BarBarToken
              CallExpression
                Identifier: ' createLoggerWithInMemoryLogs'
                PropertyAccessExpression
                  Identifier: 'opts'
                  Identifier: 'host'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' typingsInstaller'
              ConditionalExpression
                PrefixUnaryExpression
                  PropertyAccessExpression
                    Identifier: 'opts'
                    Identifier: 'disableAutomaticTypingAcquisition'
                QuestionToken
                NewExpression
                  Identifier: ' TestTypingsInstallerAdapter'
                  Identifier: 'opts'
                ColonToken
                Identifier: ' undefined'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' cancellationToken'
              ConditionalExpression
                PropertyAccessExpression
                  Identifier: ' opts'
                  Identifier: 'useCancellationToken'
                QuestionToken
                NewExpression
                  Identifier: ' TestServerCancellationToken'
                  PropertyAccessExpression
                    Identifier: '
                opts'
                    Identifier: 'logger'
                  ConditionalExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
                ts'
                        Identifier: 'isNumber'
                      PropertyAccessExpression
                        Identifier: 'opts'
                        Identifier: 'useCancellationToken'
                    QuestionToken
                    PropertyAccessExpression
                      Identifier: ' opts'
                      Identifier: 'useCancellationToken'
                    ColonToken
                    Identifier: ' undefined'
                ColonToken
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: '
            ts'
                    Identifier: 'server'
                  Identifier: 'nullCancellationToken'
        ExpressionStatement
          CallExpression
            SuperKeyword
            ObjectLiteralExpression
              ShorthandPropertyAssignment
                Identifier: '
            cancellationToken'
              PropertyAssignment
                Identifier: '
            useSingleInferredProject'
                FalseKeyword
              PropertyAssignment
                Identifier: '
            useInferredProjectPerProjectRoot'
                FalseKeyword
              PropertyAssignment
                Identifier: '
            noGetErrOnBackgroundUpdate'
                TrueKeyword
              PropertyAssignment
                Identifier: '
            byteLength'
                PropertyAccessExpression
                  Identifier: ' Buffer'
                  Identifier: 'byteLength'
              PropertyAssignment
                Identifier: '
            hrtime'
                PropertyAccessExpression
                  Identifier: ' process'
                  Identifier: 'hrtime'
              PropertyAssignment
                Identifier: '
            logger'
                PropertyAccessExpression
                  Identifier: ' opts'
                  Identifier: 'logger'
              PropertyAssignment
                Identifier: '
            canUseEvents'
                TrueKeyword
              ShorthandPropertyAssignment
                Identifier: '
            incrementalVerifier'
              PropertyAssignment
                Identifier: '
            typesMapLocation'
                PropertyAccessExpression
                  Identifier: ' customTypesMap'
                  Identifier: 'path'
              ShorthandPropertyAssignment
                Identifier: '
            typingsInstaller'
              SpreadAssignment
                Identifier: 'opts'
        IfStatement
          Identifier: 'typingsInstaller'
          ExpressionStatement
            BinaryExpression
              PropertyAccessExpression
                Identifier: ' typingsInstaller'
                Identifier: 'session'
              EqualsToken
              ThisKeyword
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'serverCancellationToken'
            EqualsToken
            AsExpression
              Identifier: ' cancellationToken'
              TypeReference
                Identifier: ' TestServerCancellationToken'
        ExpressionStatement
          CallExpression
            Identifier: '
        patchHostTimeouts'
            CallExpression
              Identifier: '
            changeToHostTrackingWrittenFiles'
              CallExpression
                Identifier: 'patchHostForBuildInfoReadWrite'
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'host'
            ThisKeyword
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'logger'
        IfStatement
          BinaryExpression
            PropertyAccessExpression
              Identifier: 'opts'
              Identifier: 'regionDiagLineCountThreshold'
            ExclamationEqualsEqualsToken
            Identifier: ' undefined'
          Block
            ExpressionStatement
              BinaryExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'regionDiagLineCountThreshold'
                EqualsToken
                PropertyAccessExpression
                  Identifier: ' opts'
                  Identifier: 'regionDiagLineCountThreshold'
        IfStatement
          PropertyAccessExpression
            Identifier: 'opts'
            Identifier: 'canUseWatchEvents'
          ExpressionStatement
            CallExpression
              Identifier: ' patchSessionToHandleWatchEvents'
              ThisKeyword
    MethodDeclaration
      Identifier: '

    getProjectService'
      TypeReference
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'ProjectService'
      Block
        ReturnStatement
          PropertyAccessExpression
            ThisKeyword
            Identifier: 'projectService'
    MethodDeclaration
      PublicKeyword
      Identifier: ' getSeq'
      NumberKeyword
      Block
        ReturnStatement
          PropertyAccessExpression
            ThisKeyword
            Identifier: 'seq'
    MethodDeclaration
      PublicKeyword
      Identifier: ' getNextSeq'
      NumberKeyword
      Block
        ReturnStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'seq'
            PlusToken
            NumericLiteral
    MethodDeclaration
      PublicKeyword
      OverrideKeyword
      Identifier: ' executeCommand'
      Parameter
        Identifier: 'request'
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'protocol'
            Identifier: 'Request'
      TypeReference
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'HandlerResponse'
      Block
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'logger'
              Identifier: 'hasLevel'
            PropertyAccessExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'LogLevel'
              Identifier: 'verbose'
          Block
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'host'
                  Identifier: 'baselineHost'
                StringLiteral
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'logger'
                  Identifier: 'info'
                TemplateExpression
                  TemplateHead
                  TemplateSpan
                    CallExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: 'ts'
                          Identifier: 'server'
                        Identifier: 'stringifyIndented'
                      Identifier: 'request'
                    TemplateTail
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' response'
              CallExpression
                PropertyAccessExpression
                  SuperKeyword
                  Identifier: 'executeCommand'
                Identifier: 'request'
        IfStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'logger'
              Identifier: 'hasLevel'
            PropertyAccessExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'LogLevel'
              Identifier: 'verbose'
          Block
            IfStatement
              PropertyAccessExpression
                Identifier: 'response'
                Identifier: 'responseRequired'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'logger'
                    Identifier: 'info'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      CallExpression
                        PropertyAccessExpression
                          PropertyAccessExpression
                            Identifier: 'ts'
                            Identifier: 'server'
                          Identifier: 'stringifyIndented'
                        ConditionalExpression
                          BinaryExpression
                            PropertyAccessExpression
                              Identifier: 'response'
                              Identifier: 'response'
                            EqualsEqualsEqualsToken
                            CallExpression
                              PropertyAccessExpression
                                Identifier: ' ts'
                                Identifier: 'getSupportedCodeFixes'
                          QuestionToken
                          ObjectLiteralExpression
                            SpreadAssignment
                              Identifier: 'response'
                            PropertyAssignment
                              Identifier: ' response'
                              StringLiteral
                          ColonToken
                          Identifier: ' response'
                      TemplateTail
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'host'
                  Identifier: 'baselineHost'
                StringLiteral
        ReturnStatement
          Identifier: ' response'
    MethodDeclaration
      PublicKeyword
      Identifier: ' executeCommandSeq'
      TypeParameter
        Identifier: 'T'
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'protocol'
            Identifier: 'Request'
      Parameter
        Identifier: 'inputRequest'
        TypeReference
          Identifier: ' TestSessionRequest'
          TypeReference
            Identifier: 'T'
      TypeReference
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'HandlerResponse'
      Block
        ExpressionStatement
          PostfixUnaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'seq'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' request'
              TypeReference
                Identifier: ' T'
              AsExpression
                Identifier: ' inputRequest'
                TypeReference
                  Identifier: ' T'
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              Identifier: '
        request'
              Identifier: 'seq'
            EqualsToken
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'seq'
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              Identifier: '
        request'
              Identifier: 'type'
            EqualsToken
            StringLiteral
        ReturnStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'executeCommand'
            Identifier: 'request'
    MethodDeclaration
      PublicKeyword
      Identifier: ' invokeWatchChanges'
      VoidKeyword
      Block
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' changes'
              CallExpression
                PropertyAccessExpression
                  Identifier: ' ts'
                  Identifier: 'singleOrMany'
                CallExpression
                  PropertyAccessExpression
                    Identifier: 'ts'
                    Identifier: 'arrayFrom'
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        ThisKeyword
                        Identifier: 'watchChanges'
                      Identifier: 'values'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'watchChanges'
              Identifier: 'clear'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'executeCommandSeq'
            TypeReference
              QualifiedName
                QualifiedName
                  QualifiedName
                    Identifier: 'ts'
                    Identifier: 'server'
                  Identifier: 'protocol'
                Identifier: 'WatchChangeRequest'
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
            command'
                PropertyAccessExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'server'
                      Identifier: 'protocol'
                    Identifier: 'CommandTypes'
                  Identifier: 'WatchChange'
              PropertyAssignment
                Identifier: '
            arguments'
                Identifier: ' changes'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' createSessionWithCustomEventHandler'
    Parameter
      Identifier: '
    optsOrHost'
      TypeReference
        Identifier: ' TestSessionConstructorOptions'
    Parameter
      Identifier: '
    customAction'
      QuestionToken
      FunctionType
        Parameter
          Identifier: 'event'
          TypeReference
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'ProjectServiceEvent'
        VoidKeyword
    TypeReference
      Identifier: ' TestSession'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' opts'
            CallExpression
              Identifier: ' getTestSessionPartialOptionsAndHost'
              Identifier: 'optsOrHost'
      ExpressionStatement
        BinaryExpression
          PropertyAccessExpression
            Identifier: '
    opts'
            Identifier: 'eventHandler'
          EqualsToken
          Identifier: ' eventHandler'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' session'
            NewExpression
              Identifier: ' TestSession'
              Identifier: 'opts'
      ReturnStatement
        Identifier: ' session'
      FunctionDeclaration
        Identifier: ' eventHandler'
        Parameter
          Identifier: 'event'
          TypeReference
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'ProjectServiceEvent'
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' data'
                AsExpression
                  PropertyAccessExpression
                    Identifier: ' event'
                    Identifier: 'data'
                  AnyKeyword
          SwitchStatement
            PropertyAccessExpression
              Identifier: 'event'
              Identifier: 'eventName'
            CaseBlock
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'ProjectsUpdatedInBackgroundEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'LargeFileReferencedEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'ProjectInfoTelemetryEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'OpenFileInfoTelemetryEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'CreateFileWatcherEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'CreateDirectoryWatcherEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'CloseFileWatcherEvent'
                BreakStatement
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'ProjectLoadingStartEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'ProjectLoadingFinishEvent'
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'ProjectLanguageServiceStateEvent'
                ExpressionStatement
                  BinaryExpression
                    Identifier: '
                data'
                    EqualsToken
                    ObjectLiteralExpression
                      SpreadAssignment
                        Identifier: 'data'
                      PropertyAssignment
                        Identifier: ' project'
                        CallExpression
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                Identifier: ' event'
                                Identifier: 'data'
                              Identifier: 'project'
                            Identifier: 'getProjectName'
                BreakStatement
              CaseClause
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' ts'
                    Identifier: 'server'
                  Identifier: 'ConfigFileDiagEvent'
                ExpressionStatement
                  BinaryExpression
                    Identifier: '
                data'
                    EqualsToken
                    ObjectLiteralExpression
                      SpreadAssignment
                        Identifier: 'data'
                      PropertyAssignment
                        Identifier: ' diagnostics'
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'map'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              Identifier: 'event'
                              Identifier: 'data'
                            Identifier: 'diagnostics'
                          ArrowFunction
                            Parameter
                              Identifier: ' diagnostic'
                            EqualsGreaterThanToken
                            CallExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'formatDiagnosticToProtocol'
                              Identifier: 'diagnostic'
                              TrueKeyword
                BreakStatement
              DefaultClause
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: '
                ts'
                        Identifier: 'Debug'
                      Identifier: 'assertNever'
                    Identifier: 'event'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        session'
                Identifier: 'event'
              Identifier: 'data'
              TemplateExpression
                TemplateHead
                TemplateSpan
                  PropertyAccessExpression
                    Identifier: 'event'
                    Identifier: 'eventName'
                  TemplateTail
          ExpressionStatement
            CallExpression
              Identifier: '
        customAction'
              QuestionDotToken
              Identifier: 'event'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' protocolLocationFromSubstring'
    Parameter
      Identifier: 'str'
      StringKeyword
    Parameter
      Identifier: ' substring'
      StringKeyword
    Parameter
      Identifier: ' options'
      QuestionToken
      TypeReference
        Identifier: ' SpanFromSubstringOptions'
    TypeReference
      QualifiedName
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'protocol'
        Identifier: 'Location'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' start'
            CallExpression
              Identifier: ' nthIndexOf'
              Identifier: 'str'
              Identifier: ' substring'
              ConditionalExpression
                Identifier: ' options'
                QuestionToken
                PropertyAccessExpression
                  Identifier: ' options'
                  Identifier: 'index'
                ColonToken
                NumericLiteral
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: '
    ts'
              Identifier: 'Debug'
            Identifier: 'assert'
          BinaryExpression
            Identifier: 'start'
            ExclamationEqualsEqualsToken
            PrefixUnaryExpression
              NumericLiteral
      ReturnStatement
        CallExpression
          CallExpression
            Identifier: ' protocolToLocation'
            Identifier: 'str'
          Identifier: 'start'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' protocolToLocation'
    Parameter
      Identifier: 'text'
      StringKeyword
    FunctionType
      Parameter
        Identifier: 'pos'
        NumberKeyword
      TypeReference
        QualifiedName
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'protocol'
          Identifier: 'Location'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' lineStarts'
            CallExpression
              PropertyAccessExpression
                Identifier: ' ts'
                Identifier: 'computeLineStarts'
              Identifier: 'text'
      ReturnStatement
        ArrowFunction
          Parameter
            Identifier: ' pos'
          EqualsGreaterThanToken
          Block
            VariableStatement
              VariableDeclarationList
                VariableDeclaration
                  Identifier: ' x'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'computeLineAndCharacterOfPosition'
                    Identifier: 'lineStarts'
                    Identifier: ' pos'
            ReturnStatement
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: ' line'
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: ' x'
                      Identifier: 'line'
                    PlusToken
                    NumericLiteral
                PropertyAssignment
                  Identifier: ' offset'
                  BinaryExpression
                    PropertyAccessExpression
                      Identifier: ' x'
                      Identifier: 'character'
                    PlusToken
                    NumericLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' protocolTextSpanFromSubstring'
    Parameter
      Identifier: 'str'
      StringKeyword
    Parameter
      Identifier: ' substring'
      StringKeyword
    Parameter
      Identifier: ' options'
      QuestionToken
      TypeReference
        Identifier: ' SpanFromSubstringOptions'
    TypeReference
      QualifiedName
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'protocol'
        Identifier: 'TextSpan'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' span'
            CallExpression
              Identifier: ' textSpanFromSubstring'
              Identifier: 'str'
              Identifier: ' substring'
              Identifier: ' options'
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' toLocation'
            CallExpression
              Identifier: ' protocolToLocation'
              Identifier: 'str'
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' start'
            CallExpression
              Identifier: ' toLocation'
              PropertyAccessExpression
                Identifier: 'span'
                Identifier: 'start'
          PropertyAssignment
            Identifier: ' end'
            CallExpression
              Identifier: ' toLocation'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'textSpanEnd'
                Identifier: 'span'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' textSpanFromSubstring'
    Parameter
      Identifier: 'str'
      StringKeyword
    Parameter
      Identifier: ' substring'
      StringKeyword
    Parameter
      Identifier: ' options'
      QuestionToken
      TypeReference
        Identifier: ' SpanFromSubstringOptions'
    TypeReference
      QualifiedName
        Identifier: ' ts'
        Identifier: 'TextSpan'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' start'
            CallExpression
              Identifier: ' nthIndexOf'
              Identifier: 'str'
              Identifier: ' substring'
              ConditionalExpression
                Identifier: ' options'
                QuestionToken
                PropertyAccessExpression
                  Identifier: ' options'
                  Identifier: 'index'
                ColonToken
                NumericLiteral
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: '
    ts'
              Identifier: 'Debug'
            Identifier: 'assert'
          BinaryExpression
            Identifier: 'start'
            ExclamationEqualsEqualsToken
            PrefixUnaryExpression
              NumericLiteral
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'createTextSpan'
          Identifier: 'start'
          PropertyAccessExpression
            Identifier: ' substring'
            Identifier: 'length'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' protocolTextSpanToFileRange'
    Parameter
      Identifier: 'span'
      TypeReference
        QualifiedName
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'protocol'
          Identifier: 'TextSpan'
    TypeReference
      QualifiedName
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'protocol'
        Identifier: 'FileRange'
    Block
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: '
        startLine'
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: ' span'
                Identifier: 'start'
              Identifier: 'line'
          PropertyAssignment
            Identifier: '
        startOffset'
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: ' span'
                Identifier: 'start'
              Identifier: 'offset'
          PropertyAssignment
            Identifier: '
        endLine'
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: ' span'
                Identifier: 'end'
              Identifier: 'line'
          PropertyAssignment
            Identifier: '
        endOffset'
            PropertyAccessExpression
              PropertyAccessExpression
                Identifier: ' span'
                Identifier: 'end'
              Identifier: 'offset'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' protocolFileLocationFromSubstring'
    Parameter
      Identifier: 'file'
      TypeReference
        Identifier: ' File'
    Parameter
      Identifier: ' substring'
      StringKeyword
    Parameter
      Identifier: ' options'
      QuestionToken
      TypeReference
        Identifier: ' SpanFromSubstringOptions'
    TypeReference
      QualifiedName
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'protocol'
        Identifier: 'FileLocationRequestArgs'
    Block
      ReturnStatement
        ObjectLiteralExpression
          PropertyAssignment
            Identifier: ' file'
            PropertyAccessExpression
              Identifier: ' file'
              Identifier: 'path'
          SpreadAssignment
            CallExpression
              Identifier: 'protocolLocationFromSubstring'
              PropertyAccessExpression
                Identifier: 'file'
                Identifier: 'content'
              Identifier: ' substring'
              Identifier: ' options'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' SpanFromSubstringOptions'
    PropertySignature
      ReadonlyKeyword
      Identifier: ' index'
      NumberKeyword
  FunctionDeclaration
    Identifier: ' nthIndexOf'
    Parameter
      Identifier: 'str'
      StringKeyword
    Parameter
      Identifier: ' substr'
      StringKeyword
    Parameter
      Identifier: ' n'
      NumberKeyword
    NumberKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' index'
            PrefixUnaryExpression
              NumericLiteral
      ForStatement
        BinaryExpression
          Identifier: ' n'
          GreaterThanEqualsToken
          NumericLiteral
        PostfixUnaryExpression
          Identifier: ' n'
        Block
          ExpressionStatement
            BinaryExpression
              Identifier: '
        index'
              EqualsToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' str'
                  Identifier: 'indexOf'
                Identifier: 'substr'
                BinaryExpression
                  Identifier: ' index'
                  PlusToken
                  NumericLiteral
          IfStatement
            BinaryExpression
              Identifier: 'index'
              EqualsEqualsEqualsToken
              PrefixUnaryExpression
                NumericLiteral
            ReturnStatement
              PrefixUnaryExpression
                NumericLiteral
      ReturnStatement
        Identifier: ' index'
  ClassDeclaration
    ExportKeyword
    Identifier: ' TestServerCancellationToken'
    HeritageClause
      ExpressionWithTypeArguments
        PropertyAccessExpression
          PropertyAccessExpression
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'ServerCancellationToken'
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' currentId'
      UnionType
        NumberKeyword
        UndefinedKeyword
      PrefixUnaryExpression
        NumericLiteral
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' requestToCancel'
      PrefixUnaryExpression
        NumericLiteral
    PropertyDeclaration
      PrivateKeyword
      Identifier: ' isCancellationRequestedCount'
      NumericLiteral
    Constructor
      Parameter
        PrivateKeyword
        Identifier: ' logger'
        TypeReference
          Identifier: ' LoggerWithInMemoryLogs'
      Parameter
        PrivateKeyword
        Identifier: ' cancelAfterRequest'
        NumericLiteral
      Block
    MethodDeclaration
      Identifier: '

    setRequest'
      Parameter
        Identifier: 'requestId'
        NumberKeyword
      VoidKeyword
      Block
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'currentId'
            EqualsToken
            Identifier: ' requestId'
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'logger'
              Identifier: 'log'
            TemplateExpression
              TemplateHead
              TemplateSpan
                Identifier: 'requestId'
                TemplateTail
    MethodDeclaration
      Identifier: '

    setRequestToCancel'
      Parameter
        Identifier: 'requestId'
        NumberKeyword
      VoidKeyword
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'logger'
              Identifier: 'log'
            TemplateExpression
              TemplateHead
              TemplateSpan
                Identifier: 'requestId'
                TemplateTail
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'resetToken'
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'requestToCancel'
            EqualsToken
            Identifier: ' requestId'
    MethodDeclaration
      Identifier: '

    resetRequest'
      Parameter
        Identifier: 'requestId'
        NumberKeyword
      VoidKeyword
      Block
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              PropertyAccessExpression
                ThisKeyword
                Identifier: 'logger'
              Identifier: 'log'
            TemplateExpression
              TemplateHead
              TemplateSpan
                Identifier: 'requestId'
                TemplateMiddle
              TemplateSpan
                ConditionalExpression
                  BinaryExpression
                    Identifier: 'requestId'
                    EqualsEqualsEqualsToken
                    PropertyAccessExpression
                      ThisKeyword
                      Identifier: 'currentId'
                  QuestionToken
                  StringLiteral
                  ColonToken
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      PropertyAccessExpression
                        ThisKeyword
                        Identifier: 'currentId'
                      TemplateTail
                TemplateTail
        ExpressionStatement
          CallExpression
            PropertyAccessExpression
              Identifier: '
        assert'
              Identifier: 'equal'
            Identifier: 'requestId'
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'currentId'
            StringLiteral
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'currentId'
            EqualsToken
            Identifier: ' undefined'
    MethodDeclaration
      Identifier: '

    isCancellationRequested'
      BooleanKeyword
      Block
        ExpressionStatement
          PostfixUnaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'isCancellationRequestedCount'
        VariableStatement
          VariableDeclarationList
            VariableDeclaration
              Identifier: ' result'
              BinaryExpression
                BinaryExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'requestToCancel'
                  EqualsEqualsEqualsToken
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'currentId'
                AmpersandAmpersandToken
                BinaryExpression
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'isCancellationRequestedCount'
                  GreaterThanEqualsToken
                  PropertyAccessExpression
                    ThisKeyword
                    Identifier: 'cancelAfterRequest'
        IfStatement
          Identifier: 'result'
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  ThisKeyword
                  Identifier: 'logger'
                Identifier: 'log'
              NoSubstitutionTemplateLiteral
        ReturnStatement
          Identifier: ' result'
    MethodDeclaration
      Identifier: '

    resetToken'
      VoidKeyword
      Block
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'currentId'
            EqualsToken
            PrefixUnaryExpression
              NumericLiteral
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'isCancellationRequestedCount'
            EqualsToken
            NumericLiteral
        ExpressionStatement
          BinaryExpression
            PropertyAccessExpression
              ThisKeyword
              Identifier: 'requestToCancel'
            EqualsToken
            PrefixUnaryExpression
              NumericLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' openFilesForSession'
    Parameter
      Identifier: '
    files'
      TypeOperator
        ArrayType
          ParenthesizedType
            UnionType
              StringKeyword
              TypeReference
                Identifier: ' File'
              TypeLiteral
                PropertySignature
                  ReadonlyKeyword
                  Identifier: ' file'
                  UnionType
                    TypeReference
                      Identifier: ' File'
                    StringKeyword
                PropertySignature
                  ReadonlyKeyword
                  Identifier: ' projectRootPath'
                  QuestionToken
                  StringKeyword
                PropertySignature
                  Identifier: '
        content'
                  QuestionToken
                  StringKeyword
                PropertySignature
                  Identifier: '
        scriptKindName'
                  QuestionToken
                  TypeReference
                    QualifiedName
                      QualifiedName
                        QualifiedName
                          Identifier: ' ts'
                          Identifier: 'server'
                        Identifier: 'protocol'
                      Identifier: 'ScriptKindName'
    Parameter
      Identifier: '
    session'
      TypeReference
        Identifier: ' TestSession'
    VoidKeyword
    Block
      ForOfStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' file'
        Identifier: ' files'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        session'
                Identifier: 'executeCommandSeq'
              TypeReference
                QualifiedName
                  QualifiedName
                    QualifiedName
                      Identifier: 'ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'OpenRequest'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            command'
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'server'
                        Identifier: 'protocol'
                      Identifier: 'CommandTypes'
                    Identifier: 'Open'
                PropertyAssignment
                  Identifier: '
            arguments'
                  ConditionalExpression
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' ts'
                        Identifier: 'isString'
                      Identifier: 'file'
                    QuestionToken
                    ObjectLiteralExpression
                      ShorthandPropertyAssignment
                        Identifier: ' file'
                    ColonToken
                    ConditionalExpression
                      BinaryExpression
                        StringLiteral
                        InKeyword
                        Identifier: ' file'
                      QuestionToken
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
                    file'
                          ConditionalExpression
                            BinaryExpression
                              TypeOfExpression
                                PropertyAccessExpression
                                  Identifier: ' file'
                                  Identifier: 'file'
                              EqualsEqualsEqualsToken
                              StringLiteral
                            QuestionToken
                            PropertyAccessExpression
                              Identifier: ' file'
                              Identifier: 'file'
                            ColonToken
                            PropertyAccessExpression
                              PropertyAccessExpression
                                Identifier: ' file'
                                Identifier: 'file'
                              Identifier: 'path'
                        PropertyAssignment
                          Identifier: '
                    projectRootPath'
                          PropertyAccessExpression
                            Identifier: ' file'
                            Identifier: 'projectRootPath'
                        PropertyAssignment
                          Identifier: '
                    fileContent'
                          PropertyAccessExpression
                            Identifier: ' file'
                            Identifier: 'content'
                        PropertyAssignment
                          Identifier: '
                    scriptKindName'
                          PropertyAccessExpression
                            Identifier: ' file'
                            Identifier: 'scriptKindName'
                      ColonToken
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: ' file'
                          PropertyAccessExpression
                            Identifier: ' file'
                            Identifier: 'path'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' projectInfoForSession'
    Parameter
      Identifier: '
    session'
      TypeReference
        Identifier: ' TestSession'
    Parameter
      Identifier: '
    file'
      UnionType
        StringKeyword
        TypeReference
          Identifier: ' File'
    Block
      ReturnStatement
        AsExpression
          PropertyAccessExpression
            CallExpression
              PropertyAccessExpression
                Identifier: ' session'
                Identifier: 'executeCommandSeq'
              TypeReference
                QualifiedName
                  QualifiedName
                    QualifiedName
                      Identifier: 'ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'ProjectInfoRequest'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
        command'
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'server'
                        Identifier: 'protocol'
                      Identifier: 'CommandTypes'
                    Identifier: 'ProjectInfo'
                PropertyAssignment
                  Identifier: '
        arguments'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: '
            file'
                      ConditionalExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'isString'
                          Identifier: 'file'
                        QuestionToken
                        Identifier: ' file'
                        ColonToken
                        PropertyAccessExpression
                          Identifier: ' file'
                          Identifier: 'path'
                    PropertyAssignment
                      Identifier: '
            needFileNameList'
                      FalseKeyword
                    PropertyAssignment
                      Identifier: '
            needDefaultConfiguredProjectInfo'
                      TrueKeyword
            Identifier: 'response'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: ' ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'ProjectInfo'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' closeFilesForSession'
    Parameter
      Identifier: 'files'
      TypeOperator
        ArrayType
          ParenthesizedType
            UnionType
              TypeReference
                Identifier: 'File'
              StringKeyword
    Parameter
      Identifier: ' session'
      TypeReference
        Identifier: ' TestSession'
    VoidKeyword
    Block
      ForOfStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' file'
        Identifier: ' files'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                Identifier: '
        session'
                Identifier: 'executeCommandSeq'
              TypeReference
                QualifiedName
                  QualifiedName
                    QualifiedName
                      Identifier: 'ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'CloseRequest'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            command'
                  PropertyAccessExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        PropertyAccessExpression
                          Identifier: ' ts'
                          Identifier: 'server'
                        Identifier: 'protocol'
                      Identifier: 'CommandTypes'
                    Identifier: 'Close'
                PropertyAssignment
                  Identifier: '
            arguments'
                  ObjectLiteralExpression
                    PropertyAssignment
                      Identifier: ' file'
                      ConditionalExpression
                        CallExpression
                          PropertyAccessExpression
                            Identifier: ' ts'
                            Identifier: 'isString'
                          Identifier: 'file'
                        QuestionToken
                        Identifier: ' file'
                        ColonToken
                        PropertyAccessExpression
                          Identifier: ' file'
                          Identifier: 'path'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' openExternalProjectForSession'
    Parameter
      Identifier: 'project'
      TypeReference
        QualifiedName
          QualifiedName
            QualifiedName
              Identifier: ' ts'
              Identifier: 'server'
            Identifier: 'protocol'
          Identifier: 'ExternalProject'
    Parameter
      Identifier: ' session'
      TypeReference
        Identifier: ' TestSession'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    session'
            Identifier: 'executeCommandSeq'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'OpenExternalProjectRequest'
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: '
        command'
              PropertyAccessExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'CommandTypes'
                Identifier: 'OpenExternalProject'
            PropertyAssignment
              Identifier: '
        arguments'
              Identifier: ' project'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' openExternalProjectsForSession'
    Parameter
      Identifier: 'projects'
      ArrayType
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'protocol'
            Identifier: 'ExternalProject'
    Parameter
      Identifier: ' session'
      TypeReference
        Identifier: ' TestSession'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    session'
            Identifier: 'executeCommandSeq'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'OpenExternalProjectsRequest'
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: '
        command'
              PropertyAccessExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'CommandTypes'
                Identifier: 'OpenExternalProjects'
            PropertyAssignment
              Identifier: '
        arguments'
              ObjectLiteralExpression
                ShorthandPropertyAssignment
                  Identifier: ' projects'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' setCompilerOptionsForInferredProjectsRequestForSession'
    Parameter
      Identifier: '
    options'
      UnionType
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'protocol'
            Identifier: 'InferredProjectCompilerOptions'
        TypeReference
          QualifiedName
            QualifiedName
              QualifiedName
                Identifier: ' ts'
                Identifier: 'server'
              Identifier: 'protocol'
            Identifier: 'SetCompilerOptionsForInferredProjectsArgs'
    Parameter
      Identifier: '
    session'
      TypeReference
        Identifier: ' TestSession'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    session'
            Identifier: 'executeCommandSeq'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'SetCompilerOptionsForInferredProjectsRequest'
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: '
        command'
              PropertyAccessExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'CommandTypes'
                Identifier: 'CompilerOptionsForInferredProjects'
            PropertyAssignment
              Identifier: '
        arguments'
              ConditionalExpression
                BinaryExpression
                  StringLiteral
                  InKeyword
                  Identifier: ' options'
                QuestionToken
                AsExpression
                  Identifier: ' // eslint-disable-line local/no-in-operator
            options'
                  TypeReference
                    QualifiedName
                      QualifiedName
                        QualifiedName
                          Identifier: ' ts'
                          Identifier: 'server'
                        Identifier: 'protocol'
                      Identifier: 'SetCompilerOptionsForInferredProjectsArgs'
                ColonToken
                ObjectLiteralExpression
                  ShorthandPropertyAssignment
                    Identifier: ' options'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' logDiagnostics'
    Parameter
      Identifier: 'sessionOrService'
      TypeReference
        Identifier: ' TestSession'
    Parameter
      Identifier: ' diagnosticsType'
      StringKeyword
    Parameter
      Identifier: ' project'
      TypeReference
        QualifiedName
          QualifiedName
            Identifier: ' ts'
            Identifier: 'server'
          Identifier: 'Project'
    Parameter
      Identifier: ' diagnostics'
      TypeOperator
        ArrayType
          TypeReference
            QualifiedName
              Identifier: ' ts'
              Identifier: 'Diagnostic'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            PropertyAccessExpression
              Identifier: '
    sessionOrService'
              Identifier: 'logger'
            Identifier: 'info'
          TemplateExpression
            TemplateHead
            TemplateSpan
              Identifier: 'diagnosticsType'
              TemplateMiddle
            TemplateSpan
              PropertyAccessExpression
                Identifier: 'diagnostics'
                Identifier: 'length'
              TemplateTail
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    diagnostics'
            Identifier: 'forEach'
          ArrowFunction
            Parameter
              Identifier: 'd'
            EqualsGreaterThanToken
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: ' sessionOrService'
                  Identifier: 'logger'
                Identifier: 'info'
              CallExpression
                PropertyAccessExpression
                  Identifier: 'ts'
                  Identifier: 'formatDiagnostic'
                Identifier: 'd'
                Identifier: ' project'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' VerifyGetErrRequestBase'
    PropertySignature
      Identifier: '
    session'
      TypeReference
        Identifier: ' TestSession'
    PropertySignature
      Identifier: '
    existingTimeouts'
      QuestionToken
      BooleanKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' VerifyGetErrRequest'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' VerifyGetErrRequestBase'
    PropertySignature
      Identifier: '
    files'
      TypeOperator
        ArrayType
          ParenthesizedType
            UnionType
              StringKeyword
              TypeReference
                Identifier: ' File'
              TypeReference
                Identifier: ' FileRangesRequestArgs'
    PropertySignature
      Identifier: '
    skip'
      QuestionToken
      IndexedAccessType
        TypeReference
          Identifier: ' CheckAllErrors'
        LiteralType
          StringLiteral
  FunctionDeclaration
    ExportKeyword
    Identifier: ' verifyGetErrRequest'
    Parameter
      Identifier: 'request'
      TypeReference
        Identifier: ' VerifyGetErrRequest'
    VoidKeyword
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            ObjectBindingPattern
              BindingElement
                Identifier: ' session'
              BindingElement
                Identifier: ' files'
            Identifier: ' request'
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    session'
            Identifier: 'executeCommandSeq'
          TypeReference
            QualifiedName
              QualifiedName
                QualifiedName
                  Identifier: 'ts'
                  Identifier: 'server'
                Identifier: 'protocol'
              Identifier: 'GeterrRequest'
          ObjectLiteralExpression
            PropertyAssignment
              Identifier: '
        command'
              PropertyAccessExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: ' ts'
                      Identifier: 'server'
                    Identifier: 'protocol'
                  Identifier: 'CommandTypes'
                Identifier: 'Geterr'
            PropertyAssignment
              Identifier: '
        arguments'
              ObjectLiteralExpression
                PropertyAssignment
                  Identifier: '
            delay'
                  NumericLiteral
                PropertyAssignment
                  Identifier: '
            files'
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' files'
                      Identifier: 'map'
                    ArrowFunction
                      Parameter
                        Identifier: 'file'
                      EqualsGreaterThanToken
                      Block
                        IfStatement
                          BinaryExpression
                            BinaryExpression
                              TypeOfExpression
                                Identifier: ' file'
                              ExclamationEqualsEqualsToken
                              StringLiteral
                            AmpersandAmpersandToken
                            PrefixUnaryExpression
                              PropertyAccessExpression
                                ParenthesizedExpression
                                  AsExpression
                                    Identifier: 'file'
                                    TypeReference
                                      Identifier: ' FileRangesRequestArgs'
                                Identifier: 'ranges'
                          Block
                            ReturnStatement
                              CallExpression
                                Identifier: ' filePath'
                                AsExpression
                                  Identifier: 'file'
                                  TypeReference
                                    Identifier: ' File'
                        ReturnStatement
                          AsExpression
                            Identifier: ' file'
                            UnionType
                              StringKeyword
                              TypeReference
                                Identifier: ' FileRangesRequestArgs'
      ExpressionStatement
        CallExpression
          Identifier: '
    checkAllErrors'
          Identifier: 'request'
  InterfaceDeclaration
    Identifier: ' SkipErrors'
    PropertySignature
      Identifier: '
    semantic'
      QuestionToken
      LiteralType
        TrueKeyword
    PropertySignature
      Identifier: '
    suggestion'
      QuestionToken
      LiteralType
        TrueKeyword
    PropertySignature
      Identifier: '
    /** Region semantic checking will only happen if this is */
    regionSemantic'
      QuestionToken
      LiteralType
        FalseKeyword
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' CheckAllErrors'
    HeritageClause
      ExpressionWithTypeArguments
        Identifier: ' VerifyGetErrRequestBase'
    PropertySignature
      Identifier: '
    files'
      TypeOperator
        ArrayType
          AnyKeyword
    PropertySignature
      Identifier: '
    skip'
      QuestionToken
      TypeOperator
        ArrayType
          ParenthesizedType
            UnionType
              TypeReference
                Identifier: 'SkipErrors'
              UndefinedKeyword
  FunctionDeclaration
    Identifier: ' checkAllErrors'
    Parameter
      ObjectBindingPattern
        BindingElement
          Identifier: ' session'
        BindingElement
          Identifier: ' existingTimeouts'
        BindingElement
          Identifier: ' files'
        BindingElement
          Identifier: ' skip'
      TypeReference
        Identifier: ' CheckAllErrors'
    Block
      ForStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' i'
            NumericLiteral
        BinaryExpression
          Identifier: ' i'
          LessThanToken
          PropertyAccessExpression
            Identifier: ' files'
            Identifier: 'length'
        PostfixUnaryExpression
          Identifier: ' i'
        Block
          ExpressionStatement
            CallExpression
              PropertyAccessExpression
                PropertyAccessExpression
                  Identifier: '
        session'
                  Identifier: 'host'
                Identifier: 'runQueuedTimeoutCallbacks'
              ConditionalExpression
                Identifier: 'existingTimeouts'
                QuestionToken
                BinaryExpression
                  CallExpression
                    PropertyAccessExpression
                      PropertyAccessExpression
                        Identifier: ' session'
                        Identifier: 'host'
                      Identifier: 'getNextTimeoutId'
                  MinusToken
                  NumericLiteral
                ColonToken
                Identifier: ' undefined'
          IfStatement
            BinaryExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: 'skip'
                  QuestionDotToken
                  Identifier: 'i'
                QuestionDotToken
                Identifier: 'regionSemantic'
              EqualsEqualsEqualsToken
              FalseKeyword
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' session'
                    Identifier: 'host'
                  Identifier: 'runQueuedImmediateCallbacks'
          IfStatement
            PrefixUnaryExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: 'skip'
                  QuestionDotToken
                  Identifier: 'i'
                QuestionDotToken
                Identifier: 'semantic'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' session'
                    Identifier: 'host'
                  Identifier: 'runQueuedImmediateCallbacks'
          IfStatement
            PrefixUnaryExpression
              PropertyAccessExpression
                ElementAccessExpression
                  Identifier: 'skip'
                  QuestionDotToken
                  Identifier: 'i'
                QuestionDotToken
                Identifier: 'suggestion'
            ExpressionStatement
              CallExpression
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: ' session'
                    Identifier: 'host'
                  Identifier: 'runQueuedImmediateCallbacks'
  FunctionDeclaration
    Identifier: ' filePath'
    Parameter
      Identifier: 'file'
      UnionType
        StringKeyword
        TypeReference
          Identifier: ' File'
    Block
      ReturnStatement
        ConditionalExpression
          CallExpression
            PropertyAccessExpression
              Identifier: ' ts'
              Identifier: 'isString'
            Identifier: 'file'
          QuestionToken
          Identifier: ' file'
          ColonToken
          PropertyAccessExpression
            Identifier: ' file'
            Identifier: 'path'
  FunctionDeclaration
    Identifier: ' verifyErrorsUsingGeterr'
    Parameter
      ObjectBindingPattern
        BindingElement
          Identifier: ' scenario'
        BindingElement
          Identifier: ' subScenario'
        BindingElement
          Identifier: ' allFiles'
        BindingElement
          Identifier: ' openFiles'
        BindingElement
          Identifier: ' getErrRequest'
      TypeReference
        Identifier: ' VerifyGetErrScenario'
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
    it'
          StringLiteral
          ArrowFunction
            EqualsGreaterThanToken
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' host'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' TestServerHost'
                        Identifier: 'createServerHost'
                      CallExpression
                        Identifier: 'allFiles'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' session'
                    NewExpression
                      Identifier: ' TestSession'
                      Identifier: 'host'
              ExpressionStatement
                CallExpression
                  Identifier: '
        openFilesForSession'
                  CallExpression
                    Identifier: 'openFiles'
                  Identifier: ' session'
              ExpressionStatement
                CallExpression
                  Identifier: '

        verifyGetErrRequest'
                  ObjectLiteralExpression
                    ShorthandPropertyAssignment
                      Identifier: ' session'
                    PropertyAssignment
                      Identifier: ' files'
                      CallExpression
                        Identifier: ' getErrRequest'
              ExpressionStatement
                CallExpression
                  Identifier: '
        baselineTsserverLogs'
                  Identifier: 'scenario'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      Identifier: 'subScenario'
                      TemplateTail
                  Identifier: ' session'
  FunctionDeclaration
    Identifier: ' verifyErrorsUsingGeterrForProject'
    Parameter
      ObjectBindingPattern
        BindingElement
          Identifier: ' scenario'
        BindingElement
          Identifier: ' subScenario'
        BindingElement
          Identifier: ' allFiles'
        BindingElement
          Identifier: ' openFiles'
        BindingElement
          Identifier: ' getErrForProjectRequest'
      TypeReference
        Identifier: ' VerifyGetErrScenario'
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
    it'
          StringLiteral
          ArrowFunction
            EqualsGreaterThanToken
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' host'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' TestServerHost'
                        Identifier: 'createServerHost'
                      CallExpression
                        Identifier: 'allFiles'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' session'
                    NewExpression
                      Identifier: ' TestSession'
                      Identifier: 'host'
              ExpressionStatement
                CallExpression
                  Identifier: '
        openFilesForSession'
                  CallExpression
                    Identifier: 'openFiles'
                  Identifier: ' session'
              ForOfStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' expected'
                CallExpression
                  Identifier: ' getErrForProjectRequest'
                Block
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'GeterrForProjectRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
                command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'GeterrForProject'
                        PropertyAssignment
                          Identifier: '
                arguments'
                          ObjectLiteralExpression
                            PropertyAssignment
                              Identifier: ' delay'
                              NumericLiteral
                            PropertyAssignment
                              Identifier: ' file'
                              CallExpression
                                Identifier: ' filePath'
                                PropertyAccessExpression
                                  Identifier: 'expected'
                                  Identifier: 'project'
                  ExpressionStatement
                    CallExpression
                      Identifier: '
            checkAllErrors'
                      ObjectLiteralExpression
                        ShorthandPropertyAssignment
                          Identifier: ' session'
                        PropertyAssignment
                          Identifier: ' files'
                          PropertyAccessExpression
                            Identifier: ' expected'
                            Identifier: 'files'
              ExpressionStatement
                CallExpression
                  Identifier: '
        baselineTsserverLogs'
                  Identifier: 'scenario'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      Identifier: 'subScenario'
                      TemplateTail
                  Identifier: ' session'
  FunctionDeclaration
    Identifier: ' verifyErrorsUsingSyncMethods'
    Parameter
      ObjectBindingPattern
        BindingElement
          Identifier: ' scenario'
        BindingElement
          Identifier: ' subScenario'
        BindingElement
          Identifier: ' allFiles'
        BindingElement
          Identifier: ' openFiles'
        BindingElement
          Identifier: ' syncDiagnostics'
      TypeReference
        Identifier: ' VerifyGetErrScenario'
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
    it'
          StringLiteral
          ArrowFunction
            EqualsGreaterThanToken
            Block
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' host'
                    CallExpression
                      PropertyAccessExpression
                        Identifier: ' TestServerHost'
                        Identifier: 'createServerHost'
                      CallExpression
                        Identifier: 'allFiles'
              VariableStatement
                VariableDeclarationList
                  VariableDeclaration
                    Identifier: ' session'
                    NewExpression
                      Identifier: ' TestSession'
                      Identifier: 'host'
              ExpressionStatement
                CallExpression
                  Identifier: '
        openFilesForSession'
                  CallExpression
                    Identifier: 'openFiles'
                  Identifier: ' session'
              ForOfStatement
                VariableDeclarationList
                  VariableDeclaration
                    ObjectBindingPattern
                      BindingElement
                        Identifier: ' file'
                      BindingElement
                        Identifier: ' project'
                CallExpression
                  Identifier: ' syncDiagnostics'
                Block
                  VariableStatement
                    VariableDeclarationList
                      VariableDeclaration
                        Identifier: ' reqArgs'
                        ObjectLiteralExpression
                          PropertyAssignment
                            Identifier: ' file'
                            CallExpression
                              Identifier: ' filePath'
                              Identifier: 'file'
                          PropertyAssignment
                            Identifier: ' projectFileName'
                            BinaryExpression
                              Identifier: ' project'
                              AmpersandAmpersandToken
                              CallExpression
                                Identifier: ' filePath'
                                Identifier: 'project'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'SyntacticDiagnosticsSyncRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
                command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'SyntacticDiagnosticsSync'
                        PropertyAssignment
                          Identifier: '
                arguments'
                          Identifier: ' reqArgs'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'SemanticDiagnosticsSyncRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
                command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'SemanticDiagnosticsSync'
                        PropertyAssignment
                          Identifier: '
                arguments'
                          Identifier: ' reqArgs'
                  ExpressionStatement
                    CallExpression
                      PropertyAccessExpression
                        Identifier: '
            session'
                        Identifier: 'executeCommandSeq'
                      TypeReference
                        QualifiedName
                          QualifiedName
                            QualifiedName
                              Identifier: 'ts'
                              Identifier: 'server'
                            Identifier: 'protocol'
                          Identifier: 'SuggestionDiagnosticsSyncRequest'
                      ObjectLiteralExpression
                        PropertyAssignment
                          Identifier: '
                command'
                          PropertyAccessExpression
                            PropertyAccessExpression
                              PropertyAccessExpression
                                PropertyAccessExpression
                                  Identifier: ' ts'
                                  Identifier: 'server'
                                Identifier: 'protocol'
                              Identifier: 'CommandTypes'
                            Identifier: 'SuggestionDiagnosticsSync'
                        PropertyAssignment
                          Identifier: '
                arguments'
                          Identifier: ' reqArgs'
              ExpressionStatement
                CallExpression
                  Identifier: '
        baselineTsserverLogs'
                  Identifier: 'scenario'
                  TemplateExpression
                    TemplateHead
                    TemplateSpan
                      Identifier: 'subScenario'
                      TemplateTail
                  Identifier: ' session'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' GetErrForProjectDiagnostics'
    PropertySignature
      Identifier: '
    project'
      UnionType
        StringKeyword
        TypeReference
          Identifier: ' File'
    PropertySignature
      Identifier: '
    files'
      TypeOperator
        ArrayType
          ParenthesizedType
            UnionType
              StringKeyword
              TypeReference
                Identifier: ' File'
    PropertySignature
      Identifier: '
    skip'
      QuestionToken
      IndexedAccessType
        TypeReference
          Identifier: ' CheckAllErrors'
        LiteralType
          StringLiteral
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' SyncDiagnostics'
    PropertySignature
      Identifier: '
    file'
      UnionType
        StringKeyword
        TypeReference
          Identifier: ' File'
    PropertySignature
      Identifier: '
    project'
      QuestionToken
      UnionType
        StringKeyword
        TypeReference
          Identifier: ' File'
  InterfaceDeclaration
    ExportKeyword
    Identifier: ' VerifyGetErrScenario'
    PropertySignature
      Identifier: '
    scenario'
      StringKeyword
    PropertySignature
      Identifier: '
    subScenario'
      StringKeyword
    PropertySignature
      Identifier: '
    allFiles'
      FunctionType
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' File'
    PropertySignature
      Identifier: '
    openFiles'
      FunctionType
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' File'
    PropertySignature
      Identifier: '
    getErrRequest'
      FunctionType
        IndexedAccessType
          TypeReference
            Identifier: ' VerifyGetErrRequest'
          LiteralType
            StringLiteral
    PropertySignature
      Identifier: '
    getErrForProjectRequest'
      FunctionType
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' GetErrForProjectDiagnostics'
    PropertySignature
      Identifier: '
    syncDiagnostics'
      FunctionType
        TypeOperator
          ArrayType
            TypeReference
              Identifier: ' SyncDiagnostics'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' verifyGetErrScenario'
    Parameter
      Identifier: 'scenario'
      TypeReference
        Identifier: ' VerifyGetErrScenario'
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          Identifier: '
    verifyErrorsUsingGeterr'
          Identifier: 'scenario'
      ExpressionStatement
        CallExpression
          Identifier: '
    verifyErrorsUsingGeterrForProject'
          Identifier: 'scenario'
      ExpressionStatement
        CallExpression
          Identifier: '
    verifyErrorsUsingSyncMethods'
          Identifier: 'scenario'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' createHostWithSolutionBuild'
    Parameter
      Identifier: 'files'
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' FileOrFolderOrSymLink'
    Parameter
      Identifier: ' rootNames'
      TypeOperator
        ArrayType
          StringKeyword
    TypeReference
      Identifier: ' TestServerHost'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' host'
            CallExpression
              PropertyAccessExpression
                Identifier: ' TestServerHost'
                Identifier: 'createServerHost'
              Identifier: 'files'
      ExpressionStatement
        CallExpression
          Identifier: '
    // ts build should succeed
    ensureErrorFreeBuild'
          Identifier: 'host'
          Identifier: ' rootNames'
      ReturnStatement
        Identifier: ' host'
  FunctionDeclaration
    ExportKeyword
    Identifier: ' forEachTscWatchEdit'
    Parameter
      Identifier: '
    session'
      TypeReference
        Identifier: ' TestSession'
    Parameter
      Identifier: '
    edits'
      TypeOperator
        ArrayType
          TypeReference
            Identifier: ' TscWatchCompileChange'
    Parameter
      Identifier: '
    action'
      FunctionType
        VoidKeyword
    VoidKeyword
    Block
      ExpressionStatement
        CallExpression
          PropertyAccessExpression
            Identifier: '
    edits'
            Identifier: 'forEach'
          ArrowFunction
            Parameter
              Identifier: 'edit'
            EqualsGreaterThanToken
            Block
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    PropertyAccessExpression
                      Identifier: '
        session'
                      Identifier: 'logger'
                    Identifier: 'log'
                  PropertyAccessExpression
                    Identifier: 'edit'
                    Identifier: 'caption'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        edit'
                    Identifier: 'edit'
                  PropertyAccessExpression
                    Identifier: 'session'
                    Identifier: 'host'
              IfStatement
                PropertyAccessExpression
                  PropertyAccessExpression
                    Identifier: 'session'
                    Identifier: 'watchChanges'
                  Identifier: 'size'
                ExpressionStatement
                  CallExpression
                    PropertyAccessExpression
                      Identifier: ' session'
                      Identifier: 'invokeWatchChanges'
              ExpressionStatement
                CallExpression
                  PropertyAccessExpression
                    Identifier: '
        edit'
                    Identifier: 'timeouts'
                  PropertyAccessExpression
                    Identifier: 'session'
                    Identifier: 'host'
                  NonNullExpression
                    Identifier: ' undefined'
                  NonNullExpression
                    Identifier: ' undefined'
              ExpressionStatement
                CallExpression
                  Identifier: '
        action'
