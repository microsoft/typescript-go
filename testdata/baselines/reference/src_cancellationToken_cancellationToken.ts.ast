SourceFile
  ImportDeclaration
    ImportClause
      NamespaceImport
        Identifier: ' fs'
    StringLiteral
  InterfaceDeclaration
    Identifier: ' ServerCancellationToken'
    MethodSignature
      Identifier: '
    isCancellationRequested'
      BooleanKeyword
    MethodSignature
      Identifier: '
    setRequest'
      Parameter
        Identifier: 'requestId'
        NumberKeyword
      VoidKeyword
    MethodSignature
      Identifier: '
    resetRequest'
      Parameter
        Identifier: 'requestId'
        NumberKeyword
      VoidKeyword
  FunctionDeclaration
    Identifier: ' pipeExists'
    Parameter
      Identifier: 'name'
      StringKeyword
    BooleanKeyword
    Block
      ReturnStatement
        CallExpression
          PropertyAccessExpression
            Identifier: ' fs'
            Identifier: 'existsSync'
          Identifier: 'name'
  FunctionDeclaration
    Identifier: ' createCancellationToken'
    Parameter
      Identifier: 'args'
      ArrayType
        StringKeyword
    TypeReference
      Identifier: ' ServerCancellationToken'
    Block
      VariableStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' cancellationPipeName'
            UnionType
              StringKeyword
              UndefinedKeyword
      ForStatement
        VariableDeclarationList
          VariableDeclaration
            Identifier: ' i'
            NumericLiteral
        BinaryExpression
          Identifier: ' i'
          LessThanToken
          BinaryExpression
            PropertyAccessExpression
              Identifier: ' args'
              Identifier: 'length'
            MinusToken
            NumericLiteral
        PostfixUnaryExpression
          Identifier: ' i'
        Block
          IfStatement
            BinaryExpression
              ElementAccessExpression
                Identifier: 'args'
                Identifier: 'i'
              EqualsEqualsEqualsToken
              StringLiteral
            Block
              ExpressionStatement
                BinaryExpression
                  Identifier: '
            cancellationPipeName'
                  EqualsToken
                  ElementAccessExpression
                    Identifier: ' args'
                    BinaryExpression
                      Identifier: 'i'
                      PlusToken
                      NumericLiteral
              BreakStatement
      IfStatement
        PrefixUnaryExpression
          Identifier: 'cancellationPipeName'
        Block
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
            isCancellationRequested'
                ArrowFunction
                  EqualsGreaterThanToken
                  FalseKeyword
              PropertyAssignment
                Identifier: '
            setRequest'
                ArrowFunction
                  Parameter
                    Identifier: '_requestId'
                    NumberKeyword
                  VoidKeyword
                  EqualsGreaterThanToken
                  VoidExpression
                    NumericLiteral
              PropertyAssignment
                Identifier: '
            resetRequest'
                ArrowFunction
                  Parameter
                    Identifier: '_requestId'
                    NumberKeyword
                  VoidKeyword
                  EqualsGreaterThanToken
                  VoidExpression
                    NumericLiteral
      IfStatement
        BinaryExpression
          CallExpression
            PropertyAccessExpression
              Identifier: 'cancellationPipeName'
              Identifier: 'charAt'
            BinaryExpression
              PropertyAccessExpression
                Identifier: 'cancellationPipeName'
                Identifier: 'length'
              MinusToken
              NumericLiteral
          EqualsEqualsEqualsToken
          StringLiteral
        Block
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' namePrefix'
                CallExpression
                  PropertyAccessExpression
                    Identifier: ' cancellationPipeName'
                    Identifier: 'slice'
                  NumericLiteral
                  PrefixUnaryExpression
                    NumericLiteral
          IfStatement
            BinaryExpression
              BinaryExpression
                PropertyAccessExpression
                  Identifier: 'namePrefix'
                  Identifier: 'length'
                EqualsEqualsEqualsToken
                NumericLiteral
              BarBarToken
              CallExpression
                PropertyAccessExpression
                  Identifier: ' namePrefix'
                  Identifier: 'includes'
                StringLiteral
            Block
              ThrowStatement
                NewExpression
                  Identifier: ' Error'
                  StringLiteral
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' perRequestPipeName'
                UnionType
                  StringKeyword
                  UndefinedKeyword
          VariableStatement
            VariableDeclarationList
              VariableDeclaration
                Identifier: ' currentRequestId'
                NumberKeyword
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
            isCancellationRequested'
                ArrowFunction
                  EqualsGreaterThanToken
                  BinaryExpression
                    BinaryExpression
                      Identifier: ' perRequestPipeName'
                      ExclamationEqualsEqualsToken
                      Identifier: ' undefined'
                    AmpersandAmpersandToken
                    CallExpression
                      Identifier: ' pipeExists'
                      Identifier: 'perRequestPipeName'
              MethodDeclaration
                Identifier: '
            setRequest'
                Parameter
                  Identifier: 'requestId'
                  NumberKeyword
                Block
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                currentRequestId'
                      EqualsToken
                      Identifier: ' requestId'
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                perRequestPipeName'
                      EqualsToken
                      BinaryExpression
                        Identifier: ' namePrefix'
                        PlusToken
                        Identifier: ' requestId'
              MethodDeclaration
                Identifier: '
            resetRequest'
                Parameter
                  Identifier: 'requestId'
                  NumberKeyword
                Block
                  IfStatement
                    BinaryExpression
                      Identifier: 'currentRequestId'
                      ExclamationEqualsEqualsToken
                      Identifier: ' requestId'
                    Block
                      ThrowStatement
                        NewExpression
                          Identifier: ' Error'
                          TemplateExpression
                            TemplateHead
                            TemplateSpan
                              Identifier: 'currentRequestId'
                              TemplateMiddle
                            TemplateSpan
                              Identifier: 'requestId'
                              TemplateTail
                  ExpressionStatement
                    BinaryExpression
                      Identifier: '
                perRequestPipeName'
                      EqualsToken
                      Identifier: ' undefined'
        Block
          ReturnStatement
            ObjectLiteralExpression
              PropertyAssignment
                Identifier: '
            isCancellationRequested'
                ArrowFunction
                  EqualsGreaterThanToken
                  CallExpression
                    Identifier: ' pipeExists'
                    Identifier: 'cancellationPipeName'
              PropertyAssignment
                Identifier: '
            setRequest'
                ArrowFunction
                  Parameter
                    Identifier: '_requestId'
                    NumberKeyword
                  VoidKeyword
                  EqualsGreaterThanToken
                  VoidExpression
                    NumericLiteral
              PropertyAssignment
                Identifier: '
            resetRequest'
                ArrowFunction
                  Parameter
                    Identifier: '_requestId'
                    NumberKeyword
                  VoidKeyword
                  EqualsGreaterThanToken
                  VoidExpression
                    NumericLiteral
  ExportAssignment
    Identifier: ' createCancellationToken'
